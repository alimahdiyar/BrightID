{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Switch from \"react-native-web/dist/exports/Switch\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { useTranslation } from 'react-i18next';\nimport { useActionSheet } from '@expo/react-native-action-sheet';\nimport { useFocusEffect, useNavigation } from '@react-navigation/native';\nimport { useHeaderHeight } from '@react-navigation/stack';\nimport { useIsDrawerOpen } from '@react-navigation/drawer';\nimport Material from \"@expo/vector-icons/MaterialCommunityIcons\";\nimport i18next from 'i18next';\nimport { useDispatch, useSelector } from \"../../store\";\nimport { DEVICE_IOS, DEVICE_LARGE, WIDTH } from \"../../utils/deviceConstants\";\nimport { BLACK, BLUE, DARK_BLUE, DARK_ORANGE, DARKER_GREY, GREEN, GREY, LIGHT_GREY, WHITE } from \"../../theme/colors\";\nimport { fontSize } from \"../../theme/fonts\";\nimport { chooseImage, takePhoto } from \"../../utils/images\";\nimport { photoDirectory, retrieveImage, saveImage } from \"../../utils/filesystem\";\nimport { selectSyncSocialMediaEnabled, setName, setPhoto } from \"../../actions\";\nimport Chevron from \"../Icons/Chevron\";\nimport { selectExistingSocialMedia, setProfileDisplayWidth } from \"../../reducer/socialMediaSlice\";\nimport { selectAllSocialMediaVariationsByType, selectSocialMediaVariationById } from \"../../reducer/socialMediaVariationSlice\";\nimport { SocialMediaType } from \"./socialMediaVariations\";\nimport { removeSocialMediaThunk, setSyncSocialMediaEnabledThunk } from \"./socialMediaThunks\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\n\nvar EditProfilePhoto = function EditProfilePhoto(_ref) {\n  var profilePhoto = _ref.profilePhoto,\n      setProfilePhoto = _ref.setProfilePhoto;\n\n  var _useActionSheet = useActionSheet(),\n      showActionSheetWithOptions = _useActionSheet.showActionSheetWithOptions;\n\n  var prevPhotoFilename = useSelector(function (state) {\n    return state.user.photo.filename;\n  });\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var profileSource = profilePhoto ? {\n    uri: profilePhoto\n  } : {\n    uri: \"file://\" + photoDirectory() + \"/\" + prevPhotoFilename\n  };\n\n  var getPhotoFromCamera = function _callee() {\n    var _await$takePhoto, mime, data, uri;\n\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(takePhoto());\n\n          case 3:\n            _await$takePhoto = _context.sent;\n            mime = _await$takePhoto.mime;\n            data = _await$takePhoto.data;\n            uri = \"data:\" + mime + \";base64,\" + data;\n            setProfilePhoto(uri);\n            _context.next = 13;\n            break;\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 10]], Promise);\n  };\n\n  var getPhotoFromLibrary = function _callee2() {\n    var _await$chooseImage, mime, data, uri;\n\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(chooseImage());\n\n          case 3:\n            _await$chooseImage = _context2.sent;\n            mime = _await$chooseImage.mime;\n            data = _await$chooseImage.data;\n            uri = \"data:\" + mime + \";base64,\" + data;\n            setProfilePhoto(uri);\n            _context2.next = 13;\n            break;\n\n          case 10:\n            _context2.prev = 10;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(_context2.t0);\n\n          case 13:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 10]], Promise);\n  };\n\n  var handleEditPhoto = function handleEditPhoto() {\n    showActionSheetWithOptions({\n      options: [t('common.photoActionSheet.takePhoto'), t('common.photoActionSheet.choosePhoto'), t('common.actionSheet.cancel')],\n      cancelButtonIndex: 2,\n      title: t('common.photoActionSheet.title'),\n      showSeparators: true,\n      textStyle: {\n        color: BLUE,\n        textAlign: 'center',\n        width: '100%',\n        fontSize: fontSize[18]\n      },\n      titleTextStyle: {\n        textAlign: 'center',\n        fontSize: fontSize[20],\n        width: '100%'\n      }\n    }, function (buttonIndex) {\n      if (buttonIndex === 0) {\n        getPhotoFromCamera();\n      } else if (buttonIndex === 1) {\n        getPhotoFromLibrary();\n      }\n    });\n  };\n\n  return _jsx(View, {\n    style: styles.profilePhotoContainer,\n    children: _jsxs(TouchableOpacity, {\n      testID: \"editPhoto\",\n      onPress: handleEditPhoto,\n      accessible: true,\n      accessibilityLabel: t('common.accessibilityLabel.editPhoto'),\n      style: styles.changePhotoButton,\n      children: [_jsx(Image, {\n        source: profileSource,\n        style: styles.photo,\n        resizeMode: \"cover\",\n        onError: function onError(e) {\n          console.log(e);\n        },\n        accessible: true,\n        accessibilityLabel: \"profile photo\"\n      }), _jsx(Text, {\n        style: styles.profilePhotoText,\n        children: t('profile.text.changeProfilePicture')\n      })]\n    })\n  });\n};\n\nvar EditName = function EditName(_ref2) {\n  var nextName = _ref2.nextName,\n      setNextName = _ref2.setNextName;\n\n  var _useTranslation2 = useTranslation(),\n      t = _useTranslation2.t;\n\n  return _jsxs(View, {\n    style: styles.editNameContainer,\n    children: [_jsx(Text, {\n      style: styles.label,\n      children: t('profile.label.name')\n    }), _jsx(TextInput, {\n      style: styles.editNameInput,\n      value: nextName,\n      onChangeText: setNextName,\n      textContentType: \"name\",\n      placeholder: t('profile.placeholder.name'),\n      placeholderTextColor: DARKER_GREY\n    })]\n  });\n};\n\nvar SocialMediaLink = function SocialMediaLink(props) {\n  var navigation = useNavigation();\n  var dispatch = useDispatch();\n  var _props$socialMedia = props.socialMedia,\n      id = _props$socialMedia.id,\n      profile = _props$socialMedia.profile,\n      profileDisplayWidth = _props$socialMedia.profileDisplayWidth,\n      order = _props$socialMedia.order;\n\n  var _useTranslation3 = useTranslation(),\n      t = _useTranslation3.t;\n\n  var socialMediaVariation = useSelector(function (state) {\n    return selectSocialMediaVariationById(state, id);\n  });\n\n  var updateInnerTextLayout = function updateInnerTextLayout(e) {\n    if (!profileDisplayWidth) {\n      var _e$nativeEvent, _e$nativeEvent$layout;\n\n      if ((_e$nativeEvent = e.nativeEvent) != null && (_e$nativeEvent$layout = _e$nativeEvent.layout) != null && _e$nativeEvent$layout.width) {\n        dispatch(setProfileDisplayWidth({\n          id: id,\n          width: e.nativeEvent.layout.width\n        }));\n      } else {\n        dispatch(setProfileDisplayWidth({\n          id: id,\n          width: '50%'\n        }));\n      }\n    }\n  };\n\n  var removeSocialMedia = function _callee3(id) {\n    return _regeneratorRuntime.async(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return _regeneratorRuntime.awrap(dispatch(removeSocialMediaThunk(id)));\n\n          case 3:\n            _context3.next = 8;\n            break;\n\n          case 5:\n            _context3.prev = 5;\n            _context3.t0 = _context3[\"catch\"](0);\n            Alert.alert(i18next.t('common.alert.error'), i18next.t('common.alert.text.commonError'));\n\n          case 8:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[0, 5]], Promise);\n  };\n\n  var innerTextStyle = profileDisplayWidth ? {\n    width: typeof profileDisplayWidth === 'number' ? profileDisplayWidth - 10 : profileDisplayWidth\n  } : {\n    flexGrow: 1\n  };\n  return _jsxs(View, {\n    style: styles.socialMediaLinkContainer,\n    children: [_jsxs(TouchableOpacity, {\n      style: styles.socialMediaSelect,\n      onPress: function onPress() {\n        navigation.navigate('SelectSocialMedia', {\n          type: props.type,\n          order: order,\n          prevId: id,\n          page: 0\n        });\n      },\n      children: [_jsx(Text, {\n        style: styles.socialMediaType,\n        children: socialMediaVariation.name\n      }), _jsx(Chevron, {\n        width: DEVICE_LARGE ? 14 : 12,\n        height: DEVICE_LARGE ? 14 : 12,\n        color: DARK_BLUE,\n        strokeWidth: 2\n      })]\n    }), _jsx(TouchableOpacity, {\n      style: innerTextStyle,\n      onLayout: updateInnerTextLayout,\n      onPress: function onPress() {\n        navigation.navigate('SelectSocialMedia', {\n          type: props.type,\n          order: order,\n          prevId: id,\n          page: 1\n        });\n      },\n      children: _jsx(Text, {\n        style: styles.socialMediaInput,\n        numberOfLines: 1,\n        ellipsizeMode: \"head\",\n        children: innerTextStyle.width ? profile : ''\n      })\n    }), _jsx(TouchableOpacity, {\n      style: styles.closeButton,\n      onPress: function onPress() {\n        return removeSocialMedia(id);\n      },\n      children: _jsx(Material, {\n        name: \"close\",\n        size: DEVICE_LARGE ? 18 : 16,\n        color: \"#000\"\n      })\n    })]\n  });\n};\n\nvar SocialMediaLinks = function SocialMediaLinks(props) {\n  var navigation = useNavigation();\n  var socialMediaItems = useSelector(selectExistingSocialMedia);\n  var selectSocialMediaVariations = useMemo(selectAllSocialMediaVariationsByType, []);\n  var socialMediaVariations = useSelector(function (state) {\n    return selectSocialMediaVariations(state, props.type);\n  });\n  var socialMediaVariationIds = socialMediaVariations.map(function (item) {\n    return item.id;\n  });\n\n  var _useTranslation4 = useTranslation(),\n      t = _useTranslation4.t;\n\n  var SocialMediaVariations = socialMediaItems.filter(function (item) {\n    return socialMediaVariationIds.includes(item.id);\n  }).map(function (item) {\n    return _jsx(SocialMediaLink, {\n      socialMedia: item,\n      type: props.type\n    }, item.id);\n  });\n  var disableAdd = socialMediaVariations.length === SocialMediaVariations.length;\n  return _jsxs(View, {\n    style: styles.socialMediaContainer,\n    children: [_jsxs(View, {\n      style: styles.socialMediaLinkLabel,\n      children: [props.type === SocialMediaType.CONTACT_INFO ? _jsx(Text, {\n        style: styles.label,\n        children: t('profile.label.contactInfo')\n      }) : _jsx(Text, {\n        style: styles.label,\n        children: t('profile.label.socialMediaLink')\n      }), !disableAdd ? _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          navigation.navigate('SelectSocialMedia', {\n            order: socialMediaItems.length,\n            type: props.type,\n            prevId: null,\n            page: 0\n          });\n        },\n        style: styles.addSocialMediaBtn,\n        children: _jsx(Material, {\n          name: \"plus-thick\",\n          size: DEVICE_LARGE ? 18 : 16,\n          color: DARK_BLUE\n        })\n      }) : null]\n    }), SocialMediaVariations]\n  });\n};\n\nvar ShowEditPassword = function ShowEditPassword() {\n  var password = useSelector(function (state) {\n    return state.user.password;\n  });\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      hidePassword = _useState2[0],\n      setHidePassword = _useState2[1];\n\n  var navigation = useNavigation();\n\n  var _useTranslation5 = useTranslation(),\n      t = _useTranslation5.t;\n\n  useFocusEffect(useCallback(function () {\n    setHidePassword(true);\n  }, []));\n  var displayPassword = password;\n\n  if (hidePassword) {\n    displayPassword = '*'.repeat(password.length);\n  }\n\n  return _jsxs(View, {\n    style: styles.showEditPasswordContainer,\n    children: [_jsx(Text, {\n      style: styles.label,\n      children: t('profile.text.backupPasswordTitle', 'Backup password')\n    }), _jsx(View, {\n      style: styles.passwordInfoContainer,\n      children: _jsx(Text, {\n        style: styles.infoText,\n        children: t('signup.text.passwordInfo')\n      })\n    }), password ? _jsxs(_Fragment, {\n      children: [_jsxs(View, {\n        style: styles.viewPasswordContainer,\n        children: [_jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            setHidePassword(!hidePassword);\n          },\n          children: _jsx(Text, {\n            style: styles.passwordText,\n            children: t('profile.text.viewPassword')\n          })\n        }), _jsx(Text, {\n          style: styles.displayPassword,\n          selectable: true,\n          children: displayPassword\n        })]\n      }), _jsx(TouchableOpacity, {\n        style: styles.changePasswordButton,\n        onPress: function onPress() {\n          navigation.navigate('ChangePassword');\n        },\n        children: _jsx(Text, {\n          style: styles.passwordText,\n          children: t('profile.text.changePassword')\n        })\n      })]\n    }) : _jsx(_Fragment, {\n      children: _jsx(TouchableOpacity, {\n        style: styles.setPasswordButton,\n        onPress: function onPress() {\n          navigation.navigate('ChangePassword');\n        },\n        children: _jsx(Text, {\n          style: styles.setPasswordText,\n          children: t('profile.text.setPassword')\n        })\n      })\n    })]\n  });\n};\n\nfunction SyncSocialMedia() {\n  var dispatch = useDispatch();\n  var syncSocialMediaEnabled = useSelector(selectSyncSocialMediaEnabled);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(View, {\n      style: styles.syncSocialMediaSwitchContainer,\n      children: [_jsx(Text, {\n        style: styles.label,\n        children: \"Sync \"\n      }), _jsx(Switch, {\n        style: styles.syncSocialMediaSwitch,\n        trackColor: {\n          false: GREY,\n          true: DARK_ORANGE\n        },\n        thumbColor: \"#ffffff\",\n        ios_backgroundColor: \"#3e3e3e\",\n        onValueChange: function onValueChange(value) {\n          dispatch(setSyncSocialMediaEnabledThunk(value));\n        },\n        value: syncSocialMediaEnabled\n      })]\n    }), _jsx(Text, {\n      style: styles.infoText,\n      children: \"Do you want to allow people who have your contact info and social media links to know that you're a BrightID user so they can connect to you on BrightID? This does not reveal your information to people who don't already have it.\"\n    })]\n  });\n}\n\nexport var EditProfileScreen = function EditProfileScreen(_ref3) {\n  var navigation = _ref3.navigation;\n  var dispatch = useDispatch();\n\n  var _useTranslation6 = useTranslation(),\n      t = _useTranslation6.t;\n\n  var headerHeight = useHeaderHeight();\n\n  if (DEVICE_IOS && DEVICE_LARGE) {\n    headerHeight += 7;\n  }\n\n  var isDrawerOpen = useIsDrawerOpen();\n  var id = useSelector(function (state) {\n    return state.user.id;\n  });\n  var prevPhotoFilename = useSelector(function (state) {\n    return state.user.photo.filename;\n  });\n  var prevName = useSelector(function (state) {\n    return state.user.name;\n  });\n  var prevPhoto = useRef(null);\n\n  var _useState3 = useState(prevPhoto == null ? void 0 : prevPhoto.current),\n      _useState4 = _slicedToArray(_useState3, 2),\n      profilePhoto = _useState4[0],\n      setProfilePhoto = _useState4[1];\n\n  var _useState5 = useState(prevName),\n      _useState6 = _slicedToArray(_useState5, 2),\n      nextName = _useState6[0],\n      setNextName = _useState6[1];\n\n  var saveDisabled = prevPhoto.current === profilePhoto && prevName === nextName || nextName.length < 2;\n\n  var saveData = function _callee4() {\n    var filename;\n    return _regeneratorRuntime.async(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            if (nextName.length >= 2) {\n              dispatch(setName(nextName));\n            }\n\n            if (!(prevPhoto.current !== profilePhoto)) {\n              _context4.next = 7;\n              break;\n            }\n\n            _context4.next = 4;\n            return _regeneratorRuntime.awrap(saveImage({\n              imageName: id,\n              base64Image: profilePhoto\n            }));\n\n          case 4:\n            filename = _context4.sent;\n            dispatch(setPhoto({\n              filename: filename\n            }));\n            setProfilePhoto('');\n\n          case 7:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var clearData = useCallback(function () {\n    setNextName(prevName);\n    setProfilePhoto(prevPhoto == null ? void 0 : prevPhoto.current);\n  }, [prevName, setProfilePhoto, setNextName]);\n  useFocusEffect(clearData);\n  useFocusEffect(useCallback(function () {\n    if (!profilePhoto) {\n      retrieveImage(prevPhotoFilename).then(function (base64Img) {\n        prevPhoto.current = base64Img;\n        setProfilePhoto(base64Img);\n      });\n    }\n  }, [profilePhoto, prevPhotoFilename]));\n  useEffect(function () {\n    return navigation.addListener('beforeRemove', function (e) {\n      if (saveDisabled) {\n        return;\n      }\n\n      e.preventDefault();\n      Alert.alert(t('profile.alert.title.discardChanges'), t('profile.alert.text.discardChanges'), [{\n        text: t('profile.alert.button.dontLeave'),\n        style: 'cancel',\n        onPress: function onPress() {\n          return null;\n        }\n      }, {\n        text: t('profile.alert.button.discard'),\n        style: 'destructive',\n        onPress: function onPress() {\n          return navigation.dispatch(e.data.action);\n        }\n      }]);\n    });\n  }, [navigation, saveDisabled, t]);\n  return _jsx(View, {\n    style: [styles.container, {\n      marginTop: headerHeight\n    }, !isDrawerOpen && styles.shadow],\n    testID: \"editProfileScreen\",\n    children: _jsxs(ScrollView, {\n      contentContainerStyle: styles.contentContainer,\n      children: [_jsx(EditProfilePhoto, {\n        profilePhoto: profilePhoto,\n        setProfilePhoto: setProfilePhoto\n      }), _jsx(EditName, {\n        nextName: nextName,\n        setNextName: setNextName\n      }), _jsx(SocialMediaLinks, {\n        type: SocialMediaType.CONTACT_INFO\n      }), _jsx(SocialMediaLinks, {\n        type: SocialMediaType.SOCIAL_PROFILE\n      }), _jsx(SyncSocialMedia, {}), _jsx(View, {\n        style: styles.bottomDivider\n      }), _jsx(ShowEditPassword, {}), _jsxs(View, {\n        style: styles.saveContainer,\n        children: [_jsx(TouchableOpacity, {\n          style: [styles.saveButton, {\n            opacity: saveDisabled ? 0.5 : 1\n          }],\n          disabled: saveDisabled,\n          onPress: saveData,\n          children: _jsx(Text, {\n            style: styles.saveButtonText,\n            children: t('common.button.save')\n          })\n        }), _jsx(TouchableOpacity, {\n          style: [styles.cancelButton, {\n            opacity: saveDisabled ? 0.5 : 1\n          }],\n          disabled: saveDisabled,\n          onPress: clearData,\n          children: _jsx(Text, {\n            style: styles.cancelButtonText,\n            children: t('common.button.cancel')\n          })\n        })]\n      })]\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: WHITE,\n    flex: 1,\n    width: '100%',\n    borderTopLeftRadius: DEVICE_LARGE ? 50 : 40\n  },\n  shadow: {\n    shadowColor: 'rgba(196, 196, 196, 0.25)',\n    shadowOpacity: 1,\n    shadowRadius: 15,\n    elevation: 15,\n    shadowOffset: {\n      width: 0,\n      height: 2\n    }\n  },\n  contentContainer: {\n    paddingHorizontal: DEVICE_LARGE ? 40 : 30,\n    width: '100%'\n  },\n  profilePhotoContainer: {\n    marginTop: DEVICE_LARGE ? 20 : 18\n  },\n  changePhotoButton: {\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  profilePhotoText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[16],\n    color: BLUE,\n    marginTop: DEVICE_LARGE ? 6 : 5\n  },\n  photo: {\n    width: DEVICE_LARGE ? 90 : 78,\n    height: DEVICE_LARGE ? 90 : 78,\n    borderRadius: 71,\n    shadowColor: 'rgba(0, 0, 0, 0.5)',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowRadius: 4\n  },\n  editNameContainer: {\n    width: '100%',\n    marginTop: DEVICE_LARGE ? 36 : 30\n  },\n  label: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[11],\n    color: DARK_ORANGE\n  },\n  editNameInput: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[16],\n    marginTop: DEVICE_LARGE ? 4 : 2,\n    width: '100%',\n    color: BLACK\n  },\n  syncSocialMediaSwitchContainer: {\n    alignItems: 'center',\n    paddingVertical: 5,\n    display: 'flex',\n    flexDirection: 'row'\n  },\n  syncSocialMediaSwitch: {\n    flex: 1\n  },\n  bottomDivider: {\n    width: '100%',\n    borderBottomColor: LIGHT_GREY,\n    borderBottomWidth: 1,\n    marginTop: DEVICE_LARGE ? 16 : 12\n  },\n  socialMediaContainer: {\n    width: '100%',\n    marginTop: DEVICE_LARGE ? 18 : 16\n  },\n  socialMediaLinkContainer: {\n    width: WIDTH - (DEVICE_LARGE ? 80 : 60),\n    maxWidth: WIDTH - (DEVICE_LARGE ? 80 : 60),\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginTop: DEVICE_LARGE ? 10 : 8\n  },\n  socialMediaLinkLabel: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  socialMediaSelect: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginRight: DEVICE_LARGE ? 14 : 12\n  },\n  socialMediaType: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[16],\n    color: DARK_BLUE,\n    marginRight: DEVICE_LARGE ? 8 : 6\n  },\n  addSocialMediaBtn: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginLeft: DEVICE_LARGE ? 6 : 4\n  },\n  socialMediaInput: {\n    fontFamily: 'Poppins-Light',\n    fontSize: fontSize[14],\n    color: BLACK\n  },\n  showEditPasswordContainer: {\n    width: '100%',\n    marginTop: DEVICE_LARGE ? 10 : 8\n  },\n  viewPasswordContainer: {\n    width: '100%',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginTop: DEVICE_LARGE ? 26 : 18\n  },\n  changePasswordButton: {\n    marginTop: DEVICE_LARGE ? 12 : 8\n  },\n  setPasswordButton: {\n    marginTop: DEVICE_LARGE ? 12 : 8,\n    alignSelf: 'center'\n  },\n  passwordText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[13],\n    color: DARK_BLUE\n  },\n  setPasswordText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[15],\n    color: DARK_BLUE\n  },\n  displayPassword: {\n    fontFamily: 'Poppins-Regular',\n    fontSize: fontSize[13],\n    color: BLACK\n  },\n  passwordInfoContainer: {},\n  infoText: {\n    fontFamily: 'Poppins-Regular',\n    fontSize: fontSize[11],\n    color: DARKER_GREY\n  },\n  saveContainer: {\n    width: '100%',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: DEVICE_LARGE ? 44 : 36\n  },\n  saveButton: {\n    width: DEVICE_LARGE ? 100 : 88,\n    paddingTop: 10,\n    paddingBottom: 9,\n    backgroundColor: GREEN,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderRadius: 20,\n    marginRight: DEVICE_LARGE ? 22 : 18\n  },\n  saveButtonText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[12]\n  },\n  cancelButton: {\n    width: DEVICE_LARGE ? 100 : 88,\n    paddingTop: 10,\n    paddingBottom: 9,\n    backgroundColor: WHITE,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderRadius: 20,\n    borderWidth: 1,\n    borderColor: DARKER_GREY\n  },\n  cancelButtonText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[12],\n    color: DARKER_GREY\n  },\n  closeButton: {\n    paddingHorizontal: DEVICE_LARGE ? 10 : 8,\n    marginRight: DEVICE_LARGE ? -10 : -8\n  }\n});\nexport default EditProfileScreen;","map":{"version":3,"names":["React","useCallback","useEffect","useMemo","useRef","useState","useTranslation","useActionSheet","useFocusEffect","useNavigation","useHeaderHeight","useIsDrawerOpen","Material","i18next","useDispatch","useSelector","DEVICE_IOS","DEVICE_LARGE","WIDTH","BLACK","BLUE","DARK_BLUE","DARK_ORANGE","DARKER_GREY","GREEN","GREY","LIGHT_GREY","WHITE","fontSize","chooseImage","takePhoto","photoDirectory","retrieveImage","saveImage","selectSyncSocialMediaEnabled","setName","setPhoto","Chevron","selectExistingSocialMedia","setProfileDisplayWidth","selectAllSocialMediaVariationsByType","selectSocialMediaVariationById","SocialMediaType","removeSocialMediaThunk","setSyncSocialMediaEnabledThunk","EditProfilePhoto","profilePhoto","setProfilePhoto","showActionSheetWithOptions","prevPhotoFilename","state","user","photo","filename","t","profileSource","uri","getPhotoFromCamera","mime","data","console","log","getPhotoFromLibrary","handleEditPhoto","options","cancelButtonIndex","title","showSeparators","textStyle","color","textAlign","width","titleTextStyle","buttonIndex","styles","profilePhotoContainer","changePhotoButton","e","profilePhotoText","EditName","nextName","setNextName","editNameContainer","label","editNameInput","SocialMediaLink","props","navigation","dispatch","socialMedia","id","profile","profileDisplayWidth","order","socialMediaVariation","updateInnerTextLayout","nativeEvent","layout","removeSocialMedia","Alert","alert","innerTextStyle","flexGrow","socialMediaLinkContainer","socialMediaSelect","navigate","type","prevId","page","socialMediaType","name","socialMediaInput","closeButton","SocialMediaLinks","socialMediaItems","selectSocialMediaVariations","socialMediaVariations","socialMediaVariationIds","map","item","SocialMediaVariations","filter","includes","disableAdd","length","socialMediaContainer","socialMediaLinkLabel","CONTACT_INFO","addSocialMediaBtn","ShowEditPassword","password","hidePassword","setHidePassword","displayPassword","repeat","showEditPasswordContainer","passwordInfoContainer","infoText","viewPasswordContainer","passwordText","changePasswordButton","setPasswordButton","setPasswordText","SyncSocialMedia","syncSocialMediaEnabled","syncSocialMediaSwitchContainer","syncSocialMediaSwitch","false","true","value","EditProfileScreen","headerHeight","isDrawerOpen","prevName","prevPhoto","current","saveDisabled","saveData","imageName","base64Image","clearData","then","base64Img","addListener","preventDefault","text","style","onPress","action","container","marginTop","shadow","contentContainer","SOCIAL_PROFILE","bottomDivider","saveContainer","saveButton","opacity","saveButtonText","cancelButton","cancelButtonText","StyleSheet","create","backgroundColor","flex","borderTopLeftRadius","shadowColor","shadowOpacity","shadowRadius","elevation","shadowOffset","height","paddingHorizontal","alignItems","justifyContent","fontFamily","borderRadius","paddingVertical","display","flexDirection","borderBottomColor","borderBottomWidth","maxWidth","marginRight","marginLeft","alignSelf","paddingTop","paddingBottom","borderWidth","borderColor"],"sources":["/home/ali/Desktop/brightid/BrightID/BrightID/src/components/EditProfile/EditProfileScreen.tsx"],"sourcesContent":["import React, {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport {\n  Alert,\n  Image,\n  LayoutChangeEvent,\n  ScrollView,\n  StyleSheet,\n  Switch,\n  Text,\n  TextInput,\n  TouchableOpacity,\n  View,\n} from 'react-native';\nimport { useTranslation } from 'react-i18next';\nimport { useActionSheet } from '@expo/react-native-action-sheet';\nimport { useFocusEffect, useNavigation } from '@react-navigation/native';\nimport { useHeaderHeight } from '@react-navigation/stack';\nimport { useIsDrawerOpen } from '@react-navigation/drawer';\nimport Material from 'react-native-vector-icons/MaterialCommunityIcons';\nimport i18next from 'i18next';\nimport { useDispatch, useSelector } from '@/store';\nimport { DEVICE_IOS, DEVICE_LARGE, WIDTH } from '@/utils/deviceConstants';\nimport {\n  BLACK,\n  BLUE,\n  DARK_BLUE,\n  DARK_ORANGE,\n  DARKER_GREY,\n  GREEN,\n  GREY,\n  LIGHT_GREY,\n  ORANGE,\n  WHITE,\n} from '@/theme/colors';\nimport { fontSize } from '@/theme/fonts';\nimport { chooseImage, takePhoto } from '@/utils/images';\nimport { photoDirectory, retrieveImage, saveImage } from '@/utils/filesystem';\nimport {\n  selectSyncSocialMediaEnabled,\n  setName,\n  setPhoto,\n  setSyncSocialMediaEnabled,\n} from '@/actions';\nimport Chevron from '@/components/Icons/Chevron';\nimport {\n  selectExistingSocialMedia,\n  setProfileDisplayWidth,\n} from '../../reducer/socialMediaSlice';\nimport {\n  selectAllSocialMediaVariationsByType,\n  selectSocialMediaVariationById,\n} from '@/reducer/socialMediaVariationSlice';\nimport { SocialMediaType } from './socialMediaVariations';\nimport {\n  removeSocialMediaThunk,\n  setSyncSocialMediaEnabledThunk,\n} from '@/components/EditProfile/socialMediaThunks';\n\nconst EditProfilePhoto = ({ profilePhoto, setProfilePhoto }) => {\n  const { showActionSheetWithOptions } = useActionSheet();\n  const prevPhotoFilename = useSelector(\n    (state: State) => state.user.photo.filename,\n  );\n  const { t } = useTranslation();\n\n  const profileSource = profilePhoto\n    ? {\n        uri: profilePhoto,\n      }\n    : {\n        uri: `file://${photoDirectory()}/${prevPhotoFilename}`,\n      };\n\n  const getPhotoFromCamera = async () => {\n    try {\n      const { mime, data } = await takePhoto();\n      const uri = `data:${mime};base64,${data}`;\n      setProfilePhoto(uri);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const getPhotoFromLibrary = async () => {\n    try {\n      const { mime, data } = await chooseImage();\n      const uri = `data:${mime};base64,${data}`;\n      setProfilePhoto(uri);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const handleEditPhoto = () => {\n    showActionSheetWithOptions(\n      {\n        options: [\n          t('common.photoActionSheet.takePhoto'),\n          t('common.photoActionSheet.choosePhoto'),\n          t('common.actionSheet.cancel'),\n        ],\n        cancelButtonIndex: 2,\n        title: t('common.photoActionSheet.title'),\n        showSeparators: true,\n        textStyle: {\n          color: BLUE,\n          textAlign: 'center',\n          width: '100%',\n          fontSize: fontSize[18],\n        },\n        titleTextStyle: {\n          textAlign: 'center',\n          fontSize: fontSize[20],\n          width: '100%',\n        },\n      },\n      (buttonIndex) => {\n        if (buttonIndex === 0) {\n          getPhotoFromCamera();\n        } else if (buttonIndex === 1) {\n          getPhotoFromLibrary();\n        }\n      },\n    );\n  };\n\n  return (\n    <View style={styles.profilePhotoContainer}>\n      <TouchableOpacity\n        testID=\"editPhoto\"\n        onPress={handleEditPhoto}\n        accessible={true}\n        accessibilityLabel={t('common.accessibilityLabel.editPhoto')}\n        style={styles.changePhotoButton}\n      >\n        <Image\n          source={profileSource}\n          style={styles.photo}\n          resizeMode=\"cover\"\n          onError={(e) => {\n            console.log(e);\n          }}\n          accessible={true}\n          accessibilityLabel=\"profile photo\"\n        />\n        <Text style={styles.profilePhotoText}>\n          {t('profile.text.changeProfilePicture')}\n        </Text>\n      </TouchableOpacity>\n    </View>\n  );\n};\n\nconst EditName = ({ nextName, setNextName }) => {\n  const { t } = useTranslation();\n  return (\n    <View style={styles.editNameContainer}>\n      <Text style={styles.label}>{t('profile.label.name')}</Text>\n      <TextInput\n        style={styles.editNameInput}\n        value={nextName}\n        onChangeText={setNextName}\n        textContentType=\"name\"\n        placeholder={t('profile.placeholder.name')}\n        placeholderTextColor={DARKER_GREY}\n      />\n    </View>\n  );\n};\n\nconst SocialMediaLink = (props: {\n  socialMedia: SocialMedia;\n  type: SocialMediaType;\n}) => {\n  const navigation = useNavigation();\n  const dispatch = useDispatch();\n  const { id, profile, profileDisplayWidth, order } = props.socialMedia;\n  const { t } = useTranslation();\n\n  const socialMediaVariation = useSelector((state) =>\n    selectSocialMediaVariationById(state, id),\n  );\n  // perfectly center profile text with max length\n  const updateInnerTextLayout = (e: LayoutChangeEvent) => {\n    if (!profileDisplayWidth) {\n      if (e.nativeEvent?.layout?.width) {\n        dispatch(\n          setProfileDisplayWidth({\n            id,\n            width: e.nativeEvent.layout.width,\n          }),\n        );\n      } else {\n        dispatch(\n          setProfileDisplayWidth({\n            id,\n            width: '50%',\n          }),\n        );\n      }\n    }\n  };\n\n  const removeSocialMedia = async (id: string) => {\n    try {\n      await dispatch(removeSocialMediaThunk(id));\n    } catch (e) {\n      Alert.alert(\n        i18next.t('common.alert.error'),\n        i18next.t('common.alert.text.commonError'),\n      );\n    }\n  };\n\n  const innerTextStyle = profileDisplayWidth\n    ? {\n        width:\n          typeof profileDisplayWidth === 'number'\n            ? profileDisplayWidth - 10\n            : profileDisplayWidth,\n      }\n    : { flexGrow: 1 };\n\n  return (\n    <View style={styles.socialMediaLinkContainer}>\n      <TouchableOpacity\n        style={styles.socialMediaSelect}\n        onPress={() => {\n          navigation.navigate('SelectSocialMedia', {\n            type: props.type,\n            order,\n            prevId: id,\n            page: 0,\n          });\n        }}\n      >\n        <Text style={styles.socialMediaType}>{socialMediaVariation.name}</Text>\n        <Chevron\n          width={DEVICE_LARGE ? 14 : 12}\n          height={DEVICE_LARGE ? 14 : 12}\n          color={DARK_BLUE}\n          strokeWidth={2}\n        />\n      </TouchableOpacity>\n      <TouchableOpacity\n        style={innerTextStyle}\n        onLayout={updateInnerTextLayout}\n        onPress={() => {\n          navigation.navigate('SelectSocialMedia', {\n            type: props.type,\n            order,\n            prevId: id,\n            page: 1,\n          });\n        }}\n      >\n        <Text\n          style={styles.socialMediaInput}\n          numberOfLines={1}\n          ellipsizeMode=\"head\"\n        >\n          {innerTextStyle.width ? profile : ''}\n        </Text>\n      </TouchableOpacity>\n      <TouchableOpacity\n        style={styles.closeButton}\n        onPress={() => removeSocialMedia(id)}\n      >\n        <Material name=\"close\" size={DEVICE_LARGE ? 18 : 16} color=\"#000\" />\n      </TouchableOpacity>\n    </View>\n  );\n};\n\nconst SocialMediaLinks = (props: { type: SocialMediaType }) => {\n  const navigation = useNavigation();\n  const socialMediaItems = useSelector(selectExistingSocialMedia);\n  const selectSocialMediaVariations = useMemo(\n    selectAllSocialMediaVariationsByType,\n    [],\n  );\n  const socialMediaVariations = useSelector((state) =>\n    selectSocialMediaVariations(state, props.type),\n  );\n  const socialMediaVariationIds = socialMediaVariations.map((item) => item.id);\n  const { t } = useTranslation();\n\n  // console.log('socialMedia', socialMediaItems);\n\n  const SocialMediaVariations = socialMediaItems\n    .filter((item) => socialMediaVariationIds.includes(item.id))\n    .map((item) => (\n      <SocialMediaLink key={item.id} socialMedia={item} type={props.type} />\n    ));\n\n  // disable adding new item if we are entering phone number and\n  // phone number is already entered\n  const disableAdd =\n    socialMediaVariations.length === SocialMediaVariations.length;\n\n  return (\n    <View style={styles.socialMediaContainer}>\n      <View style={styles.socialMediaLinkLabel}>\n        {props.type === SocialMediaType.CONTACT_INFO ? (\n          <Text style={styles.label}>{t('profile.label.contactInfo')}</Text>\n        ) : (\n          <Text style={styles.label}>{t('profile.label.socialMediaLink')}</Text>\n        )}\n\n        {!disableAdd ? (\n          <TouchableOpacity\n            onPress={() => {\n              navigation.navigate('SelectSocialMedia', {\n                order: socialMediaItems.length,\n                type: props.type,\n                prevId: null,\n                page: 0,\n              });\n            }}\n            style={styles.addSocialMediaBtn}\n          >\n            <Material\n              name=\"plus-thick\"\n              size={DEVICE_LARGE ? 18 : 16}\n              color={DARK_BLUE}\n            />\n          </TouchableOpacity>\n        ) : null}\n      </View>\n\n      {SocialMediaVariations}\n    </View>\n  );\n};\n\nconst ShowEditPassword = () => {\n  const password = useSelector((state: State) => state.user.password);\n  const [hidePassword, setHidePassword] = useState(true);\n  const navigation = useNavigation();\n  const { t } = useTranslation();\n\n  useFocusEffect(\n    useCallback(() => {\n      setHidePassword(true);\n    }, []),\n  );\n\n  let displayPassword = password;\n  if (hidePassword) {\n    displayPassword = '*'.repeat(password.length);\n  }\n\n  return (\n    <View style={styles.showEditPasswordContainer}>\n      <Text style={styles.label}>\n        {t('profile.text.backupPasswordTitle', 'Backup password')}\n      </Text>\n      <View style={styles.passwordInfoContainer}>\n        <Text style={styles.infoText}>{t('signup.text.passwordInfo')}</Text>\n      </View>\n      {password ? (\n        <>\n          <View style={styles.viewPasswordContainer}>\n            <TouchableOpacity\n              onPress={() => {\n                setHidePassword(!hidePassword);\n              }}\n            >\n              <Text style={styles.passwordText}>\n                {t('profile.text.viewPassword')}\n              </Text>\n            </TouchableOpacity>\n            <Text style={styles.displayPassword} selectable={true}>\n              {displayPassword}\n            </Text>\n          </View>\n          <TouchableOpacity\n            style={styles.changePasswordButton}\n            onPress={() => {\n              navigation.navigate('ChangePassword');\n            }}\n          >\n            <Text style={styles.passwordText}>\n              {t('profile.text.changePassword')}\n            </Text>\n          </TouchableOpacity>\n        </>\n      ) : (\n        <>\n          <TouchableOpacity\n            style={styles.setPasswordButton}\n            onPress={() => {\n              navigation.navigate('ChangePassword');\n            }}\n          >\n            <Text style={styles.setPasswordText}>\n              {t('profile.text.setPassword')}\n            </Text>\n          </TouchableOpacity>\n        </>\n      )}\n    </View>\n  );\n};\n\nfunction SyncSocialMedia() {\n  const dispatch = useDispatch();\n  const syncSocialMediaEnabled = useSelector(selectSyncSocialMediaEnabled);\n  return (\n    <>\n      <View style={styles.syncSocialMediaSwitchContainer}>\n        <Text style={styles.label}>Sync </Text>\n        <Switch\n          style={styles.syncSocialMediaSwitch}\n          trackColor={{ false: GREY, true: DARK_ORANGE }}\n          thumbColor=\"#ffffff\"\n          ios_backgroundColor=\"#3e3e3e\"\n          onValueChange={(value) => {\n            dispatch(setSyncSocialMediaEnabledThunk(value));\n          }}\n          value={syncSocialMediaEnabled}\n        />\n      </View>\n      <Text style={styles.infoText}>\n        Do you want to allow people who have your contact info and social media\n        links to know that you're a BrightID user so they can connect to you on\n        BrightID? This does not reveal your information to people who don't\n        already have it.\n      </Text>\n    </>\n  );\n}\n\nexport const EditProfileScreen = ({ navigation }) => {\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n  let headerHeight = useHeaderHeight();\n  if (DEVICE_IOS && DEVICE_LARGE) {\n    headerHeight += 7;\n  }\n  const isDrawerOpen = useIsDrawerOpen();\n\n  // selectors\n  const id = useSelector((state: State) => state.user.id);\n  const prevPhotoFilename = useSelector(\n    (state: State) => state.user.photo.filename,\n  );\n  const prevName = useSelector((state: State) => state.user.name);\n  const prevPhoto = useRef(null);\n  // state passed down to children\n  const [profilePhoto, setProfilePhoto] = useState(prevPhoto?.current);\n  const [nextName, setNextName] = useState(prevName);\n\n  // allow user to save changes if profilePhoto or name has changed\n  const saveDisabled =\n    (prevPhoto.current === profilePhoto && prevName === nextName) ||\n    nextName.length < 2;\n\n  // profilePhoto / name is only saved to filesystem / redux if the user presses save\n  const saveData = async () => {\n    if (nextName.length >= 2) {\n      dispatch(setName(nextName));\n    }\n\n    if (prevPhoto.current !== profilePhoto) {\n      const filename = await saveImage({\n        imageName: id,\n        base64Image: profilePhoto,\n      });\n      dispatch(setPhoto({ filename }));\n      // reset state to disable save button\n      setProfilePhoto('');\n    }\n  };\n\n  const clearData = useCallback(() => {\n    setNextName(prevName);\n    setProfilePhoto(prevPhoto?.current);\n  }, [prevName, setProfilePhoto, setNextName]);\n\n  // clear data on focus\n  useFocusEffect(clearData);\n\n  // convert prevPhoto to base64 uri on focus\n  useFocusEffect(\n    useCallback(() => {\n      if (!profilePhoto) {\n        retrieveImage(prevPhotoFilename).then((base64Img) => {\n          prevPhoto.current = base64Img;\n          setProfilePhoto(base64Img);\n        });\n      }\n    }, [profilePhoto, prevPhotoFilename]),\n  );\n\n  useEffect(\n    () =>\n      navigation.addListener('beforeRemove', (e) => {\n        if (saveDisabled) {\n          // If we don't have unsaved changes, then we don't need to do anything\n          return;\n        }\n\n        // Prevent default behavior of leaving the screen\n        e.preventDefault();\n\n        // Prompt the user before leaving the screen\n        Alert.alert(\n          t('profile.alert.title.discardChanges'),\n          t('profile.alert.text.discardChanges'),\n          [\n            {\n              text: t('profile.alert.button.dontLeave'),\n              style: 'cancel',\n              onPress: () => null,\n            },\n            {\n              text: t('profile.alert.button.discard'),\n              style: 'destructive',\n              onPress: () => navigation.dispatch(e.data.action),\n            },\n          ],\n        );\n      }),\n    [navigation, saveDisabled, t],\n  );\n\n  return (\n    <View\n      style={[\n        styles.container,\n        { marginTop: headerHeight },\n        !isDrawerOpen && styles.shadow,\n      ]}\n      testID=\"editProfileScreen\"\n    >\n      <ScrollView contentContainerStyle={styles.contentContainer}>\n        <EditProfilePhoto\n          profilePhoto={profilePhoto}\n          setProfilePhoto={setProfilePhoto}\n        />\n        <EditName nextName={nextName} setNextName={setNextName} />\n\n        <SocialMediaLinks type={SocialMediaType.CONTACT_INFO} />\n        <SocialMediaLinks type={SocialMediaType.SOCIAL_PROFILE} />\n        <SyncSocialMedia />\n        <View style={styles.bottomDivider} />\n\n        <ShowEditPassword />\n        <View style={styles.saveContainer}>\n          <TouchableOpacity\n            style={[\n              styles.saveButton,\n              {\n                opacity: saveDisabled ? 0.5 : 1,\n              },\n            ]}\n            disabled={saveDisabled}\n            onPress={saveData}\n          >\n            <Text style={styles.saveButtonText}>{t('common.button.save')}</Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n            style={[\n              styles.cancelButton,\n              {\n                opacity: saveDisabled ? 0.5 : 1,\n              },\n            ]}\n            disabled={saveDisabled}\n            onPress={clearData}\n          >\n            <Text style={styles.cancelButtonText}>\n              {t('common.button.cancel')}\n            </Text>\n          </TouchableOpacity>\n        </View>\n      </ScrollView>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: WHITE,\n    flex: 1,\n    width: '100%',\n    borderTopLeftRadius: DEVICE_LARGE ? 50 : 40,\n  },\n  shadow: {\n    shadowColor: 'rgba(196, 196, 196, 0.25)',\n    shadowOpacity: 1,\n    shadowRadius: 15,\n    elevation: 15,\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n  },\n  contentContainer: {\n    paddingHorizontal: DEVICE_LARGE ? 40 : 30,\n    width: '100%',\n  },\n  profilePhotoContainer: {\n    marginTop: DEVICE_LARGE ? 20 : 18,\n  },\n  changePhotoButton: {\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  profilePhotoText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[16],\n    color: BLUE,\n    marginTop: DEVICE_LARGE ? 6 : 5,\n  },\n  photo: {\n    width: DEVICE_LARGE ? 90 : 78,\n    height: DEVICE_LARGE ? 90 : 78,\n    borderRadius: 71,\n    shadowColor: 'rgba(0, 0, 0, 0.5)',\n    shadowOffset: { width: 0, height: 2 },\n    shadowRadius: 4,\n  },\n  editNameContainer: {\n    width: '100%',\n    marginTop: DEVICE_LARGE ? 36 : 30,\n  },\n  label: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[11],\n    color: DARK_ORANGE,\n  },\n  editNameInput: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[16],\n    marginTop: DEVICE_LARGE ? 4 : 2,\n    width: '100%',\n    color: BLACK,\n  },\n  syncSocialMediaSwitchContainer: {\n    alignItems: 'center',\n    paddingVertical: 5,\n    display: 'flex',\n    flexDirection: 'row',\n  },\n  syncSocialMediaSwitch: {\n    flex: 1,\n  },\n  bottomDivider: {\n    width: '100%',\n    borderBottomColor: LIGHT_GREY,\n    borderBottomWidth: 1,\n    marginTop: DEVICE_LARGE ? 16 : 12,\n  },\n  socialMediaContainer: {\n    width: '100%',\n    marginTop: DEVICE_LARGE ? 18 : 16,\n  },\n  socialMediaLinkContainer: {\n    width: WIDTH - (DEVICE_LARGE ? 80 : 60),\n    maxWidth: WIDTH - (DEVICE_LARGE ? 80 : 60),\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginTop: DEVICE_LARGE ? 10 : 8,\n  },\n  socialMediaLinkLabel: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  socialMediaSelect: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginRight: DEVICE_LARGE ? 14 : 12,\n  },\n  socialMediaType: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[16],\n    color: DARK_BLUE,\n    marginRight: DEVICE_LARGE ? 8 : 6,\n  },\n  addSocialMediaBtn: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginLeft: DEVICE_LARGE ? 6 : 4,\n  },\n  socialMediaInput: {\n    fontFamily: 'Poppins-Light',\n    fontSize: fontSize[14],\n    color: BLACK,\n  },\n  showEditPasswordContainer: {\n    width: '100%',\n    marginTop: DEVICE_LARGE ? 10 : 8,\n  },\n  viewPasswordContainer: {\n    width: '100%',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginTop: DEVICE_LARGE ? 26 : 18,\n  },\n  changePasswordButton: {\n    marginTop: DEVICE_LARGE ? 12 : 8,\n  },\n  setPasswordButton: {\n    marginTop: DEVICE_LARGE ? 12 : 8,\n    alignSelf: 'center',\n  },\n  passwordText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[13],\n    color: DARK_BLUE,\n  },\n  setPasswordText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[15],\n    color: DARK_BLUE,\n  },\n  displayPassword: {\n    fontFamily: 'Poppins-Regular',\n    fontSize: fontSize[13],\n    color: BLACK,\n  },\n  passwordInfoContainer: {},\n  infoText: {\n    fontFamily: 'Poppins-Regular',\n    fontSize: fontSize[11],\n    color: DARKER_GREY,\n  },\n  saveContainer: {\n    width: '100%',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: DEVICE_LARGE ? 44 : 36,\n  },\n  saveButton: {\n    width: DEVICE_LARGE ? 100 : 88,\n    paddingTop: 10,\n    paddingBottom: 9,\n    backgroundColor: GREEN,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderRadius: 20,\n    marginRight: DEVICE_LARGE ? 22 : 18,\n  },\n  saveButtonText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[12],\n  },\n  cancelButton: {\n    width: DEVICE_LARGE ? 100 : 88,\n    paddingTop: 10,\n    paddingBottom: 9,\n    backgroundColor: WHITE,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderRadius: 20,\n    borderWidth: 1,\n    borderColor: DARKER_GREY,\n  },\n  cancelButtonText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[12],\n    color: DARKER_GREY,\n  },\n  closeButton: {\n    paddingHorizontal: DEVICE_LARGE ? 10 : 8,\n    marginRight: DEVICE_LARGE ? -10 : -8,\n  },\n});\n\nexport default EditProfileScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}