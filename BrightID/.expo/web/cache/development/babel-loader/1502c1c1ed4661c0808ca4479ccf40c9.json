{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (it) return (it = it.call(o)).next.bind(it);\n\n  if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n    if (it) o = it;\n    var i = 0;\n    return function () {\n      if (i >= o.length) return {\n        done: true\n      };\n      return {\n        done: false,\n        value: o[i++]\n      };\n    };\n  }\n\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nimport { useEffect, useMemo, useState } from 'react';\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { useTranslation } from 'react-i18next';\nimport _ from 'lodash';\nimport { useDispatch, useSelector } from \"../../store\";\nimport { DEVICE_LARGE } from \"../../utils/deviceConstants\";\nimport { fontSize } from \"../../theme/fonts\";\nimport { WHITE, DARKER_GREY, BLUE, ORANGE, YELLOW } from \"../../theme/colors\";\nimport { updateLinkedContext, selectLinkedContext, createSelectLinkedSigsForApp } from \"../../actions\";\nimport { isVerified } from \"../../utils/verifications\";\nimport Check from \"../Icons/Check\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar MAX_WAITING_SECONDS = 60;\n\nvar AppCard = function AppCard(props) {\n  var url = props.url,\n      id = props.id,\n      logo = props.logo,\n      name = props.name,\n      unusedSponsorships = props.unusedSponsorships,\n      context = props.context,\n      testing = props.testing,\n      appVerifications = props.verifications,\n      usingBlindSig = props.usingBlindSig;\n  var dispatch = useDispatch();\n  var userVerifications = useSelector(function (state) {\n    return state.user.verifications;\n  });\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      verifiedCount = _useState2[0],\n      setVerifiedCount = _useState2[1];\n\n  var linkedContextSelector = useMemo(function () {\n    return selectLinkedContext;\n  }, []);\n  var linkedContext = useSelector(function (state) {\n    return linkedContextSelector(state, context);\n  });\n  var appColorTheme = useMemo(function () {\n    switch (name) {\n      case 'Gitcoin':\n        return '#8F37FF';\n\n      case '1Hive':\n        return '#FFD037';\n\n      case 'RabbitHole':\n        return '#0FCE7C';\n\n      case 'IDChain':\n        return '#2C227E';\n\n      case 'Rare Coin Claims':\n        return '#1DA1F2';\n\n      case 'MultiverseDAO':\n        return '#F21DDD';\n\n      case 'clr.fund':\n        return '#261A4B';\n\n      case 'Burn Signal':\n        return '#ED411B';\n\n      case 'The Ether':\n        return '#7CE0D6';\n\n      case 'Top-up Gifter':\n        return '#F38621';\n\n      case 'Discord Unique Bot':\n        return '#9EA1E0';\n\n      case 'Snapshot':\n        return '#FFAF37';\n\n      case '13Votes':\n        return '#B337FF';\n\n      case '$Bright':\n        return '#FFC918';\n\n      case 'Lumos':\n        return '#FFD337';\n\n      default:\n        return '';\n    }\n  }, [name]);\n  var selectLinkedSigs = useMemo(function () {\n    return createSelectLinkedSigsForApp(id);\n  }, [id]);\n  var linkedSigs = useSelector(selectLinkedSigs);\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  useEffect(function () {\n    var count = 0;\n\n    for (var _iterator = _createForOfIteratorHelperLoose(appVerifications), _step; !(_step = _iterator()).done;) {\n      var verification = _step.value;\n      var verified = isVerified(_.keyBy(userVerifications, function (v) {\n        return v.name;\n      }), verification);\n\n      if (verified) {\n        count++;\n      } else {}\n    }\n\n    setVerifiedCount(count);\n  }, [appVerifications, name, userVerifications]);\n  var isLinked = usingBlindSig ? linkedSigs.length > 0 : linkedContext && linkedContext.state === 'applied';\n  var notSponsored = unusedSponsorships < 1 || !unusedSponsorships;\n  useEffect(function () {\n    var stale_check_timer;\n\n    if (linkedContext && linkedContext.state === 'pending') {\n      var checkTime = linkedContext.dateAdded + MAX_WAITING_SECONDS * 1000 + 5000 - Date.now();\n\n      if (checkTime < 0) {\n        console.log(\"Warning - checkTime in past: \" + checkTime);\n        checkTime = 1000;\n      }\n\n      console.log(\"Marking linkedContext as stale in \" + checkTime + \"ms.\");\n      stale_check_timer = setTimeout(function () {\n        dispatch(updateLinkedContext({\n          contextId: linkedContext.contextId,\n          state: 'failed'\n        }));\n        Alert.alert('Error', \"Failed to link with \" + linkedContext.context);\n      }, checkTime);\n    }\n\n    return function () {\n      clearTimeout(stale_check_timer);\n    };\n  }, [linkedContext, dispatch]);\n\n  var openApp = function openApp() {\n    if (url) {\n      Alert.alert('', t('apps.alert.text.checkWebsite', {\n        name: name\n      }), [{\n        text: t('apps.alert.button.visitWebsite'),\n        onPress: function onPress() {\n          Linking.openURL(url);\n        }\n      }, {\n        text: t('common.alert.cancel'),\n        style: 'cancel',\n        onPress: function onPress() {\n          return null;\n        }\n      }], {\n        cancelable: true\n      });\n    } else {\n      console.log(\"No url set for app \" + name);\n    }\n  };\n\n  var VerifiedLabel = function VerifiedLabel() {\n    if (verifiedCount === appVerifications.length) {\n      return _jsx(View, {\n        style: styles.verifiedContainer,\n        children: _jsx(Text, {\n          style: styles.verifiedLabel,\n          children: \"verified\"\n        })\n      });\n    } else if (verifiedCount > 0) {\n      return _jsx(View, {\n        style: styles.partVerifiedContainer,\n        children: _jsxs(Text, {\n          style: styles.partVerifiedLabel,\n          children: [\"partly verified (\", verifiedCount + \"/\" + appVerifications.length, \")\"]\n        })\n      });\n    } else {\n      return _jsx(View, {\n        style: styles.unverifiedContainer,\n        children: _jsxs(Text, {\n          style: styles.unverifiedLabel,\n          children: [\"unverified (\", verifiedCount + \"/\" + appVerifications.length, \")\"]\n        })\n      });\n    }\n  };\n\n  var SponsorshipLabel = function SponsorshipLabel() {\n    if (notSponsored) {\n      return _jsx(View, {\n        style: styles.sponsorshipContainer,\n        children: _jsx(Text, {\n          style: styles.sponsorshipLabel,\n          children: \"no sponsorships\"\n        })\n      });\n    } else {\n      return null;\n    }\n  };\n\n  var Labels = function Labels() {\n    return _jsxs(View, {\n      style: styles.labelsContainer,\n      children: [_jsx(SponsorshipLabel, {}), _jsx(VerifiedLabel, {})]\n    });\n  };\n\n  var LinkedSticker = function LinkedSticker() {\n    if (usingBlindSig) {\n      return linkedSigs.length > 0 ? _jsxs(View, {\n        style: styles.linkedContainer,\n        testID: \"Linked_\" + id,\n        children: [_jsx(View, {\n          style: styles.linkedSticker,\n          children: _jsx(Check, {\n            width: fontSize[11],\n            height: fontSize[11],\n            strokeWidth: 3,\n            color: WHITE\n          })\n        }), _jsx(Text, {\n          style: styles.linkedText,\n          children: \"Linked (\" + linkedSigs.length + \"/\" + appVerifications.length + \")\"\n        })]\n      }) : null;\n    } else {\n      return isLinked ? _jsxs(View, {\n        style: styles.linkedContainer,\n        testID: \"Linked_\" + id,\n        children: [_jsx(View, {\n          style: styles.linkedSticker,\n          children: _jsx(Check, {\n            width: fontSize[11],\n            height: fontSize[11],\n            strokeWidth: 3,\n            color: WHITE\n          })\n        }), _jsx(Text, {\n          style: styles.linkedText,\n          children: \"Linked\"\n        })]\n      }) : null;\n    }\n  };\n\n  if (testing && !isLinked) {\n    return null;\n  }\n\n  return _jsxs(TouchableOpacity, {\n    style: [styles.container, styles.shadow, {\n      opacity: notSponsored ? 0.5 : 1\n    }],\n    testID: \"app-\" + id,\n    onPress: openApp,\n    children: [_jsx(View, {\n      style: [styles.logoBackground, {\n        backgroundColor: appColorTheme\n      }]\n    }), _jsx(View, {\n      style: [styles.logoContainer, !notSponsored && styles.shadow],\n      children: _jsx(Image, {\n        source: {\n          uri: logo !== '' ? logo : null\n        },\n        style: styles.logo\n      })\n    }), _jsx(Text, {\n      style: styles.label,\n      children: name\n    }), _jsx(View, {\n      style: styles.divider,\n      children: _jsx(LinkedSticker, {})\n    })]\n  });\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    width: '45%',\n    aspectRatio: 1,\n    alignItems: 'center',\n    borderRadius: 10,\n    backgroundColor: WHITE,\n    paddingTop: 20\n  },\n  shadow: _objectSpread(_objectSpread({}, Platform.select({\n    android: {\n      shadowColor: 'rgba(0,0,0,1)'\n    },\n    ios: {\n      shadowColor: 'rgba(0,0,0,0.2)'\n    }\n  })), {}, {\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 1,\n    shadowRadius: 4,\n    elevation: 5\n  }),\n  logoBackground: {\n    position: 'absolute',\n    borderTopLeftRadius: 10,\n    borderTopRightRadius: 10,\n    backgroundColor: 'red',\n    height: 50,\n    width: '100%'\n  },\n  logoContainer: {\n    height: 60,\n    aspectRatio: 1,\n    borderRadius: 50,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'white'\n  },\n  logo: {\n    height: 35,\n    aspectRatio: 1,\n    resizeMode: 'contain'\n  },\n  label: {\n    marginTop: 10,\n    fontFamily: 'Poppins-Medium',\n    fontSize: 12\n  },\n  divider: {\n    flex: 1,\n    flexDirection: 'row',\n    borderTopWidth: 0.5,\n    width: '100%',\n    marginTop: 10,\n    paddingHorizontal: 15,\n    alignItems: 'center'\n  },\n  linkedContainer: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  linkedSticker: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 1,\n    borderColor: BLUE,\n    borderRadius: 50,\n    backgroundColor: BLUE,\n    width: fontSize[18],\n    height: fontSize[18],\n    marginRight: 10\n  },\n  linkedText: {\n    fontFamily: 'Poppins-Regular',\n    color: BLUE,\n    marginRight: DEVICE_LARGE ? 15 : 10,\n    fontSize: fontSize[13]\n  },\n  partVerifiedContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 1,\n    borderColor: YELLOW,\n    borderRadius: 10\n  },\n  verifiedContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 1,\n    borderColor: ORANGE,\n    borderRadius: 10\n  },\n  verifiedLabel: {\n    fontSize: fontSize[10],\n    marginHorizontal: DEVICE_LARGE ? 9 : 7.5,\n    marginVertical: DEVICE_LARGE ? 1.3 : 1.1,\n    color: ORANGE\n  },\n  partVerifiedLabel: {\n    fontSize: fontSize[10],\n    marginHorizontal: DEVICE_LARGE ? 9 : 7.5,\n    marginVertical: DEVICE_LARGE ? 1.3 : 1.1,\n    color: YELLOW\n  },\n  sponsorshipContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 1,\n    borderColor: DARKER_GREY,\n    borderRadius: 10,\n    marginRight: 5\n  },\n  sponsorshipLabel: {\n    fontSize: fontSize[10],\n    marginHorizontal: 5,\n    marginVertical: 1.3,\n    color: DARKER_GREY\n  },\n  unverifiedContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 1,\n    borderColor: DARKER_GREY,\n    borderRadius: 10\n  },\n  unverifiedLabel: {\n    fontSize: fontSize[10],\n    marginHorizontal: DEVICE_LARGE ? 9 : 7.5,\n    marginVertical: DEVICE_LARGE ? 1.3 : 1.1,\n    color: DARKER_GREY\n  },\n  labelsContainer: {\n    width: '100%',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    marginTop: 5.5\n  }\n});\nexport default AppCard;","map":{"version":3,"sources":["/home/ali/Desktop/brightid/BrightID/BrightID/src/components/Apps/AppCard.tsx"],"names":["MAX_WAITING_SECONDS","AppCard","url","id","logo","name","unusedSponsorships","context","testing","appVerifications","usingBlindSig","props","dispatch","useDispatch","userVerifications","useSelector","state","verifiedCount","setVerifiedCount","useState","linkedContextSelector","useMemo","linkedContext","appColorTheme","selectLinkedSigs","createSelectLinkedSigsForApp","linkedSigs","t","useTranslation","useEffect","count","verification","verified","isVerified","_","v","isLinked","notSponsored","checkTime","Date","console","stale_check_timer","setTimeout","updateLinkedContext","contextId","Alert","clearTimeout","openApp","text","onPress","Linking","style","cancelable","VerifiedLabel","styles","SponsorshipLabel","Labels","LinkedSticker","fontSize","opacity","backgroundColor","uri","StyleSheet","container","width","aspectRatio","alignItems","borderRadius","paddingTop","shadow","Platform","android","shadowColor","ios","shadowOffset","height","shadowOpacity","shadowRadius","elevation","logoBackground","position","borderTopLeftRadius","borderTopRightRadius","logoContainer","justifyContent","resizeMode","label","marginTop","fontFamily","divider","flex","flexDirection","borderTopWidth","paddingHorizontal","linkedContainer","linkedSticker","borderWidth","borderColor","marginRight","linkedText","color","DEVICE_LARGE","partVerifiedContainer","verifiedContainer","verifiedLabel","marginHorizontal","marginVertical","partVerifiedLabel","sponsorshipContainer","sponsorshipLabel","unverifiedContainer","unverifiedLabel","labelsContainer"],"mappings":"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","sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport {\n  Alert,\n  Image,\n  StyleSheet,\n  Text,\n  Platform,\n  View,\n  Linking,\n  TouchableOpacity,\n} from 'react-native';\nimport { useTranslation } from 'react-i18next';\nimport _ from 'lodash';\nimport { useDispatch, useSelector } from '@/store';\nimport { DEVICE_LARGE } from '@/utils/deviceConstants';\nimport { fontSize } from '@/theme/fonts';\nimport {\n  WHITE,\n  DARKER_GREY,\n  BLACK,\n  BLUE,\n  ORANGE,\n  YELLOW,\n} from '@/theme/colors';\nimport {\n  updateLinkedContext,\n  selectLinkedContext,\n  createSelectLinkedSigsForApp,\n} from '@/actions';\n\nimport { isVerified } from '@/utils/verifications';\nimport Check from '../Icons/Check';\n\n/**\n * App Card in the Apps Screen\n * each App should have:\n * @prop name\n * @prop logo\n * @prop url\n */\nconst MAX_WAITING_SECONDS = 60;\n\nconst AppCard = (props: AppInfo) => {\n  const {\n    url,\n    id,\n    logo,\n    name,\n    unusedSponsorships,\n    context,\n    testing,\n    verifications: appVerifications,\n    usingBlindSig,\n  } = props;\n  const dispatch = useDispatch();\n  const userVerifications = useSelector(\n    (state: State) => state.user.verifications,\n  );\n  const [verifiedCount, setVerifiedCount] = useState(0);\n\n  // Make sure each instance of AppCard has it's own selector. Otherwise they would\n  // invalidate each others cache. See https://react-redux.js.org/next/api/hooks#using-memoizing-selectors\n  const linkedContextSelector = useMemo(() => selectLinkedContext, []);\n  const linkedContext = useSelector((state: State) =>\n    linkedContextSelector(state, context),\n  );\n\n  const appColorTheme = useMemo(() => {\n    switch (name) {\n      case 'Gitcoin':\n        return '#8F37FF';\n      case '1Hive':\n        return '#FFD037';\n      case 'RabbitHole':\n        return '#0FCE7C';\n      case 'IDChain':\n        return '#2C227E';\n      case 'Rare Coin Claims':\n        return '#1DA1F2';\n      case 'MultiverseDAO':\n        return '#F21DDD';\n      case 'clr.fund':\n        return '#261A4B';\n      case 'Burn Signal':\n        return '#ED411B';\n      case 'The Ether':\n        return '#7CE0D6';\n      case 'Top-up Gifter':\n        return '#F38621';\n      case 'Discord Unique Bot':\n        return '#9EA1E0';\n      case 'Snapshot':\n        return '#FFAF37';\n      case '13Votes':\n        return '#B337FF';\n      case '$Bright':\n        return '#FFC918';\n      case 'Lumos':\n        return '#FFD337';\n      default:\n        return '';\n    }\n  }, [name]);\n  const selectLinkedSigs = useMemo(\n    () => createSelectLinkedSigsForApp(id),\n    [id],\n  );\n  const linkedSigs = useSelector(selectLinkedSigs);\n\n  const { t } = useTranslation();\n\n  // Get verifications user has for this app\n  useEffect(() => {\n    let count = 0;\n    for (const verification of appVerifications) {\n      const verified = isVerified(\n        _.keyBy(userVerifications, (v) => v.name),\n        verification,\n      );\n      if (verified) {\n        // console.log(`${name}: verified for ${verification}`);\n        count++;\n      } else {\n        // console.log(`${name}: not verified for ${verification}`);\n      }\n    }\n    setVerifiedCount(count);\n  }, [appVerifications, name, userVerifications]);\n\n  const isLinked = usingBlindSig\n    ? linkedSigs.length > 0\n    : linkedContext && linkedContext.state === 'applied';\n  const notSponsored = unusedSponsorships < 1 || !unusedSponsorships;\n\n  useEffect(() => {\n    let stale_check_timer;\n    if (linkedContext && linkedContext.state === 'pending') {\n      let checkTime =\n        linkedContext.dateAdded +\n        MAX_WAITING_SECONDS * 1000 +\n        5000 -\n        Date.now();\n\n      if (checkTime < 0) {\n        console.log(`Warning - checkTime in past: ${checkTime}`);\n        checkTime = 1000; // check in 1 second\n      }\n\n      console.log(`Marking linkedContext as stale in ${checkTime}ms.`);\n\n      stale_check_timer = setTimeout(() => {\n        dispatch(\n          updateLinkedContext({\n            contextId: linkedContext.contextId,\n            state: 'failed',\n          }),\n        );\n        Alert.alert('Error', `Failed to link with ${linkedContext.context}`);\n      }, checkTime);\n    }\n    return () => {\n      clearTimeout(stale_check_timer);\n    };\n  }, [linkedContext, dispatch]);\n\n  const openApp = () => {\n    if (url) {\n      Alert.alert(\n        '',\n        t('apps.alert.text.checkWebsite', { name }),\n        [\n          {\n            text: t('apps.alert.button.visitWebsite'),\n            onPress: () => {\n              Linking.openURL(url);\n            },\n          },\n          {\n            text: t('common.alert.cancel'),\n            style: 'cancel',\n            onPress: () => null,\n          },\n        ],\n        { cancelable: true },\n      );\n    } else {\n      console.log(`No url set for app ${name}`);\n    }\n  };\n\n  const VerifiedLabel = () => {\n    if (verifiedCount === appVerifications.length) {\n      return (\n        <View style={styles.verifiedContainer}>\n          <Text style={styles.verifiedLabel}>verified</Text>\n        </View>\n      );\n    } else if (verifiedCount > 0) {\n      // partly verified\n      return (\n        <View style={styles.partVerifiedContainer}>\n          <Text style={styles.partVerifiedLabel}>\n            partly verified ({`${verifiedCount}/${appVerifications.length}`})\n          </Text>\n        </View>\n      );\n    } else {\n      // no verification\n      return (\n        <View style={styles.unverifiedContainer}>\n          <Text style={styles.unverifiedLabel}>\n            unverified ({`${verifiedCount}/${appVerifications.length}`})\n          </Text>\n        </View>\n      );\n    }\n  };\n\n  const SponsorshipLabel = () => {\n    if (notSponsored) {\n      return (\n        <View style={styles.sponsorshipContainer}>\n          <Text style={styles.sponsorshipLabel}>no sponsorships</Text>\n        </View>\n      );\n    } else {\n      return null;\n    }\n  };\n\n  const Labels = () => {\n    return (\n      <View style={styles.labelsContainer}>\n        <SponsorshipLabel />\n        <VerifiedLabel />\n      </View>\n    );\n  };\n\n  const LinkedSticker = () => {\n    if (usingBlindSig) {\n      // show x/y linked sigs\n      return linkedSigs.length > 0 ? (\n        <View style={styles.linkedContainer} testID={`Linked_${id}`}>\n          <View style={styles.linkedSticker}>\n            <Check\n              width={fontSize[11]}\n              height={fontSize[11]}\n              strokeWidth={3}\n              color={WHITE}\n            />\n          </View>\n          <Text\n            style={styles.linkedText}\n          >{`Linked (${linkedSigs.length}/${appVerifications.length})`}</Text>\n        </View>\n      ) : null;\n    } else {\n      return isLinked ? (\n        <View style={styles.linkedContainer} testID={`Linked_${id}`}>\n          <View style={styles.linkedSticker}>\n            <Check\n              width={fontSize[11]}\n              height={fontSize[11]}\n              strokeWidth={3}\n              color={WHITE}\n            />\n          </View>\n          <Text style={styles.linkedText}>Linked</Text>\n        </View>\n      ) : null;\n    }\n  };\n\n  // If app is testing and user is not linked, do not display card\n  if (testing && !isLinked) {\n    return null;\n  }\n\n  return (\n    <TouchableOpacity\n      style={[\n        styles.container,\n        styles.shadow,\n        { opacity: notSponsored ? 0.5 : 1 },\n      ]}\n      testID={`app-${id}`}\n      onPress={openApp}\n    >\n      <View\n        style={[styles.logoBackground, { backgroundColor: appColorTheme }]}\n      />\n      <View style={[styles.logoContainer, !notSponsored && styles.shadow]}>\n        <Image\n          source={{\n            uri: logo !== '' ? logo : null,\n          }}\n          style={styles.logo}\n        />\n      </View>\n\n      <Text style={styles.label}>{name}</Text>\n\n      <View style={styles.divider}>\n        <LinkedSticker />\n      </View>\n    </TouchableOpacity>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    width: '45%',\n    aspectRatio: 1,\n    alignItems: 'center',\n    borderRadius: 10,\n    backgroundColor: WHITE,\n    paddingTop: 20,\n  },\n  shadow: {\n    ...Platform.select({\n      android: { shadowColor: 'rgba(0,0,0,1)' },\n      ios: { shadowColor: 'rgba(0,0,0,0.2)' },\n    }),\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 1,\n    shadowRadius: 4,\n    elevation: 5,\n  },\n  logoBackground: {\n    position: 'absolute',\n    borderTopLeftRadius: 10,\n    borderTopRightRadius: 10,\n    backgroundColor: 'red',\n    height: 50,\n    width: '100%',\n  },\n  logoContainer: {\n    height: 60,\n    aspectRatio: 1,\n    borderRadius: 50,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'white',\n  },\n  logo: {\n    height: 35,\n    aspectRatio: 1,\n    resizeMode: 'contain',\n  },\n  label: {\n    marginTop: 10,\n    fontFamily: 'Poppins-Medium',\n    fontSize: 12,\n  },\n  divider: {\n    flex: 1,\n    flexDirection: 'row',\n    borderTopWidth: 0.5,\n    width: '100%',\n    marginTop: 10,\n    paddingHorizontal: 15,\n    alignItems: 'center',\n  },\n  linkedContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  linkedSticker: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 1,\n    borderColor: BLUE,\n    borderRadius: 50,\n    backgroundColor: BLUE,\n    width: fontSize[18],\n    height: fontSize[18],\n    marginRight: 10,\n  },\n  linkedText: {\n    fontFamily: 'Poppins-Regular',\n    color: BLUE,\n    marginRight: DEVICE_LARGE ? 15 : 10,\n    fontSize: fontSize[13],\n  },\n  partVerifiedContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 1,\n    borderColor: YELLOW,\n    borderRadius: 10,\n  },\n  verifiedContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 1,\n    borderColor: ORANGE,\n    borderRadius: 10,\n  },\n  verifiedLabel: {\n    fontSize: fontSize[10],\n    marginHorizontal: DEVICE_LARGE ? 9 : 7.5,\n    marginVertical: DEVICE_LARGE ? 1.3 : 1.1,\n    color: ORANGE,\n  },\n  partVerifiedLabel: {\n    fontSize: fontSize[10],\n    marginHorizontal: DEVICE_LARGE ? 9 : 7.5,\n    marginVertical: DEVICE_LARGE ? 1.3 : 1.1,\n    color: YELLOW,\n  },\n  sponsorshipContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 1,\n    borderColor: DARKER_GREY,\n    borderRadius: 10,\n    marginRight: 5,\n  },\n  sponsorshipLabel: {\n    fontSize: fontSize[10],\n    marginHorizontal: 5,\n    marginVertical: 1.3,\n    color: DARKER_GREY,\n  },\n  unverifiedContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 1,\n    borderColor: DARKER_GREY,\n    borderRadius: 10,\n  },\n  unverifiedLabel: {\n    fontSize: fontSize[10],\n    marginHorizontal: DEVICE_LARGE ? 9 : 7.5,\n    marginVertical: DEVICE_LARGE ? 1.3 : 1.1,\n    color: DARKER_GREY,\n  },\n  labelsContainer: {\n    width: '100%',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    marginTop: 5.5,\n  },\n});\n\nexport default AppCard;\n"]},"metadata":{},"sourceType":"module"}