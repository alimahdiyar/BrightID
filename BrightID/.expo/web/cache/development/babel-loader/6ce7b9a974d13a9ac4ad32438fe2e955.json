{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport RNFetchBlob from 'rn-fetch-blob';\nimport { resetStore } from \"../actions\";\nimport { store } from \"../store\";\nvar defaultStoragePath = RNFetchBlob.fs.dirs.DocumentDir + \"/persistStore\";\nexport var dangerouslyDeleteStorage = function _callee() {\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          store.dispatch(resetStore());\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(AsyncStorage.clear());\n\n        case 3:\n          _context.next = 5;\n          return _regeneratorRuntime.awrap(RNFetchBlob.fs.unlink(defaultStoragePath));\n\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var delStorage = function delStorage() {\n  if (__DEV__) {\n    Alert.alert('WARNING', 'Would you like to delete user data and return to the onboarding screen?', [{\n      text: 'Cancel',\n      onPress: function onPress() {\n        return console.log('Cancel Pressed');\n      },\n      style: 'cancel'\n    }, {\n      text: 'Sure',\n      onPress: function onPress() {\n        return _regeneratorRuntime.async(function onPress$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return _regeneratorRuntime.awrap(dangerouslyDeleteStorage());\n\n              case 3:\n                _context2.next = 8;\n                break;\n\n              case 5:\n                _context2.prev = 5;\n                _context2.t0 = _context2[\"catch\"](0);\n                _context2.t0 instanceof Error ? console.warn('delete storage', _context2.t0.message) : console.log('delete storage', _context2.t0);\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, null, null, [[0, 5]], Promise);\n      }\n    }], {\n      cancelable: true\n    });\n  }\n};","map":{"version":3,"names":["AsyncStorage","RNFetchBlob","resetStore","store","defaultStoragePath","fs","dirs","DocumentDir","dangerouslyDeleteStorage","dispatch","clear","unlink","delStorage","__DEV__","Alert","alert","text","onPress","console","log","style","Error","warn","message","cancelable"],"sources":["/home/ali/Desktop/brightid/BrightID/BrightID/src/utils/dev.ts"],"sourcesContent":["import { Alert } from 'react-native';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport RNFetchBlob from 'rn-fetch-blob';\nimport { resetStore } from '@/actions';\nimport { store } from '@/store';\n\nconst defaultStoragePath = `${RNFetchBlob.fs.dirs.DocumentDir}/persistStore`;\n\nexport const dangerouslyDeleteStorage = async () => {\n  store.dispatch(resetStore());\n  await AsyncStorage.clear();\n  await RNFetchBlob.fs.unlink(defaultStoragePath);\n};\n\nexport const delStorage = () => {\n  if (__DEV__) {\n    Alert.alert(\n      'WARNING',\n      'Would you like to delete user data and return to the onboarding screen?',\n      [\n        {\n          text: 'Cancel',\n          onPress: () => console.log('Cancel Pressed'),\n          style: 'cancel',\n        },\n        {\n          text: 'Sure',\n          onPress: async () => {\n            try {\n              await dangerouslyDeleteStorage();\n            } catch (err) {\n              err instanceof Error\n                ? console.warn('delete storage', err.message)\n                : console.log('delete storage', err);\n            }\n          },\n        },\n      ],\n      { cancelable: true },\n    );\n  }\n};\n"],"mappings":";;AACA,OAAOA,YAAP,MAAyB,2CAAzB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAASC,UAAT;AACA,SAASC,KAAT;AAEA,IAAMC,kBAAkB,GAAMH,WAAW,CAACI,EAAZ,CAAeC,IAAf,CAAoBC,WAA1B,kBAAxB;AAEA,OAAO,IAAMC,wBAAwB,GAAG;EAAA;IAAA;MAAA;QAAA;UACtCL,KAAK,CAACM,QAAN,CAAeP,UAAU,EAAzB;UADsC;UAAA,iCAEhCF,YAAY,CAACU,KAAb,EAFgC;;QAAA;UAAA;UAAA,iCAGhCT,WAAW,CAACI,EAAZ,CAAeM,MAAf,CAAsBP,kBAAtB,CAHgC;;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA;AAAA,CAAjC;AAMP,OAAO,IAAMQ,UAAU,GAAG,SAAbA,UAAa,GAAM;EAC9B,IAAIC,OAAJ,EAAa;IACXC,KAAK,CAACC,KAAN,CACE,SADF,EAEE,yEAFF,EAGE,CACE;MACEC,IAAI,EAAE,QADR;MAEEC,OAAO,EAAE;QAAA,OAAMC,OAAO,CAACC,GAAR,CAAY,gBAAZ,CAAN;MAAA,CAFX;MAGEC,KAAK,EAAE;IAHT,CADF,EAME;MACEJ,IAAI,EAAE,MADR;MAEEC,OAAO,EAAE;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,iCAECT,wBAAwB,EAFzB;;cAAA;gBAAA;gBAAA;;cAAA;gBAAA;gBAAA;gBAIL,wBAAea,KAAf,GACIH,OAAO,CAACI,IAAR,CAAa,gBAAb,EAA+B,aAAIC,OAAnC,CADJ,GAEIL,OAAO,CAACC,GAAR,CAAY,gBAAZ,eAFJ;;cAJK;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAFX,CANF,CAHF,EAsBE;MAAEK,UAAU,EAAE;IAAd,CAtBF;EAwBD;AACF,CA3BM"},"metadata":{},"sourceType":"module"}