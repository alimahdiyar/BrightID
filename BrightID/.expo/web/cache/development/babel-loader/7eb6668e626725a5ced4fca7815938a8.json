{"ast":null,"code":"Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.connectionsSelector = void 0;\n\nvar _toolkit = require(\"@reduxjs/toolkit\");\n\nvar _connectionsSlice = require(\"../reducer/connectionsSlice\");\n\nvar _strings = require(\"./strings\");\n\nvar _sorting = require(\"./sorting\");\n\nvar searchParamSelector = function searchParamSelector(state) {\n  return state.connections.searchParam;\n};\n\nvar connSortSelector = function connSortSelector(state) {\n  return state.connections.connectionsSort;\n};\n\nvar filtersSelector = function filtersSelector(state) {\n  return state.connections.filters;\n};\n\nvar connectionsSelector = (0, _toolkit.createSelector)([_connectionsSlice.selectAllConnections, searchParamSelector, filtersSelector, connSortSelector, function (_, excluded) {\n  return excluded;\n}], function (connections, searchParam, filters, connectionsSort, excluded) {\n  var searchString = (0, _strings.toSearchString)(searchParam);\n  return connections.filter(function (conn) {\n    return (0, _strings.toSearchString)(\"\" + (conn == null ? void 0 : conn.name)).includes(searchString) && filters.includes(conn == null ? void 0 : conn.level) && !(excluded != null && excluded.includes(conn.id));\n  }).sort((0, _sorting.sortConnectionsBy)(connectionsSort));\n});\nexports.connectionsSelector = connectionsSelector;","map":{"version":3,"names":["searchParamSelector","state","connections","searchParam","connSortSelector","connectionsSort","filtersSelector","filters","connectionsSelector","createSelector","selectAllConnections","_","excluded","searchString","toSearchString","filter","conn","name","includes","level","id","sort","sortConnectionsBy"],"sources":["/home/ali/Desktop/brightid/BrightID/BrightID/src/utils/connectionsSelector.ts"],"sourcesContent":["import { createSelector } from '@reduxjs/toolkit';\nimport { selectAllConnections } from '@/reducer/connectionsSlice';\nimport { toSearchString } from '@/utils/strings';\nimport { sortConnectionsBy } from '@/utils/sorting';\n\nconst searchParamSelector = (state: State) => state.connections.searchParam;\nconst connSortSelector = (state: State) => state.connections.connectionsSort;\nconst filtersSelector = (state: State) => state.connections.filters;\n\nexport const connectionsSelector = createSelector(\n  [\n    selectAllConnections,\n    searchParamSelector,\n    filtersSelector,\n    connSortSelector,\n    (_: State, excluded: string[] | undefined) => excluded,\n  ],\n  (connections, searchParam, filters, connectionsSort, excluded) => {\n    const searchString = toSearchString(searchParam);\n    return connections\n      .filter(\n        (conn) =>\n          toSearchString(`${conn?.name}`).includes(searchString) &&\n          filters.includes(conn?.level) &&\n          !excluded?.includes(conn.id),\n      )\n      .sort(sortConnectionsBy(connectionsSort));\n  },\n);\n"],"mappings":";;;;;AAAA;;AACA;;AACA;;AACA;;AAEA,IAAMA,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACC,KAAD;EAAA,OAAkBA,KAAK,CAACC,WAAN,CAAkBC,WAApC;AAAA,CAA5B;;AACA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACH,KAAD;EAAA,OAAkBA,KAAK,CAACC,WAAN,CAAkBG,eAApC;AAAA,CAAzB;;AACA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACL,KAAD;EAAA,OAAkBA,KAAK,CAACC,WAAN,CAAkBK,OAApC;AAAA,CAAxB;;AAEO,IAAMC,mBAAmB,GAAG,IAAAC,uBAAA,EACjC,CACEC,sCADF,EAEEV,mBAFF,EAGEM,eAHF,EAIEF,gBAJF,EAKE,UAACO,CAAD,EAAWC,QAAX;EAAA,OAA8CA,QAA9C;AAAA,CALF,CADiC,EAQjC,UAACV,WAAD,EAAcC,WAAd,EAA2BI,OAA3B,EAAoCF,eAApC,EAAqDO,QAArD,EAAkE;EAChE,IAAMC,YAAY,GAAG,IAAAC,uBAAA,EAAeX,WAAf,CAArB;EACA,OAAOD,WAAW,CACfa,MADI,CAEH,UAACC,IAAD;IAAA,OACE,IAAAF,uBAAA,QAAkBE,IAAlB,oBAAkBA,IAAI,CAAEC,IAAxB,GAAgCC,QAAhC,CAAyCL,YAAzC,KACAN,OAAO,CAACW,QAAR,CAAiBF,IAAjB,oBAAiBA,IAAI,CAAEG,KAAvB,CADA,IAEA,EAACP,QAAD,YAACA,QAAQ,CAAEM,QAAV,CAAmBF,IAAI,CAACI,EAAxB,CAAD,CAHF;EAAA,CAFG,EAOJC,IAPI,CAOC,IAAAC,0BAAA,EAAkBjB,eAAlB,CAPD,CAAP;AAQD,CAlBgC,CAA5B"},"metadata":{},"sourceType":"script"}