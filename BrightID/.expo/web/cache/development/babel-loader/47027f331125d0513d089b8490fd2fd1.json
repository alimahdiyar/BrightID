{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.AppsScreen = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactI18next = require(\"react-i18next\");\n\nvar _ramda = require(\"ramda\");\n\nvar _native = require(\"@react-navigation/native\");\n\nvar _stack = require(\"@react-navigation/stack\");\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nvar _reactNativeSpinkit = _interopRequireDefault(require(\"react-native-spinkit\"));\n\nvar _appsSlice = require(\"../../reducer/appsSlice\");\n\nvar _store = require(\"../../store\");\n\nvar _EmptyList = _interopRequireDefault(require(\"../Helpers/EmptyList\"));\n\nvar _colors = require(\"../../theme/colors\");\n\nvar _deviceConstants = require(\"../../utils/deviceConstants\");\n\nvar _actions = require(\"../../actions\");\n\nvar _fonts = require(\"../../theme/fonts\");\n\nvar _NodeApiGate = require(\"../NodeApiGate\");\n\nvar _verifications = require(\"../../utils/verifications\");\n\nvar _AppCard = _interopRequireDefault(require(\"./AppCard\"));\n\nvar _model = require(\"./model\");\n\nvar _AnimatedLinearGradient = _interopRequireDefault(require(\"./AnimatedLinearGradient\"));\n\nvar _this = this,\n    _jsxFileName = \"/home/ali/Desktop/brightid/BrightID/BrightID/src/components/Apps/AppsScreen.tsx\";\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (it) return (it = it.call(o)).next.bind(it); if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar AppsScreen = function AppsScreen() {\n  var filters = [{\n    name: 'All Apps',\n    id: 1\n  }, {\n    name: 'Linked',\n    id: 2\n  }, {\n    name: 'Verified',\n    id: 3\n  }];\n  var dispatch = (0, _store.useDispatch)();\n  var navigation = (0, _native.useNavigation)();\n  var route = (0, _native.useRoute)();\n  var api = (0, _react.useContext)(_NodeApiGate.NodeApiContext);\n  var headerHeight = (0, _stack.useHeaderHeight)();\n\n  var _useTranslation = (0, _reactI18next.useTranslation)(),\n      t = _useTranslation.t;\n\n  var apps = (0, _store.useSelector)(_actions.selectAllApps);\n  var isSponsored = (0, _store.useSelector)(function (state) {\n    return state.user.isSponsored || state.user.isSponsoredv6;\n  });\n  var linkedContext = (0, _store.useSelector)(_appsSlice.selectAllLinkedContexts);\n  var linkedContextsCount = (0, _store.useSelector)(_appsSlice.linkedContextTotal);\n  var selectLinkedSigs = (0, _store.useSelector)(_appsSlice.selectAllLinkedSigs);\n  var pendingLink = (0, _store.useSelector)(_actions.selectPendingLinkedContext);\n  var userVerifications = (0, _store.useSelector)(function (state) {\n    return state.user.verifications;\n  });\n\n  var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      refreshing = _useState2[0],\n      setRefreshing = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(undefined),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      sponsoringApp = _useState4[0],\n      setSponsoringApp = _useState4[1];\n\n  var _useState5 = (0, _react.useState)(0),\n      _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n      totalApps = _useState6[0],\n      setTotalApps = _useState6[1];\n\n  var _useState7 = (0, _react.useState)(0),\n      _useState8 = (0, _slicedToArray2.default)(_useState7, 2),\n      totalVerifiedApp = _useState8[0],\n      setTotalVerifiedApp = _useState8[1];\n\n  var _useState9 = (0, _react.useState)(''),\n      _useState10 = (0, _slicedToArray2.default)(_useState9, 2),\n      search = _useState10[0],\n      setSearch = _useState10[1];\n\n  var _useState11 = (0, _react.useState)(0),\n      _useState12 = (0, _slicedToArray2.default)(_useState11, 2),\n      activefilter = _useState12[0],\n      SetFilter = _useState12[1];\n\n  var _useState13 = (0, _react.useState)(apps),\n      _useState14 = (0, _slicedToArray2.default)(_useState13, 2),\n      filteredApp = _useState14[0],\n      setFilteredApp = _useState14[1];\n\n  var scrollY = (0, _react.useRef)(new _reactNative.Animated.Value(0)).current;\n  var notifHeight = (0, _react.useRef)(new _reactNative.Animated.Value(0)).current;\n  var fadeBackgroundSearch = scrollY.interpolate({\n    inputRange: [0, 230],\n    outputRange: [0, 1]\n  });\n  var fadeBackgroundHeader = scrollY.interpolate({\n    inputRange: [0, 100],\n    outputRange: [1, 0]\n  });\n  var translateYHeader = scrollY.interpolate({\n    inputRange: [0, 290],\n    outputRange: [0, -290],\n    extrapolate: 'clamp'\n  });\n  var translateYSearch = scrollY.interpolate({\n    inputRange: [-640, 0, 290],\n    outputRange: [790, notifHeight._value + 160, 0],\n    extrapolate: 'clamp'\n  });\n\n  var handleScroll = _reactNative.Animated.event([{\n    nativeEvent: {\n      contentOffset: {\n        y: scrollY\n      }\n    }\n  }], {\n    useNativeDriver: true\n  });\n\n  var showView = _reactNative.Animated.timing(notifHeight, {\n    toValue: 100,\n    duration: 500,\n    easing: _reactNative.Easing.linear,\n    useNativeDriver: false\n  });\n\n  var closeView = _reactNative.Animated.timing(notifHeight, {\n    toValue: 0,\n    duration: 500,\n    easing: _reactNative.Easing.linear,\n    useNativeDriver: false\n  });\n\n  var refreshApps = (0, _react.useCallback)(function () {\n    setRefreshing(true);\n    dispatch((0, _actions.fetchApps)(api)).then(function () {\n      setRefreshing(false);\n    }).catch(function (err) {\n      console.log(err.message);\n      setRefreshing(false);\n    });\n  }, [api, dispatch]);\n  var handleV5DeepLink = (0, _react.useCallback)(function () {\n    var _route$params;\n\n    var context = (_route$params = route.params) == null ? void 0 : _route$params.context;\n    var isValidApp = (0, _ramda.any)((0, _ramda.propEq)('id', context))(apps);\n    var isValidContext = (0, _ramda.any)((0, _ramda.propEq)('context', context))(apps);\n\n    if (isValidApp || isValidContext) {\n      (0, _model.handleV5App)(route.params, setSponsoringApp, api);\n    } else {\n      _reactNative.Alert.alert(t('apps.alert.title.invalidContext'), t('apps.alert.text.invalidContext', {\n        context: \"\" + context\n      }));\n    }\n\n    navigation.setParams({\n      baseUrl: '',\n      context: '',\n      contextId: ''\n    });\n  }, [navigation, route.params, apps, api, t]);\n  var handleV6DeepLink = (0, _react.useCallback)(function () {\n    var _route$params2;\n\n    var appId = (_route$params2 = route.params) == null ? void 0 : _route$params2.context;\n    var appInfo = (0, _ramda.find)((0, _ramda.propEq)('id', appId))(apps);\n\n    if (api && appInfo && appInfo.usingBlindSig) {\n      (0, _model.handleV6App)(route.params, setSponsoringApp, api);\n    } else {\n      _reactNative.Alert.alert(t('apps.alert.title.invalidApp'), t('apps.alert.text.invalidApp', {\n        app: \"\" + appId\n      }));\n    }\n\n    navigation.setParams({\n      context: '',\n      contextId: ''\n    });\n  }, [route.params, apps, navigation, api, t]);\n  (0, _react.useEffect)(function () {\n    var _route$params3, _route$params4;\n\n    if (apps.length > 0 && (_route$params3 = route.params) != null && _route$params3.baseUrl) {\n      handleV5DeepLink();\n    } else if (apps.length > 0 && (_route$params4 = route.params) != null && _route$params4.context) {\n      handleV6DeepLink();\n    }\n  }, [apps, handleV5DeepLink, handleV6DeepLink, route.params]);\n  (0, _react.useEffect)(function () {\n    var allApps = apps.filter(function (app) {\n      var isLinked = linkedContext.find(function (link) {\n        return link.context === app.context;\n      });\n      var isLinkedTemp = isLinked && isLinked.state === 'applied';\n      return !app.testing || isLinkedTemp;\n    });\n    var linkedApps = allApps.filter(function (app) {\n      var appSig = selectLinkedSigs.filter(function (sig) {\n        return sig.app === app.id;\n      });\n      var isLinked = linkedContext.find(function (link) {\n        return link.context === app.context;\n      });\n      var isLinkedTemp = isLinked && isLinked.state === 'applied';\n      return app.usingBlindSig && appSig.length > 0 || isLinkedTemp;\n    });\n    var verifiedApps = allApps.filter(function (app) {\n      var count = 0;\n\n      for (var _iterator = _createForOfIteratorHelperLoose(app.verifications), _step; !(_step = _iterator()).done;) {\n        var verification = _step.value;\n        var verified = (0, _verifications.isVerified)(_lodash.default.keyBy(userVerifications, function (v) {\n          return v.name;\n        }), verification);\n\n        if (verified) {\n          count++;\n        }\n      }\n\n      return count === app.verifications.length;\n    });\n    setTotalApps(allApps.length);\n    setTotalVerifiedApp(verifiedApps.length);\n    var filteredApp = [];\n\n    if (activefilter === 0) {\n      filteredApp = allApps;\n    } else if (activefilter === 1) {\n      filteredApp = linkedApps;\n    } else if (activefilter === 2) {\n      filteredApp = verifiedApps;\n    }\n\n    if (search !== '') {\n      var filterResult = filteredApp.filter(function (app) {\n        return app.name.toLowerCase().indexOf(search.toLowerCase()) !== -1;\n      });\n      setFilteredApp(filterResult);\n    } else {\n      setFilteredApp(filteredApp);\n    }\n  }, [search, activefilter, apps, selectLinkedSigs, linkedContext, userVerifications]);\n  (0, _native.useFocusEffect)(refreshApps);\n\n  var OverallDescription = function OverallDescription() {\n    var msg, waiting;\n    showView.start();\n\n    if (sponsoringApp) {\n      msg = t('apps.text.sponsoring', {\n        app: \"\" + sponsoringApp.name\n      });\n      waiting = true;\n    } else if (pendingLink) {\n      msg = t('apps.text.pendingLink', {\n        context: \"\" + pendingLink.context\n      });\n      waiting = true;\n    } else if (!isSponsored) {\n      msg = t('apps.text.notSponsored');\n      waiting = false;\n    } else {\n      msg = '';\n      waiting = false;\n      closeView.start();\n    }\n\n    return _react.default.createElement(_AnimatedLinearGradient.default, {\n      containerStyle: [styles.headerContainer, {\n        height: 310 + notifHeight._value,\n        opacity: fadeBackgroundHeader,\n        transform: [{\n          translateY: translateYHeader\n        }]\n      }],\n      style: {\n        paddingHorizontal: 20,\n        paddingTop: headerHeight\n      },\n      colors: ['#3E4481', '#999ECD', '#ED7A5D'],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 7\n      }\n    }, msg ? _react.default.createElement(_reactNative.Animated.View, {\n      style: [styles.statusContainer, {\n        maxHeight: notifHeight\n      }],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 11\n      }\n    }, _react.default.createElement(_reactNativeSpinkit.default, {\n      isVisible: waiting,\n      size: _deviceConstants.DEVICE_LARGE ? 48 : 42,\n      type: \"ThreeBounce\",\n      color: _colors.WHITE,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 13\n      }\n    }), _react.default.createElement(_reactNative.Text, {\n      style: styles.statusMessage,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 13\n      }\n    }, msg)) : _react.default.createElement(_reactNative.View, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 11\n      }\n    }), _react.default.createElement(_reactNative.View, {\n      style: styles.rowContainer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 9\n      }\n    }, _react.default.createElement(_reactNative.View, {\n      style: styles.appDetailContainer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 11\n      }\n    }, _react.default.createElement(_reactNative.Text, {\n      style: styles.detailLabel,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 13\n      }\n    }, \"Total\"), _react.default.createElement(_reactNative.Text, {\n      style: styles.detail,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 13\n      }\n    }, totalApps, \" \", _react.default.createElement(_reactNative.Text, {\n      style: styles.detailLabel,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 27\n      }\n    }, \"apps\"))), _react.default.createElement(_reactNative.View, {\n      style: {\n        width: 10\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 11\n      }\n    }), _react.default.createElement(_reactNative.View, {\n      style: styles.appDetailContainer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 11\n      }\n    }, _react.default.createElement(_reactNative.Text, {\n      style: styles.detailLabel,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 13\n      }\n    }, \"You're linked to\"), _react.default.createElement(_reactNative.Text, {\n      style: styles.detail,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 13\n      }\n    }, linkedContextsCount, _react.default.createElement(_reactNative.Text, {\n      style: styles.detailLabel,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 15\n      }\n    }, \" apps\")))), _react.default.createElement(_reactNative.View, {\n      style: styles.criteriaContainer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 9\n      }\n    }, _react.default.createElement(_reactNative.Text, {\n      style: styles.detailLabel,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 11\n      }\n    }, \"You meet the verification criteria of\"), _react.default.createElement(_reactNative.Text, {\n      style: [styles.detail, {\n        textAlign: 'right'\n      }],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 11\n      }\n    }, totalVerifiedApp, \" \", _react.default.createElement(_reactNative.Text, {\n      style: styles.detailLabel,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 32\n      }\n    }, \"apps\"))));\n  };\n\n  var Filter = function Filter() {\n    return _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(_reactNative.Animated.View, {\n      testID: \"searchBarBackground\",\n      style: [styles.searchBackground, {\n        top: headerHeight,\n        opacity: fadeBackgroundSearch\n      }],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 9\n      }\n    }), _react.default.createElement(_reactNative.Animated.View, {\n      style: [styles.searchContainer, {\n        top: headerHeight + 10,\n        transform: [{\n          translateY: translateYSearch\n        }]\n      }],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 9\n      }\n    }, _react.default.createElement(_reactNative.TextInput, {\n      style: [styles.shadow, styles.textInput],\n      onChangeText: function onChangeText(value) {\n        return setSearch(value);\n      },\n      placeholder: \"App name\",\n      value: search,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 11\n      }\n    }), _react.default.createElement(_reactNative.View, {\n      style: styles.filterContainer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 11\n      }\n    }, filters.map(function (item, index) {\n      return _react.default.createElement(_reactNative.TouchableOpacity, {\n        key: index,\n        style: [styles.filterItemContainer, {\n          backgroundColor: index === activefilter ? _colors.ORANGE : _colors.WHITE\n        }],\n        onPress: function onPress() {\n          return SetFilter(index);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 15\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        style: {\n          fontFamily: 'Poppins-Medium',\n          fontSize: 12,\n          color: index === activefilter ? _colors.WHITE : _colors.ORANGE\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 17\n        }\n      }, item.name));\n    }))));\n  };\n\n  return _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(_reactNative.View, {\n    style: styles.container,\n    testID: \"appsScreen\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_AnimatedLinearGradient.default, {\n    containerStyle: [styles.headerTitleContainer, {\n      height: headerHeight,\n      opacity: fadeBackgroundSearch\n    }],\n    colors: ['#3E4481', '#999ECD'],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 9\n    }\n  }), _react.default.createElement(OverallDescription, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 9\n    }\n  }), _react.default.createElement(Filter, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 9\n    }\n  }), _react.default.createElement(_reactNative.Animated.FlatList, {\n    testID: \"appsList\",\n    data: filteredApp,\n    onScroll: handleScroll,\n    scrollEventThrottle: 16,\n    numColumns: 2,\n    columnWrapperStyle: styles.wrapperColumn,\n    contentContainerStyle: [styles.contentContainer, {\n      marginTop: headerHeight + 190 + notifHeight._value\n    }],\n    keyExtractor: function keyExtractor(_ref, index) {\n      var name = _ref.name;\n      return name + index;\n    },\n    showsHorizontalScrollIndicator: false,\n    showsVerticalScrollIndicator: false,\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item;\n      return _react.default.createElement(_AppCard.default, (0, _extends2.default)({}, item, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 37\n        }\n      }));\n    },\n    ListEmptyComponent: _react.default.createElement(_EmptyList.default, {\n      title: t('apps.text.noApps'),\n      iconType: \"flask\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 13\n      }\n    }),\n    refreshControl: _react.default.createElement(_reactNative.RefreshControl, {\n      refreshing: refreshing,\n      onRefresh: refreshApps,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 13\n      }\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 9\n    }\n  })));\n};\n\nexports.AppsScreen = AppsScreen;\n\nvar styles = _reactNative.StyleSheet.create({\n  orangeTop: {\n    backgroundColor: _colors.ORANGE,\n    height: _deviceConstants.DEVICE_LARGE ? 70 : 65,\n    width: '100%',\n    zIndex: 1\n  },\n  container: {\n    flex: 1\n  },\n  shadow: (0, _extends2.default)({}, _reactNative.Platform.select({\n    android: {\n      shadowColor: 'rgba(0,0,0,1)'\n    },\n    ios: {\n      shadowColor: 'rgba(0,0,0,0.2)'\n    }\n  }), {\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 1,\n    shadowRadius: 4,\n    elevation: 5\n  }),\n  centerItem: {\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  statusContainer: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 10,\n    backgroundColor: 'rgba(255, 255, 255, 0.5)',\n    padding: 12,\n    borderRadius: 10\n  },\n  statusMessage: {\n    fontFamily: 'Poppins-Medium',\n    textAlign: 'center',\n    fontSize: _fonts.fontSize[14],\n    color: _colors.WHITE\n  },\n  linkingContainer: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    marginTop: 20\n  },\n  headerTitleContainer: {\n    position: 'absolute',\n    top: 0,\n    width: '100%',\n    zIndex: 100\n  },\n  headerContainer: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    width: '100%'\n  },\n  rowContainer: {\n    flexGrow: 0.4,\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  appDetailContainer: {\n    flex: 1,\n    backgroundColor: 'rgba(255, 255, 255, 0.5)',\n    padding: 12,\n    borderRadius: 10\n  },\n  criteriaContainer: {\n    flexDirection: 'row',\n    backgroundColor: 'rgba(255, 255, 255, 0.5)',\n    padding: 12,\n    borderRadius: 10,\n    justifyContent: 'space-between',\n    marginTop: 10,\n    alignItems: 'center'\n  },\n  detailLabel: {\n    flex: 1,\n    fontFamily: 'Poppins-Light',\n    fontSize: 13,\n    color: _colors.WHITE\n  },\n  detail: {\n    flex: 1,\n    fontFamily: 'Poppins-Bold',\n    fontSize: 20,\n    color: _colors.WHITE\n  },\n  textInput: {\n    backgroundColor: 'white',\n    width: '90%',\n    height: 50,\n    borderRadius: 5,\n    paddingHorizontal: 10\n  },\n  wrapperColumn: {\n    justifyContent: 'space-between',\n    marginBottom: 20\n  },\n  contentContainer: {\n    paddingTop: 100,\n    paddingBottom: 500,\n    paddingHorizontal: 20,\n    backgroundColor: 'white',\n    borderTopLeftRadius: 10,\n    borderTopRightRadius: 10\n  },\n  filterContainer: {\n    width: '90%',\n    flexDirection: 'row',\n    marginTop: 10\n  },\n  filterItemContainer: {\n    borderWidth: 1,\n    borderColor: _colors.ORANGE,\n    padding: 5,\n    borderRadius: 5,\n    marginRight: 5\n  },\n  searchContainer: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    alignSelf: 'center',\n    alignItems: 'center',\n    width: '100%',\n    height: 100,\n    zIndex: 6,\n    overflow: 'visible'\n  },\n  searchBackground: {\n    position: 'absolute',\n    width: '100%',\n    height: 120,\n    backgroundColor: \"white\",\n    zIndex: 5\n  }\n});\n\nvar _default = AppsScreen;\nexports.default = _default;","map":{"version":3,"names":["AppsScreen","filters","name","id","dispatch","useDispatch","navigation","useNavigation","route","useRoute","api","useContext","NodeApiContext","headerHeight","useHeaderHeight","useTranslation","t","apps","useSelector","selectAllApps","isSponsored","state","user","isSponsoredv6","linkedContext","selectAllLinkedContexts","linkedContextsCount","linkedContextTotal","selectLinkedSigs","selectAllLinkedSigs","pendingLink","selectPendingLinkedContext","userVerifications","verifications","useState","refreshing","setRefreshing","undefined","sponsoringApp","setSponsoringApp","totalApps","setTotalApps","totalVerifiedApp","setTotalVerifiedApp","search","setSearch","activefilter","SetFilter","filteredApp","setFilteredApp","scrollY","useRef","Animated","Value","current","notifHeight","fadeBackgroundSearch","interpolate","inputRange","outputRange","fadeBackgroundHeader","translateYHeader","extrapolate","translateYSearch","_value","handleScroll","event","nativeEvent","contentOffset","y","useNativeDriver","showView","timing","toValue","duration","easing","Easing","linear","closeView","refreshApps","useCallback","fetchApps","then","catch","err","console","log","message","handleV5DeepLink","context","params","isValidApp","any","propEq","isValidContext","handleV5App","Alert","alert","setParams","baseUrl","contextId","handleV6DeepLink","appId","appInfo","find","usingBlindSig","handleV6App","app","useEffect","length","allApps","filter","isLinked","link","isLinkedTemp","testing","linkedApps","appSig","sig","verifiedApps","count","verification","verified","isVerified","_","keyBy","v","filterResult","toLowerCase","indexOf","useFocusEffect","OverallDescription","msg","waiting","start","styles","headerContainer","height","opacity","transform","translateY","paddingHorizontal","paddingTop","statusContainer","maxHeight","DEVICE_LARGE","WHITE","statusMessage","rowContainer","appDetailContainer","detailLabel","detail","width","criteriaContainer","textAlign","Filter","searchBackground","top","searchContainer","shadow","textInput","value","filterContainer","map","item","index","filterItemContainer","backgroundColor","ORANGE","fontFamily","fontSize","color","container","headerTitleContainer","wrapperColumn","contentContainer","marginTop","StyleSheet","create","orangeTop","zIndex","flex","Platform","select","android","shadowColor","ios","shadowOffset","shadowOpacity","shadowRadius","elevation","centerItem","alignItems","justifyContent","marginBottom","padding","borderRadius","linkingContainer","flexDirection","position","left","right","flexGrow","paddingBottom","borderTopLeftRadius","borderTopRightRadius","borderWidth","borderColor","marginRight","alignSelf","overflow"],"sources":["/home/ali/Desktop/brightid/BrightID/BrightID/src/components/Apps/AppsScreen.tsx"],"sourcesContent":["import React, {\n  useCallback,\n  useContext,\n  useEffect,\n  useState,\n  useRef,\n} from 'react';\nimport {\n  Alert,\n  StyleSheet,\n  View,\n  Text,\n  TextInput,\n  RefreshControl,\n  Animated,\n  TouchableOpacity,\n  Platform,\n  Easing,\n} from 'react-native';\nimport { useTranslation } from 'react-i18next';\nimport { any, propEq, find } from 'ramda';\nimport {\n  useFocusEffect,\n  useNavigation,\n  useRoute,\n} from '@react-navigation/native';\nimport { useHeaderHeight } from '@react-navigation/stack';\nimport _ from 'lodash';\nimport Spinner from 'react-native-spinkit';\nimport {\n  linkedContextTotal,\n  selectAllLinkedContexts,\n  selectAllLinkedSigs,\n} from '@/reducer/appsSlice';\nimport { useDispatch, useSelector } from '@/store';\nimport EmptyList from '@/components/Helpers/EmptyList';\nimport { ORANGE, BLUE, WHITE } from '@/theme/colors';\nimport { DEVICE_LARGE } from '@/utils/deviceConstants';\nimport {\n  fetchApps,\n  selectAllApps,\n  selectPendingLinkedContext,\n} from '@/actions';\nimport { fontSize } from '@/theme/fonts';\nimport { NodeApiContext } from '@/components/NodeApiGate';\nimport { isVerified } from '@/utils/verifications';\nimport AppCard from './AppCard';\nimport { handleV5App, handleV6App } from './model';\nimport { AppsRoute } from '@/components/Apps/types';\nimport AnimatedLinearGradient from './AnimatedLinearGradient';\n\nexport const AppsScreen = () => {\n  const filters = [\n    { name: 'All Apps', id: 1 },\n    { name: 'Linked', id: 2 },\n    { name: 'Verified', id: 3 },\n  ];\n\n  const dispatch = useDispatch();\n  const navigation = useNavigation();\n  const route = useRoute<AppsRoute>();\n  const api = useContext(NodeApiContext);\n  const headerHeight = useHeaderHeight();\n  const { t } = useTranslation();\n\n  const apps = useSelector(selectAllApps);\n  const isSponsored = useSelector(\n    (state: State) => state.user.isSponsored || state.user.isSponsoredv6,\n  );\n  const linkedContext = useSelector(selectAllLinkedContexts);\n  const linkedContextsCount = useSelector(linkedContextTotal);\n  const selectLinkedSigs = useSelector(selectAllLinkedSigs);\n  const pendingLink = useSelector(selectPendingLinkedContext);\n  const userVerifications = useSelector(\n    (state: State) => state.user.verifications,\n  );\n\n  const [refreshing, setRefreshing] = useState(false);\n  const [sponsoringApp, setSponsoringApp] = useState<AppInfo | undefined>(\n    undefined,\n  );\n  const [totalApps, setTotalApps] = useState(0);\n  const [totalVerifiedApp, setTotalVerifiedApp] = useState(0);\n\n  // filter state\n  const [search, setSearch] = useState('');\n  const [activefilter, SetFilter] = useState(0);\n  const [filteredApp, setFilteredApp] = useState(apps);\n\n  // Animation\n  const scrollY = useRef(new Animated.Value(0)).current;\n  const notifHeight = useRef(new Animated.Value(0)).current;\n  const fadeBackgroundSearch = scrollY.interpolate({\n    inputRange: [0, 230],\n    outputRange: [0, 1],\n  });\n  const fadeBackgroundHeader = scrollY.interpolate({\n    inputRange: [0, 100],\n    outputRange: [1, 0],\n  });\n  const translateYHeader = scrollY.interpolate({\n    inputRange: [0, 290],\n    outputRange: [0, -290],\n    extrapolate: 'clamp',\n  });\n  const translateYSearch = scrollY.interpolate({\n    inputRange: [-640, 0, 290],\n    // @ts-ignore notifHeight._value\n    outputRange: [790, notifHeight._value + 160, 0],\n    extrapolate: 'clamp',\n  });\n  const handleScroll = Animated.event(\n    [\n      {\n        nativeEvent: {\n          contentOffset: { y: scrollY },\n        },\n      },\n    ],\n    {\n      useNativeDriver: true,\n    },\n  );\n  const showView = Animated.timing(notifHeight, {\n    toValue: 100,\n    duration: 500,\n    easing: Easing.linear,\n    useNativeDriver: false, // <-- neccessary\n  });\n  const closeView = Animated.timing(notifHeight, {\n    toValue: 0,\n    duration: 500,\n    easing: Easing.linear,\n    useNativeDriver: false, // <-- neccessary\n  });\n\n  const refreshApps = useCallback(() => {\n    setRefreshing(true);\n    dispatch(fetchApps(api))\n      .then(() => {\n        setRefreshing(false);\n      })\n      .catch((err) => {\n        console.log(err.message);\n        setRefreshing(false);\n      });\n  }, [api, dispatch]);\n\n  const handleV5DeepLink = useCallback(() => {\n    const context = route.params?.context;\n    const isValidApp = any(propEq('id', context))(apps);\n    const isValidContext = any(propEq('context', context))(apps);\n    // legacy apps send context in the deep link but soulbound apps send app\n    if (isValidApp || isValidContext) {\n      handleV5App(route.params, setSponsoringApp, api);\n    } else {\n      Alert.alert(\n        t('apps.alert.title.invalidContext'),\n        t('apps.alert.text.invalidContext', { context: `${context}` }),\n      );\n    }\n    // reset params\n    navigation.setParams({\n      baseUrl: '',\n      context: '',\n      contextId: '',\n    });\n  }, [navigation, route.params, apps, api, t]);\n\n  const handleV6DeepLink = useCallback(() => {\n    const appId = route.params?.context;\n    const appInfo = find(propEq('id', appId))(apps) as AppInfo;\n    if (api && appInfo && appInfo.usingBlindSig) {\n      handleV6App(route.params, setSponsoringApp, api);\n    } else {\n      Alert.alert(\n        t('apps.alert.title.invalidApp'),\n        t('apps.alert.text.invalidApp', { app: `${appId}` }),\n      );\n    }\n    // reset params\n    navigation.setParams({\n      context: '',\n      contextId: '',\n    });\n  }, [route.params, apps, navigation, api, t]);\n\n  useEffect(() => {\n    if (apps.length > 0 && route.params?.baseUrl) {\n      handleV5DeepLink();\n    } else if (apps.length > 0 && route.params?.context) {\n      handleV6DeepLink();\n    }\n  }, [apps, handleV5DeepLink, handleV6DeepLink, route.params]);\n\n  // handle filter\n  useEffect(() => {\n    const allApps = apps.filter((app) => {\n      const isLinked = linkedContext.find(\n        (link) => link.context === app.context,\n      );\n      const isLinkedTemp = isLinked && isLinked.state === 'applied';\n      return !app.testing || isLinkedTemp;\n    });\n\n    // filter linked app\n    const linkedApps = allApps.filter((app) => {\n      const appSig = selectLinkedSigs.filter((sig) => sig.app === app.id);\n      const isLinked = linkedContext.find(\n        (link) => link.context === app.context,\n      );\n      const isLinkedTemp = isLinked && isLinked.state === 'applied';\n      return (app.usingBlindSig && appSig.length > 0) || isLinkedTemp;\n    });\n\n    // filter verified app\n    const verifiedApps = allApps.filter((app) => {\n      let count = 0;\n      for (const verification of app.verifications) {\n        const verified = isVerified(\n          _.keyBy(userVerifications, (v) => v.name),\n          verification,\n        );\n        if (verified) {\n          count++;\n        }\n      }\n\n      return count === app.verifications.length;\n    });\n\n    setTotalApps(allApps.length);\n    setTotalVerifiedApp(verifiedApps.length);\n\n    let filteredApp: AppInfo[] = [];\n    if (activefilter === 0) {\n      filteredApp = allApps;\n    } else if (activefilter === 1) {\n      filteredApp = linkedApps;\n    } else if (activefilter === 2) {\n      filteredApp = verifiedApps;\n    }\n\n    // filter using search bar\n    if (search !== '') {\n      const filterResult = filteredApp.filter(\n        (app) => app.name.toLowerCase().indexOf(search.toLowerCase()) !== -1,\n      );\n      setFilteredApp(filterResult);\n    } else {\n      setFilteredApp(filteredApp);\n    }\n  }, [\n    search,\n    activefilter,\n    apps,\n    selectLinkedSigs,\n    linkedContext,\n    userVerifications,\n  ]);\n\n  useFocusEffect(refreshApps);\n\n  const OverallDescription = () => {\n    let msg: string, waiting: boolean;\n\n    showView.start();\n\n    if (sponsoringApp) {\n      msg = t('apps.text.sponsoring', { app: `${sponsoringApp.name}` });\n      waiting = true;\n    } else if (pendingLink) {\n      msg = t('apps.text.pendingLink', { context: `${pendingLink.context}` });\n      waiting = true;\n    } else if (!isSponsored) {\n      msg = t('apps.text.notSponsored');\n      waiting = false;\n    } else {\n      msg = '';\n      waiting = false;\n      closeView.start();\n    }\n\n    return (\n      <AnimatedLinearGradient\n        containerStyle={[\n          styles.headerContainer,\n          {\n            // @ts-ignore notifHeight._value\n            height: 310 + notifHeight._value,\n            opacity: fadeBackgroundHeader,\n            transform: [{ translateY: translateYHeader }],\n          },\n        ]}\n        style={{ paddingHorizontal: 20, paddingTop: headerHeight }}\n        colors={['#3E4481', '#999ECD', '#ED7A5D']}\n      >\n        {msg ? (\n          <Animated.View\n            style={[styles.statusContainer, { maxHeight: notifHeight }]}\n          >\n            <Spinner\n              isVisible={waiting}\n              size={DEVICE_LARGE ? 48 : 42}\n              type=\"ThreeBounce\"\n              color={WHITE}\n            />\n            <Text style={styles.statusMessage}>{msg}</Text>\n          </Animated.View>\n        ) : (\n          <View />\n        )}\n\n        <View style={styles.rowContainer}>\n          <View style={styles.appDetailContainer}>\n            <Text style={styles.detailLabel}>Total</Text>\n            <Text style={styles.detail}>\n              {totalApps} <Text style={styles.detailLabel}>apps</Text>\n            </Text>\n          </View>\n          <View style={{ width: 10 }} />\n          <View style={styles.appDetailContainer}>\n            <Text style={styles.detailLabel}>You're linked to</Text>\n            <Text style={styles.detail}>\n              {linkedContextsCount}\n              <Text style={styles.detailLabel}> apps</Text>\n            </Text>\n          </View>\n        </View>\n        <View style={styles.criteriaContainer}>\n          <Text style={styles.detailLabel}>\n            You meet the verification criteria of\n          </Text>\n          <Text style={[styles.detail, { textAlign: 'right' }]}>\n            {totalVerifiedApp} <Text style={styles.detailLabel}>apps</Text>\n          </Text>\n        </View>\n      </AnimatedLinearGradient>\n    );\n  };\n\n  const Filter = () => {\n    return (\n      <>\n        <Animated.View\n          testID=\"searchBarBackground\"\n          style={[\n            styles.searchBackground,\n            { top: headerHeight, opacity: fadeBackgroundSearch },\n          ]}\n        />\n\n        <Animated.View\n          style={[\n            styles.searchContainer,\n            {\n              top: headerHeight + 10,\n              transform: [{ translateY: translateYSearch }],\n            },\n          ]}\n        >\n          <TextInput\n            style={[styles.shadow, styles.textInput]}\n            onChangeText={(value) => setSearch(value)}\n            placeholder=\"App name\"\n            value={search}\n          />\n\n          <View style={styles.filterContainer}>\n            {filters.map((item, index) => (\n              <TouchableOpacity\n                key={index}\n                style={[\n                  styles.filterItemContainer,\n                  { backgroundColor: index === activefilter ? ORANGE : WHITE },\n                ]}\n                onPress={() => SetFilter(index)}\n              >\n                <Text\n                  style={{\n                    fontFamily: 'Poppins-Medium',\n                    fontSize: 12,\n                    color: index === activefilter ? WHITE : ORANGE,\n                  }}\n                >\n                  {item.name}\n                </Text>\n              </TouchableOpacity>\n            ))}\n          </View>\n        </Animated.View>\n      </>\n    );\n  };\n\n  return (\n    <>\n      <View style={styles.container} testID=\"appsScreen\">\n        <AnimatedLinearGradient\n          containerStyle={[\n            styles.headerTitleContainer,\n            { height: headerHeight, opacity: fadeBackgroundSearch },\n          ]}\n          colors={['#3E4481', '#999ECD']}\n        />\n\n        <OverallDescription />\n\n        <Filter />\n\n        <Animated.FlatList\n          testID=\"appsList\"\n          data={filteredApp}\n          onScroll={handleScroll}\n          scrollEventThrottle={16}\n          numColumns={2}\n          columnWrapperStyle={styles.wrapperColumn}\n          contentContainerStyle={[\n            styles.contentContainer,\n            // @ts-ignore notifHeight._value\n            { marginTop: headerHeight + 190 + notifHeight._value },\n          ]}\n          keyExtractor={({ name }, index) => name + index}\n          showsHorizontalScrollIndicator={false}\n          showsVerticalScrollIndicator={false}\n          renderItem={({ item }) => <AppCard {...item} />}\n          ListEmptyComponent={\n            <EmptyList title={t('apps.text.noApps')} iconType=\"flask\" />\n          }\n          refreshControl={\n            <RefreshControl refreshing={refreshing} onRefresh={refreshApps} />\n          }\n        />\n      </View>\n    </>\n  );\n};\n\nconst styles = StyleSheet.create({\n  orangeTop: {\n    backgroundColor: ORANGE,\n    height: DEVICE_LARGE ? 70 : 65,\n    width: '100%',\n    zIndex: 1,\n  },\n  container: {\n    flex: 1,\n  },\n  shadow: {\n    ...Platform.select({\n      android: { shadowColor: 'rgba(0,0,0,1)' },\n      ios: { shadowColor: 'rgba(0,0,0,0.2)' },\n    }),\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 1,\n    shadowRadius: 4,\n    elevation: 5,\n  },\n  centerItem: {\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  statusContainer: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 10,\n    backgroundColor: 'rgba(255, 255, 255, 0.5)',\n    padding: 12,\n    borderRadius: 10,\n  },\n  statusMessage: {\n    fontFamily: 'Poppins-Medium',\n    textAlign: 'center',\n    fontSize: fontSize[14],\n    color: WHITE,\n  },\n  linkingContainer: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    marginTop: 20,\n  },\n  headerTitleContainer: {\n    position: 'absolute',\n    top: 0,\n    width: '100%',\n    zIndex: 100,\n  },\n  headerContainer: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    width: '100%',\n  },\n  rowContainer: {\n    flexGrow: 0.4,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n  },\n  appDetailContainer: {\n    flex: 1,\n    backgroundColor: 'rgba(255, 255, 255, 0.5)',\n    padding: 12,\n    borderRadius: 10,\n  },\n  criteriaContainer: {\n    flexDirection: 'row',\n    backgroundColor: 'rgba(255, 255, 255, 0.5)',\n    padding: 12,\n    borderRadius: 10,\n    justifyContent: 'space-between',\n    marginTop: 10,\n    alignItems: 'center',\n  },\n  detailLabel: {\n    flex: 1,\n    fontFamily: 'Poppins-Light',\n    fontSize: 13,\n    color: WHITE,\n  },\n  detail: {\n    flex: 1,\n    fontFamily: 'Poppins-Bold',\n    fontSize: 20,\n    color: WHITE,\n  },\n  textInput: {\n    backgroundColor: 'white',\n    width: '90%',\n    height: 50,\n    borderRadius: 5,\n    paddingHorizontal: 10,\n  },\n  wrapperColumn: {\n    justifyContent: 'space-between',\n    marginBottom: 20,\n  },\n  contentContainer: {\n    paddingTop: 100,\n    paddingBottom: 500,\n    paddingHorizontal: 20,\n    backgroundColor: 'white',\n    borderTopLeftRadius: 10,\n    borderTopRightRadius: 10,\n  },\n  filterContainer: {\n    width: '90%',\n    flexDirection: 'row',\n    marginTop: 10,\n  },\n  filterItemContainer: {\n    borderWidth: 1,\n    borderColor: ORANGE,\n    padding: 5,\n    borderRadius: 5,\n    marginRight: 5,\n  },\n  searchContainer: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    alignSelf: 'center',\n    alignItems: 'center',\n    width: '100%',\n    height: 100,\n    zIndex: 6,\n    // marginTop: 40,\n    overflow: 'visible',\n  },\n  searchBackground: {\n    position: 'absolute',\n    width: '100%',\n    height: 120,\n    backgroundColor: `white`,\n    zIndex: 5,\n  },\n});\n\nexport default AppsScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}