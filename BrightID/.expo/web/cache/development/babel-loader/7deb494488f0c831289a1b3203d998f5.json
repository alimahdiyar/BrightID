{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Spinner from 'react-native-spinkit';\nimport IonIcons from \"@expo/vector-icons/Ionicons\";\nimport { useTranslation } from 'react-i18next';\nimport { fontSize } from \"../../../theme/fonts\";\nimport { BLACK, DARKER_GREY, GREEN, ORANGE, RED } from \"../../../theme/colors\";\nimport { DEVICE_LARGE } from \"../../../utils/deviceConstants\";\nimport { UploadDataSteps } from \"./AddDeviceScreen\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var UploadData = function UploadData(_ref) {\n  var currentStep = _ref.currentStep,\n      errorMessage = _ref.errorMessage;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      stateDescription = _useState2[0],\n      setStateDescription = _useState2[1];\n\n  var _useState3 = useState(undefined),\n      _useState4 = _slicedToArray(_useState3, 2),\n      iconData = _useState4[0],\n      setIconData = _useState4[1];\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  useEffect(function () {\n    switch (currentStep) {\n      case UploadDataSteps.WAITING:\n        setIconData(undefined);\n        setStateDescription(t('uploadData.steps.waiting', 'Waiting for Signing keys...'));\n        break;\n\n      case UploadDataSteps.UPLOADING:\n        setIconData(undefined);\n        setStateDescription(t('uploadData.steps.downloading', 'Uploading user data...'));\n        break;\n\n      case UploadDataSteps.COMPLETE:\n        setIconData({\n          color: GREEN,\n          name: 'checkmark-circle-outline'\n        });\n        setStateDescription(t('uploadData.steps.complete', 'Upload complete.'));\n        break;\n\n      case UploadDataSteps.ERROR:\n        setIconData({\n          color: RED,\n          name: 'alert-circle-outline'\n        });\n        setStateDescription(t('uploadData.steps.error', 'Upload data failed'));\n        break;\n\n      default:\n        setStateDescription(\"Unhandled state \" + UploadDataSteps[currentStep]);\n        break;\n    }\n  }, [currentStep, t]);\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.headerTextContainer,\n      children: [_jsx(Text, {\n        style: styles.headerText,\n        children: t('uploadData.header.text', {\n          defaultValue: 'Upload user data'\n        })\n      }), _jsx(Text, {\n        style: styles.headerInfoText,\n        children: t('uploadData.info', {\n          defaultValue: 'Uploading user data (connections, linked apps, ...) to the new device'\n        })\n      })]\n    }), _jsxs(View, {\n      style: styles.statusContainer,\n      children: [_jsx(View, {\n        children: iconData ? _jsx(IonIcons, {\n          style: {\n            alignSelf: 'center'\n          },\n          size: DEVICE_LARGE ? 64 : 44,\n          name: iconData.name,\n          color: iconData.color\n        }) : _jsx(Spinner, {\n          isVisible: true,\n          size: DEVICE_LARGE ? 64 : 44,\n          type: \"Wave\",\n          color: ORANGE\n        })\n      }), _jsxs(View, {\n        style: styles.infoTextContainer,\n        children: [_jsx(Text, {\n          style: styles.infoText,\n          children: stateDescription\n        }), _jsx(Text, {\n          style: styles.infoSubText,\n          children: currentStep === UploadDataSteps.ERROR ? errorMessage : null\n        })]\n      })]\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: '100%'\n  },\n  headerTextContainer: {\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  headerText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[20],\n    color: BLACK\n  },\n  headerInfoText: {\n    fontFamily: 'Poppins-Regular',\n    textAlign: 'center',\n    color: DARKER_GREY,\n    fontSize: fontSize[12],\n    maxWidth: '90%'\n  },\n  statusContainer: {\n    flexDirection: 'row',\n    marginTop: 25,\n    marginLeft: 20,\n    alignItems: 'center'\n  },\n  infoTextContainer: {\n    flex: 1,\n    marginLeft: 10\n  },\n  infoText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[16],\n    color: BLACK\n  },\n  infoSubText: {\n    fontFamily: 'Poppins-Regular',\n    fontSize: fontSize[10],\n    color: BLACK\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","Spinner","IonIcons","useTranslation","fontSize","BLACK","DARKER_GREY","GREEN","ORANGE","RED","DEVICE_LARGE","UploadDataSteps","UploadData","currentStep","errorMessage","stateDescription","setStateDescription","undefined","iconData","setIconData","t","WAITING","UPLOADING","COMPLETE","color","name","ERROR","styles","container","headerTextContainer","headerText","defaultValue","headerInfoText","statusContainer","alignSelf","infoTextContainer","infoText","infoSubText","StyleSheet","create","justifyContent","alignItems","width","fontFamily","textAlign","maxWidth","flexDirection","marginTop","marginLeft","flex"],"sources":["/home/ali/Desktop/brightid/BrightID/BrightID/src/components/Onboarding/ImportFlow/UploadData.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { StyleSheet, Text, View } from 'react-native';\nimport Spinner from 'react-native-spinkit';\nimport IonIcons from 'react-native-vector-icons/Ionicons';\nimport { useTranslation } from 'react-i18next';\nimport { fontSize } from '@/theme/fonts';\nimport { BLACK, DARKER_GREY, GREEN, ORANGE, RED } from '@/theme/colors';\nimport { DEVICE_LARGE } from '@/utils/deviceConstants';\nimport { UploadDataSteps } from '@/components/Onboarding/ImportFlow/AddDeviceScreen';\n\n/* Component to track adding of signing key */\ntype UploadDataParams = {\n  currentStep: UploadDataSteps;\n  errorMessage: string;\n};\nexport const UploadData = ({ currentStep, errorMessage }: UploadDataParams) => {\n  const [stateDescription, setStateDescription] = useState('');\n  const [iconData, setIconData] =\n    useState<{ color: string; name: string }>(undefined);\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    switch (currentStep) {\n      case UploadDataSteps.WAITING:\n        setIconData(undefined);\n        setStateDescription(\n          t('uploadData.steps.waiting', 'Waiting for Signing keys...'),\n        );\n        break;\n      case UploadDataSteps.UPLOADING:\n        setIconData(undefined);\n        setStateDescription(\n          t('uploadData.steps.downloading', 'Uploading user data...'),\n        );\n        break;\n      case UploadDataSteps.COMPLETE:\n        setIconData({ color: GREEN, name: 'checkmark-circle-outline' });\n        setStateDescription(t('uploadData.steps.complete', 'Upload complete.'));\n        break;\n      case UploadDataSteps.ERROR:\n        setIconData({ color: RED, name: 'alert-circle-outline' });\n        setStateDescription(t('uploadData.steps.error', 'Upload data failed'));\n        break;\n      default:\n        setStateDescription(`Unhandled state ${UploadDataSteps[currentStep]}`);\n        break;\n    }\n  }, [currentStep, t]);\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.headerTextContainer}>\n        <Text style={styles.headerText}>\n          {t('uploadData.header.text', {\n            defaultValue: 'Upload user data',\n          })}\n        </Text>\n\n        <Text style={styles.headerInfoText}>\n          {t('uploadData.info', {\n            defaultValue:\n              'Uploading user data (connections, linked apps, ...) to the new device',\n          })}\n        </Text>\n      </View>\n      <View style={styles.statusContainer}>\n        <View>\n          {iconData ? (\n            <IonIcons\n              style={{ alignSelf: 'center' }}\n              size={DEVICE_LARGE ? 64 : 44}\n              name={iconData.name}\n              color={iconData.color}\n            />\n          ) : (\n            <Spinner\n              isVisible={true}\n              size={DEVICE_LARGE ? 64 : 44}\n              type=\"Wave\"\n              color={ORANGE}\n            />\n          )}\n        </View>\n        <View style={styles.infoTextContainer}>\n          <Text style={styles.infoText}>{stateDescription}</Text>\n          <Text style={styles.infoSubText}>\n            {currentStep === UploadDataSteps.ERROR ? errorMessage : null}\n          </Text>\n        </View>\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: '100%',\n  },\n  headerTextContainer: {\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  headerText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[20],\n    color: BLACK,\n  },\n  headerInfoText: {\n    fontFamily: 'Poppins-Regular',\n    textAlign: 'center',\n    color: DARKER_GREY,\n    fontSize: fontSize[12],\n    maxWidth: '90%',\n  },\n  statusContainer: {\n    flexDirection: 'row',\n    marginTop: 25,\n    marginLeft: 20,\n    alignItems: 'center',\n  },\n  infoTextContainer: {\n    flex: 1,\n    marginLeft: 10,\n  },\n  infoText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[16],\n    color: BLACK,\n  },\n  infoSubText: {\n    fontFamily: 'Poppins-Regular',\n    fontSize: fontSize[10],\n    color: BLACK,\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}