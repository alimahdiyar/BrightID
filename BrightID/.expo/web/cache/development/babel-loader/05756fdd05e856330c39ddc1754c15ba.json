{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useMemo, useState } from 'react';\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SectionList from \"react-native-web/dist/exports/SectionList\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport ToastAndroid from \"react-native-web/dist/exports/ToastAndroid\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { useNavigation } from '@react-navigation/native';\nimport { useTranslation } from 'react-i18next';\nimport moment from 'moment';\nimport { SvgXml } from 'react-native-svg';\nimport Clipboard from '@react-native-community/clipboard';\nimport UnverifiedSticker from \"../Icons/UnverifiedSticker\";\nimport GroupAvatar from \"../Icons/GroupAvatar\";\nimport { photoDirectory } from \"../../utils/filesystem\";\nimport { DEVICE_LARGE } from \"../../utils/deviceConstants\";\nimport { ORANGE, BLUE, WHITE, BLACK, DARKER_GREY, DARK_BLUE, LIGHT_GREY, DARK_GREEN } from \"../../theme/colors\";\nimport { fontSize } from \"../../theme/fonts\";\nimport { connection_levels, report_sources } from \"../../utils/constants\";\nimport Chevron from \"../Icons/Chevron\";\nimport TrustLevelView from \"./TrustLevelView\";\nimport { useSelector } from \"../../store\";\nimport { SocialMediaShareActionType, SocialMediaType } from \"../EditProfile/socialMediaVariations\";\nimport { selectAllSocialMediaVariationsByType } from \"../../reducer/socialMediaVariationSlice\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar ConnectionScreenSectionKeys;\n\n(function (ConnectionScreenSectionKeys) {\n  ConnectionScreenSectionKeys[\"CONNECTIONS\"] = \"connections\";\n  ConnectionScreenSectionKeys[\"GROUPS\"] = \"groups\";\n  ConnectionScreenSectionKeys[\"RECOVERY_CONNECTIONS\"] = \"recoveryConnections\";\n  ConnectionScreenSectionKeys[\"DUPLICATES\"] = \"duplicates\";\n  ConnectionScreenSectionKeys[\"SOCIAL_MEDIA\"] = \"socialMedia\";\n})(ConnectionScreenSectionKeys || (ConnectionScreenSectionKeys = {}));\n\nvar isPhoneNumber = function isPhoneNumber(profile) {\n  var c = profile[0];\n  return c === '+' || c >= '0' && c <= '9';\n};\n\nfunction ConnectionScreen(props) {\n  var _connection$photo;\n\n  var connection = props.connection,\n      verificationsTexts = props.verificationsTexts,\n      connectedAt = props.connectedAt,\n      mutualGroups = props.mutualGroups,\n      mutualConnections = props.mutualConnections,\n      recoveryConnections = props.recoveryConnections,\n      loading = props.loading,\n      possibleDuplicates = props.possibleDuplicates;\n  var navigation = useNavigation();\n  var selectSocialMediaVariations = useMemo(selectAllSocialMediaVariationsByType, []);\n  var socialMediaVariations = useSelector(function (state) {\n    return selectSocialMediaVariations(state, SocialMediaType.SOCIAL_PROFILE);\n  });\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      groupsCollapsed = _useState2[0],\n      setGroupsCollapsed = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      connectionsCollapsed = _useState4[0],\n      setConnectionsCollapsed = _useState4[1];\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      recoveryConnectionsCollapsed = _useState6[0],\n      setRecoveryConnectionsCollapsed = _useState6[1];\n\n  var _useState7 = useState(true),\n      _useState8 = _slicedToArray(_useState7, 2),\n      possibleDuplicatesCollapsed = _useState8[0],\n      setPossibleDuplicatesCollapsed = _useState8[1];\n\n  var _useState9 = useState(true),\n      _useState10 = _slicedToArray(_useState9, 2),\n      socialMediaCollapsed = _useState10[0],\n      setSocialMediaCollapsed = _useState10[1];\n\n  var _useState11 = useState([]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      connectionSocialMedia = _useState12[0],\n      setConnectionSocialMedia = _useState12[1];\n\n  useEffect(function () {\n    var socialMediaOnConnectionPage = [];\n\n    var _loop = function _loop(i) {\n      var _connection$socialMed, _connection$socialMed2;\n\n      var element = socialMediaVariations[i];\n      var profile = (_connection$socialMed = connection.socialMedia) == null ? void 0 : (_connection$socialMed2 = _connection$socialMed.find(function (s) {\n        return s.id === element.id;\n      })) == null ? void 0 : _connection$socialMed2.profile;\n\n      if (profile) {\n        var shareActionType = element.shareActionType;\n\n        if (shareActionType === SocialMediaShareActionType.COPY_IF_PHONE_LINK_IF_USERNAME) {\n          if (isPhoneNumber(profile)) {\n            shareActionType = SocialMediaShareActionType.COPY;\n          } else {\n            shareActionType = SocialMediaShareActionType.OPEN_LINK;\n          }\n        }\n\n        socialMediaOnConnectionPage.push({\n          id: element.id,\n          icon: element.icon,\n          shareActionType: shareActionType,\n          shareActionData: element.shareActionDataFormat.replace('%%PROFILE%%', profile)\n        });\n      }\n    };\n\n    for (var i = 0; i < socialMediaVariations.length; i++) {\n      _loop(i);\n    }\n\n    setConnectionSocialMedia(socialMediaOnConnectionPage);\n  }, [connection, socialMediaVariations]);\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var toggleSection = function toggleSection(key) {\n    switch (key) {\n      case ConnectionScreenSectionKeys.CONNECTIONS:\n        setConnectionsCollapsed(!connectionsCollapsed);\n        break;\n\n      case ConnectionScreenSectionKeys.GROUPS:\n        setGroupsCollapsed(!groupsCollapsed);\n        break;\n\n      case ConnectionScreenSectionKeys.RECOVERY_CONNECTIONS:\n        setRecoveryConnectionsCollapsed(!recoveryConnectionsCollapsed);\n        break;\n\n      case ConnectionScreenSectionKeys.DUPLICATES:\n        setPossibleDuplicatesCollapsed(!possibleDuplicatesCollapsed);\n        break;\n\n      case ConnectionScreenSectionKeys.SOCIAL_MEDIA:\n        setSocialMediaCollapsed(!socialMediaCollapsed);\n        break;\n    }\n  };\n\n  var imageSource = {\n    uri: \"file://\" + photoDirectory() + \"/\" + (connection == null ? void 0 : (_connection$photo = connection.photo) == null ? void 0 : _connection$photo.filename)\n  };\n  var getSections = useMemo(function () {\n    var data = [{\n      title: t('connectionDetails.label.mutualConnections'),\n      data: connectionsCollapsed ? [] : mutualConnections,\n      key: ConnectionScreenSectionKeys.CONNECTIONS,\n      numEntries: mutualConnections.length\n    }, {\n      title: t('connectionDetails.label.mutualGroups'),\n      data: groupsCollapsed ? [] : mutualGroups,\n      key: ConnectionScreenSectionKeys.GROUPS,\n      numEntries: mutualGroups.length\n    }, {\n      title: t('connectionDetails.label.recoveryConnections'),\n      data: recoveryConnectionsCollapsed ? [] : recoveryConnections,\n      key: ConnectionScreenSectionKeys.RECOVERY_CONNECTIONS,\n      numEntries: recoveryConnections.length\n    }, {\n      title: t('connectionDetails.label.possibleDuplicates'),\n      data: possibleDuplicatesCollapsed ? [] : possibleDuplicates,\n      key: ConnectionScreenSectionKeys.DUPLICATES,\n      numEntries: possibleDuplicates.length\n    }, {\n      title: t('connectionDetails.label.socialMedia'),\n      data: socialMediaCollapsed ? [] : [connectionSocialMedia],\n      key: ConnectionScreenSectionKeys.SOCIAL_MEDIA,\n      numEntries: connectionSocialMedia.filter(function (s) {\n        return !!s.shareActionData;\n      }).length\n    }];\n    return data;\n  }, [t, connectionsCollapsed, mutualConnections, groupsCollapsed, mutualGroups, recoveryConnectionsCollapsed, recoveryConnections, possibleDuplicatesCollapsed, possibleDuplicates, connectionSocialMedia, socialMediaCollapsed]);\n\n  var renderSticker = function renderSticker() {\n    if (loading) {\n      return _jsx(ActivityIndicator, {\n        size: \"small\",\n        color: DARKER_GREY,\n        animating: true\n      });\n    } else {\n      return verificationsTexts.length > 0 ? verificationsTexts.map(function (verificationText, i) {\n        return _jsx(View, {\n          style: styles.verificationBox,\n          children: _jsx(Text, {\n            style: styles.verificationText,\n            children: verificationText\n          }, \"verificationText-\" + i)\n        }, \"verificationView-\" + i);\n      }) : _jsx(UnverifiedSticker, {\n        width: 100,\n        height: 19\n      });\n    }\n  };\n\n  var connectionHeader = _jsxs(_Fragment, {\n    children: [_jsxs(View, {\n      style: styles.profile,\n      children: [_jsxs(View, {\n        style: styles.photoContainer,\n        children: [_jsx(TouchableWithoutFeedback, {\n          onPress: function onPress() {\n            navigation.navigate('FullScreenPhoto', {\n              photo: connection.photo\n            });\n          },\n          children: _jsx(Image, {\n            source: imageSource,\n            style: styles.profilePhoto,\n            resizeMode: \"cover\",\n            onError: function onError(e) {\n              console.log(e);\n            },\n            accessible: true,\n            accessibilityLabel: t('common.accessibilityLabel.userPhoto')\n          })\n        }), _jsx(View, {\n          style: styles.connectionInfo,\n          children: _jsx(View, {\n            style: styles.connectionTimestamp,\n            children: _jsx(Text, {\n              style: styles.connectionTimestampText,\n              children: loading ? t('connectionDetails.tags.loading') : t('connectionDetails.tags.connectedAt', {\n                date: \"\" + moment(parseInt(String(connectedAt), 10)).fromNow()\n              })\n            })\n          })\n        })]\n      }), _jsxs(View, {\n        style: styles.nameContainer,\n        children: [_jsx(View, {\n          style: styles.nameLabel,\n          children: _jsx(Text, {\n            style: styles.name,\n            numberOfLines: 1,\n            children: connection.name\n          })\n        }), _jsx(View, {\n          style: styles.profileDivider\n        }), _jsx(View, {\n          style: styles.verificationsContainer,\n          children: renderSticker()\n        })]\n      })]\n    }), _jsx(View, {\n      style: styles.trustLevelContainer,\n      children: _jsx(TrustLevelView, {\n        level: connection.level,\n        connectionId: connection.id\n      })\n    })]\n  });\n\n  var connectionFooter = connection.level !== connection_levels.REPORTED ? _jsx(TouchableOpacity, {\n    testID: \"ReportBtn\",\n    style: styles.reportBtn,\n    onPress: function onPress() {\n      navigation.navigate('ReportReason', {\n        connectionId: connection.id,\n        connectionName: connection.name,\n        reporting: true,\n        source: report_sources.PROFILE\n      });\n    },\n    children: _jsx(Text, {\n      style: styles.reportBtnText,\n      children: t('connectionDetails.button.report')\n    })\n  }) : _jsx(TouchableOpacity, {\n    testID: \"UnReportBtn\",\n    style: styles.unReportBtn,\n    onPress: function onPress() {\n      navigation.navigate('ReportReason', {\n        connectionId: connection.id,\n        connectionName: connection.name,\n        reportReason: connection.reportReason,\n        reporting: false,\n        source: report_sources.PROFILE\n      });\n    },\n    children: _jsx(Text, {\n      style: styles.unReportBtnText,\n      children: t('connectionDetails.button.undoReport')\n    })\n  });\n\n  var renderItem = function renderItem(_ref) {\n    var item = _ref.item,\n        index = _ref.index,\n        section = _ref.section;\n\n    if (section.key === ConnectionScreenSectionKeys.RECOVERY_CONNECTIONS) {\n      return renderRecoveryItem({\n        item: item,\n        index: index\n      });\n    }\n\n    if (section.key === ConnectionScreenSectionKeys.SOCIAL_MEDIA) {\n      return renderSocialMediaVariations({\n        item: item,\n        index: index\n      });\n    }\n\n    var testID = section.key + \"-\" + index;\n    console.log(\"Rendering Section \" + section.key + \" item \" + index + \" (\" + item.name + \") - testID \" + testID);\n    return _jsxs(View, {\n      testID: testID,\n      style: styles.itemContainer,\n      children: [_jsx(View, {\n        style: styles.itemPhoto,\n        children: renderPhoto(item)\n      }), _jsx(View, {\n        style: styles.itemLabel,\n        children: _jsx(Text, {\n          style: styles.itemLabelText,\n          children: item.name\n        })\n      })]\n    });\n  };\n\n  var renderSocialMediaVariations = function renderSocialMediaVariations(_ref2) {\n    var item = _ref2.item,\n        index = _ref2.index;\n    return _jsx(FlatList, {\n      style: styles.socialMediaVariations,\n      columnWrapperStyle: styles.socialMediaVariationsColumn,\n      data: item,\n      numColumns: 5,\n      renderItem: renderSocialMediaVariation,\n      keyExtractor: socialMediaVariationsKeyExtractor\n    });\n  };\n\n  var socialMediaVariationsKeyExtractor = function socialMediaVariationsKeyExtractor(item) {\n    return item.id;\n  };\n\n  var renderSocialMediaVariation = function renderSocialMediaVariation(_ref3) {\n    var item = _ref3.item;\n    return _jsx(TouchableWithoutFeedback, {\n      onPress: function onPress() {\n        if (item.shareActionData) {\n          var data = item.shareActionData;\n\n          if (item.shareActionType === SocialMediaShareActionType.OPEN_LINK) {\n            Linking.openURL(data);\n          } else if (item.shareActionType === SocialMediaShareActionType.COPY) {\n            Clipboard.setString(data);\n\n            if (Platform.OS === 'android') {\n              ToastAndroid.show(t('connectionDetails.text.copied'), ToastAndroid.LONG);\n            } else {\n              Alert.alert(t('connectionDetails.text.copied'));\n            }\n          }\n        }\n      },\n      children: _jsx(SvgXml, {\n        xml: item.icon,\n        width: DEVICE_LARGE ? 40 : 36,\n        height: DEVICE_LARGE ? 40 : 36\n      })\n    });\n  };\n\n  var renderRecoveryItem = function renderRecoveryItem(_ref4) {\n    var _item$conn;\n\n    var item = _ref4.item,\n        index = _ref4.index;\n    var testID = \"recoveryConnections-\" + index;\n    console.log(\"Rendering Section recoveryConnections item \" + index + \" (\" + item.id + \") - testID \" + testID);\n    var activeAfter = item.activeAfter ? \"(activates in \" + moment.duration(item.activeAfter, 'milliseconds').humanize() + \")\" : '';\n    var activeBefore = item.activeBefore ? \"(deactivates in \" + moment.duration(item.activeBefore, 'milliseconds').humanize() + \")\" : '';\n    return _jsxs(View, {\n      testID: testID,\n      style: styles.itemContainer,\n      children: [_jsx(View, {\n        style: styles.itemPhoto,\n        children: renderRecoveryPhoto(item.conn)\n      }), _jsx(View, {\n        style: styles.itemLabel,\n        children: _jsxs(Text, {\n          style: styles.itemLabelText,\n          children: [item != null && (_item$conn = item.conn) != null && _item$conn.name ? item.conn.name : t('connectionDetails.text.unkownRecoveryConnection'), ' ', activeAfter, \" \", activeBefore, ' ']\n        })\n      })]\n    });\n  };\n\n  var renderRecoveryPhoto = function renderRecoveryPhoto(item) {\n    var _item$photo;\n\n    var source = item != null && (_item$photo = item.photo) != null && _item$photo.filename ? {\n      uri: \"file://\" + photoDirectory() + \"/\" + item.photo.filename\n    } : require(\"../../static/default_profile.jpg\");\n    return _jsx(Image, {\n      source: source,\n      style: styles.photo,\n      resizeMode: \"cover\",\n      onError: function onError(e) {\n        console.log(e);\n      },\n      accessible: true,\n      accessibilityLabel: \"photo\"\n    });\n  };\n\n  var renderPhoto = function renderPhoto(item) {\n    var _item$photo2;\n\n    if (item != null && (_item$photo2 = item.photo) != null && _item$photo2.filename) {\n      return _jsx(Image, {\n        source: {\n          uri: \"file://\" + photoDirectory() + \"/\" + item.photo.filename\n        },\n        style: styles.photo,\n        resizeMode: \"cover\",\n        onError: function onError(e) {\n          console.log(e);\n        },\n        accessible: true,\n        accessibilityLabel: \"photo\"\n      });\n    } else {\n      return _jsx(GroupAvatar, {\n        width: DEVICE_LARGE ? 40 : 36,\n        height: DEVICE_LARGE ? 40 : 36\n      });\n    }\n  };\n\n  var renderSectionHeader = function renderSectionHeader(_ref5) {\n    var section = _ref5.section;\n    var collapsed;\n\n    switch (section.key) {\n      case ConnectionScreenSectionKeys.CONNECTIONS:\n        collapsed = connectionsCollapsed;\n        break;\n\n      case ConnectionScreenSectionKeys.GROUPS:\n        collapsed = groupsCollapsed;\n        break;\n\n      case ConnectionScreenSectionKeys.RECOVERY_CONNECTIONS:\n        collapsed = recoveryConnectionsCollapsed;\n        break;\n\n      case ConnectionScreenSectionKeys.DUPLICATES:\n        collapsed = possibleDuplicatesCollapsed;\n        break;\n\n      case ConnectionScreenSectionKeys.SOCIAL_MEDIA:\n        collapsed = socialMediaCollapsed;\n        break;\n    }\n\n    return _jsxs(View, {\n      style: styles.header,\n      children: [_jsx(View, {\n        style: styles.headerLabel,\n        children: _jsx(Text, {\n          style: styles.headerLabelText,\n          children: section.title\n        })\n      }), _jsxs(View, {\n        style: styles.headerContent,\n        children: [_jsx(View, {\n          style: styles.headerCount,\n          children: _jsx(Text, {\n            testID: section.key + \"-count\",\n            style: styles.headerContentText,\n            children: section.numEntries\n          })\n        }), _jsx(TouchableOpacity, {\n          testID: section.key + \"-toggleBtn\",\n          style: styles.collapseButton,\n          onPress: function onPress() {\n            return toggleSection(section.key);\n          },\n          disabled: section.numEntries < 1,\n          children: _jsx(Chevron, {\n            width: DEVICE_LARGE ? 18 : 16,\n            height: DEVICE_LARGE ? 18 : 16,\n            color: section.numEntries ? DARK_BLUE : LIGHT_GREY,\n            direction: collapsed ? 'down' : 'up'\n          })\n        })]\n      })]\n    });\n  };\n\n  return _jsxs(_Fragment, {\n    children: [_jsx(View, {\n      style: styles.orangeTop\n    }), _jsx(View, {\n      testID: \"ConnectionScreen\",\n      style: styles.container,\n      children: _jsx(SectionList, {\n        contentContainerStyle: {\n          flexGrow: 1,\n          paddingBottom: 50\n        },\n        sections: getSections,\n        keyExtractor: function keyExtractor(item) {\n          return item.id;\n        },\n        renderItem: renderItem,\n        renderSectionHeader: renderSectionHeader,\n        ListHeaderComponent: connectionHeader,\n        ListFooterComponent: connectionFooter,\n        ListFooterComponentStyle: styles.connectionFooter,\n        ItemSeparatorComponent: ItemSeparator\n      })\n    })]\n  });\n}\n\nvar ItemSeparator = function ItemSeparator() {\n  return _jsx(View, {\n    style: {\n      height: StyleSheet.hairlineWidth,\n      backgroundColor: ORANGE\n    }\n  });\n};\n\nvar styles = StyleSheet.create({\n  socialMediaVariations: {\n    marginTop: DEVICE_LARGE ? 8 : 6,\n    marginBottom: DEVICE_LARGE ? 8 : 6\n  },\n  socialMediaVariationsColumn: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-evenly',\n    marginRight: 10,\n    marginTop: DEVICE_LARGE ? 10 : 8,\n    marginBottom: DEVICE_LARGE ? 10 : 8\n  },\n  orangeTop: {\n    backgroundColor: ORANGE,\n    height: DEVICE_LARGE ? 70 : 65,\n    width: '100%',\n    zIndex: 1\n  },\n  container: {\n    flex: 1,\n    backgroundColor: WHITE,\n    borderTopLeftRadius: 58,\n    marginTop: -58,\n    marginBottom: 5,\n    paddingLeft: '8%',\n    paddingRight: '8%',\n    paddingTop: DEVICE_LARGE ? 20 : 18,\n    overflow: 'hidden',\n    zIndex: 10\n  },\n  profile: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'flex-start'\n  },\n  photoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexDirection: 'column',\n    minWidth: '45%'\n  },\n  profilePhoto: {\n    borderRadius: DEVICE_LARGE ? 45 : 39,\n    width: DEVICE_LARGE ? 90 : 78,\n    height: DEVICE_LARGE ? 90 : 78,\n    marginLeft: DEVICE_LARGE ? -5 : -4\n  },\n  nameContainer: {\n    flexDirection: 'column',\n    alignItems: 'center',\n    marginLeft: -3,\n    flexGrow: 1,\n    maxWidth: '60%'\n  },\n  nameLabel: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  name: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[17],\n    color: BLACK\n  },\n  verificationsContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginTop: 6,\n    marginBottom: DEVICE_LARGE ? 10 : 0,\n    width: '100%',\n    backgroundColor: WHITE\n  },\n  verificationBox: {\n    margin: 1\n  },\n  verificationText: {\n    paddingLeft: 3,\n    paddingRight: 3,\n    paddingTop: 3,\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[11],\n    color: BLUE,\n    borderColor: BLUE,\n    borderWidth: 1,\n    borderRadius: 8,\n    textAlign: 'center'\n  },\n  profileDivider: {\n    borderBottomWidth: 2,\n    borderBottomColor: ORANGE,\n    paddingBottom: 3,\n    width: '98%'\n  },\n  connectionInfo: {\n    marginTop: 10,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  connectionTimestamp: {},\n  connectionTimestampText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[10],\n    color: ORANGE\n  },\n  trustLevelContainer: {\n    marginTop: DEVICE_LARGE ? 16 : 15,\n    marginBottom: 10\n  },\n  reportBtn: {\n    width: '90%',\n    borderRadius: 100,\n    borderColor: ORANGE,\n    borderWidth: 1,\n    backgroundColor: WHITE,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingTop: DEVICE_LARGE ? 13 : 12,\n    paddingBottom: DEVICE_LARGE ? 13 : 12\n  },\n  reportBtnText: {\n    fontFamily: 'Poppins-Bold',\n    fontSize: fontSize[16],\n    color: ORANGE,\n    marginLeft: DEVICE_LARGE ? 10 : 8\n  },\n  unReportBtn: {\n    width: '75%',\n    borderRadius: 100,\n    borderColor: DARK_GREEN,\n    borderWidth: 1,\n    backgroundColor: WHITE,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingTop: DEVICE_LARGE ? 13 : 12,\n    paddingBottom: DEVICE_LARGE ? 13 : 12\n  },\n  unReportBtnText: {\n    fontFamily: 'Poppins-Bold',\n    fontSize: fontSize[16],\n    color: DARK_GREEN,\n    marginLeft: DEVICE_LARGE ? 10 : 8\n  },\n  header: {\n    marginBottom: 5,\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  headerLabel: {},\n  headerLabelText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[16],\n    color: BLACK\n  },\n  headerContent: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    alignItems: 'center'\n  },\n  headerCount: {\n    minWidth: 28,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  headerContentText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[17],\n    color: ORANGE\n  },\n  collapseButton: {\n    paddingLeft: 5,\n    paddingBottom: 5,\n    paddingTop: 5\n  },\n  chevron: {\n    margin: DEVICE_LARGE ? 7 : 6\n  },\n  itemContainer: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  itemPhoto: {\n    margin: 10\n  },\n  photo: {\n    borderRadius: 20,\n    width: 40,\n    height: 40\n  },\n  itemLabel: {},\n  itemLabelText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[15],\n    color: BLACK\n  },\n  connectionFooter: {\n    flexGrow: 1,\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n});\nexport default ConnectionScreen;","map":{"version":3,"names":["React","useEffect","useMemo","useState","useNavigation","useTranslation","moment","SvgXml","Clipboard","UnverifiedSticker","GroupAvatar","photoDirectory","DEVICE_LARGE","ORANGE","BLUE","WHITE","BLACK","DARKER_GREY","DARK_BLUE","LIGHT_GREY","DARK_GREEN","fontSize","connection_levels","report_sources","Chevron","TrustLevelView","useSelector","SocialMediaShareActionType","SocialMediaType","selectAllSocialMediaVariationsByType","ConnectionScreenSectionKeys","isPhoneNumber","profile","c","ConnectionScreen","props","connection","verificationsTexts","connectedAt","mutualGroups","mutualConnections","recoveryConnections","loading","possibleDuplicates","navigation","selectSocialMediaVariations","socialMediaVariations","state","SOCIAL_PROFILE","groupsCollapsed","setGroupsCollapsed","connectionsCollapsed","setConnectionsCollapsed","recoveryConnectionsCollapsed","setRecoveryConnectionsCollapsed","possibleDuplicatesCollapsed","setPossibleDuplicatesCollapsed","socialMediaCollapsed","setSocialMediaCollapsed","connectionSocialMedia","setConnectionSocialMedia","socialMediaOnConnectionPage","i","element","socialMedia","find","s","id","shareActionType","COPY_IF_PHONE_LINK_IF_USERNAME","COPY","OPEN_LINK","push","icon","shareActionData","shareActionDataFormat","replace","length","t","toggleSection","key","CONNECTIONS","GROUPS","RECOVERY_CONNECTIONS","DUPLICATES","SOCIAL_MEDIA","imageSource","uri","photo","filename","getSections","data","title","numEntries","filter","renderSticker","map","verificationText","styles","verificationBox","connectionHeader","photoContainer","navigate","profilePhoto","e","console","log","connectionInfo","connectionTimestamp","connectionTimestampText","date","parseInt","String","fromNow","nameContainer","nameLabel","name","profileDivider","verificationsContainer","trustLevelContainer","level","connectionFooter","REPORTED","reportBtn","connectionId","connectionName","reporting","source","PROFILE","reportBtnText","unReportBtn","reportReason","unReportBtnText","renderItem","item","index","section","renderRecoveryItem","renderSocialMediaVariations","testID","itemContainer","itemPhoto","renderPhoto","itemLabel","itemLabelText","socialMediaVariationsColumn","renderSocialMediaVariation","socialMediaVariationsKeyExtractor","Linking","openURL","setString","Platform","OS","ToastAndroid","show","LONG","Alert","alert","activeAfter","duration","humanize","activeBefore","renderRecoveryPhoto","conn","require","renderSectionHeader","collapsed","header","headerLabel","headerLabelText","headerContent","headerCount","headerContentText","collapseButton","orangeTop","container","flexGrow","paddingBottom","ItemSeparator","height","StyleSheet","hairlineWidth","backgroundColor","create","marginTop","marginBottom","flexDirection","alignItems","justifyContent","marginRight","width","zIndex","flex","borderTopLeftRadius","paddingLeft","paddingRight","paddingTop","overflow","minWidth","borderRadius","marginLeft","maxWidth","fontFamily","color","margin","borderColor","borderWidth","textAlign","borderBottomWidth","borderBottomColor","chevron"],"sources":["/home/ali/Desktop/brightid/BrightID/BrightID/src/components/Connections/ConnectionScreen.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport {\n  ActivityIndicator,\n  Image,\n  StyleSheet,\n  Text,\n  TouchableOpacity,\n  TouchableWithoutFeedback,\n  View,\n  SectionList,\n  Linking,\n  FlatList,\n  Platform,\n  ToastAndroid,\n  Alert,\n} from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport { useTranslation } from 'react-i18next';\nimport moment from 'moment';\nimport { SvgXml } from 'react-native-svg';\nimport Clipboard from '@react-native-community/clipboard';\nimport UnverifiedSticker from '@/components/Icons/UnverifiedSticker';\nimport GroupAvatar from '@/components/Icons/GroupAvatar';\nimport { photoDirectory } from '@/utils/filesystem';\nimport { DEVICE_LARGE } from '@/utils/deviceConstants';\nimport {\n  ORANGE,\n  BLUE,\n  WHITE,\n  BLACK,\n  DARKER_GREY,\n  DARK_BLUE,\n  LIGHT_GREY,\n  DARK_GREEN,\n} from '@/theme/colors';\nimport { fontSize } from '@/theme/fonts';\nimport { connection_levels, report_sources } from '@/utils/constants';\nimport Chevron from '../Icons/Chevron';\nimport TrustLevelView from './TrustLevelView';\nimport { useSelector } from '@/store';\nimport {\n  SocialMediaShareActionType,\n  SocialMediaType,\n} from '@/components/EditProfile/socialMediaVariations';\nimport { selectAllSocialMediaVariationsByType } from '@/reducer/socialMediaVariationSlice';\n\n/**\n Connection details screen\n To make maximum use of the performance optimization from Flatlist/SectionList, the whole\n screen is rendered as SectionList. The Profile information (Photo, Name etc.) is rendered\n via ListHeaderComponent, the \"Report\" button on the bottom via ListFooterComponent.\n* */\ntype Props = {\n  connection: Connection;\n  verificationsTexts: Array<string>;\n  connectedAt: number;\n  mutualGroups: Array<Group>;\n  mutualConnections: Array<Connection>;\n  recoveryConnections: Array<RecoveryConnection>;\n  possibleDuplicates: Array<Connection>;\n  loading: boolean;\n};\n\ntype SocialMediaOnConnectionPage = {\n  id: SocialMediaId;\n  icon: any;\n  shareActionType: SocialMediaShareActionType;\n  shareActionData: string;\n};\n\ninterface Section {\n  title: string;\n  data: Array<Connection | Group | SocialMediaOnConnectionPage[]>;\n  key: ConnectionScreenSectionKeys;\n  numEntries: number;\n}\n\nenum ConnectionScreenSectionKeys {\n  CONNECTIONS = 'connections',\n  GROUPS = 'groups',\n  RECOVERY_CONNECTIONS = 'recoveryConnections',\n  DUPLICATES = 'duplicates',\n  SOCIAL_MEDIA = 'socialMedia',\n}\n\nconst isPhoneNumber = (profile: string): boolean => {\n  const c = profile[0];\n  return c === '+' || (c >= '0' && c <= '9');\n};\n\nfunction ConnectionScreen(props: Props) {\n  const {\n    connection,\n    verificationsTexts,\n    connectedAt,\n    mutualGroups,\n    mutualConnections,\n    recoveryConnections,\n    loading,\n    possibleDuplicates,\n  } = props;\n  const navigation = useNavigation();\n\n  const selectSocialMediaVariations = useMemo(\n    selectAllSocialMediaVariationsByType,\n    [],\n  );\n  const socialMediaVariations = useSelector((state) =>\n    selectSocialMediaVariations(state, SocialMediaType.SOCIAL_PROFILE),\n  );\n\n  const [groupsCollapsed, setGroupsCollapsed] = useState(true);\n  const [connectionsCollapsed, setConnectionsCollapsed] = useState(true);\n  const [recoveryConnectionsCollapsed, setRecoveryConnectionsCollapsed] =\n    useState(true);\n  const [possibleDuplicatesCollapsed, setPossibleDuplicatesCollapsed] =\n    useState(true);\n  const [socialMediaCollapsed, setSocialMediaCollapsed] = useState(true);\n  const [connectionSocialMedia, setConnectionSocialMedia] = useState<\n    SocialMediaOnConnectionPage[]\n  >([]);\n\n  useEffect(() => {\n    const socialMediaOnConnectionPage: SocialMediaOnConnectionPage[] = [];\n    for (let i = 0; i < socialMediaVariations.length; i++) {\n      const element = socialMediaVariations[i];\n      const profile = connection.socialMedia?.find(\n        (s) => s.id === element.id,\n      )?.profile;\n      if (profile) {\n        let { shareActionType } = element;\n        if (\n          shareActionType ===\n          SocialMediaShareActionType.COPY_IF_PHONE_LINK_IF_USERNAME\n        ) {\n          if (isPhoneNumber(profile)) {\n            shareActionType = SocialMediaShareActionType.COPY;\n          } else {\n            shareActionType = SocialMediaShareActionType.OPEN_LINK;\n          }\n        }\n        socialMediaOnConnectionPage.push({\n          id: element.id,\n          icon: element.icon,\n          shareActionType,\n          shareActionData: element.shareActionDataFormat.replace(\n            '%%PROFILE%%',\n            profile,\n          ),\n        });\n      }\n    }\n    setConnectionSocialMedia(socialMediaOnConnectionPage);\n  }, [connection, socialMediaVariations]);\n  const { t } = useTranslation();\n\n  const toggleSection = (key) => {\n    switch (key) {\n      case ConnectionScreenSectionKeys.CONNECTIONS:\n        setConnectionsCollapsed(!connectionsCollapsed);\n        break;\n      case ConnectionScreenSectionKeys.GROUPS:\n        setGroupsCollapsed(!groupsCollapsed);\n        break;\n      case ConnectionScreenSectionKeys.RECOVERY_CONNECTIONS:\n        setRecoveryConnectionsCollapsed(!recoveryConnectionsCollapsed);\n        break;\n      case ConnectionScreenSectionKeys.DUPLICATES:\n        setPossibleDuplicatesCollapsed(!possibleDuplicatesCollapsed);\n        break;\n      case ConnectionScreenSectionKeys.SOCIAL_MEDIA:\n        setSocialMediaCollapsed(!socialMediaCollapsed);\n        break;\n    }\n  };\n\n  const imageSource = {\n    uri: `file://${photoDirectory()}/${connection?.photo?.filename}`,\n  };\n\n  const getSections = useMemo(() => {\n    const data: Section[] = [\n      {\n        title: t('connectionDetails.label.mutualConnections'),\n        data: connectionsCollapsed ? [] : mutualConnections,\n        key: ConnectionScreenSectionKeys.CONNECTIONS,\n        numEntries: mutualConnections.length,\n      },\n      {\n        title: t('connectionDetails.label.mutualGroups'),\n        data: groupsCollapsed ? [] : mutualGroups,\n        key: ConnectionScreenSectionKeys.GROUPS,\n        numEntries: mutualGroups.length,\n      },\n      {\n        title: t('connectionDetails.label.recoveryConnections'),\n        data: recoveryConnectionsCollapsed ? [] : recoveryConnections,\n        key: ConnectionScreenSectionKeys.RECOVERY_CONNECTIONS,\n        numEntries: recoveryConnections.length,\n      },\n      {\n        title: t('connectionDetails.label.possibleDuplicates'),\n        data: possibleDuplicatesCollapsed ? [] : possibleDuplicates,\n        key: ConnectionScreenSectionKeys.DUPLICATES,\n        numEntries: possibleDuplicates.length,\n      },\n      {\n        title: t('connectionDetails.label.socialMedia'),\n        data: socialMediaCollapsed ? [] : [connectionSocialMedia],\n        key: ConnectionScreenSectionKeys.SOCIAL_MEDIA,\n        numEntries: connectionSocialMedia.filter((s) => !!s.shareActionData)\n          .length,\n      },\n    ];\n    return data;\n  }, [\n    t,\n    connectionsCollapsed,\n    mutualConnections,\n    groupsCollapsed,\n    mutualGroups,\n    recoveryConnectionsCollapsed,\n    recoveryConnections,\n    possibleDuplicatesCollapsed,\n    possibleDuplicates,\n    connectionSocialMedia,\n    socialMediaCollapsed,\n  ]);\n\n  const renderSticker = () => {\n    if (loading) {\n      return <ActivityIndicator size=\"small\" color={DARKER_GREY} animating />;\n    } else {\n      return verificationsTexts.length > 0 ? (\n        verificationsTexts.map((verificationText, i) => (\n          <View key={`verificationView-${i}`} style={styles.verificationBox}>\n            <Text key={`verificationText-${i}`} style={styles.verificationText}>\n              {verificationText}\n            </Text>\n          </View>\n        ))\n      ) : (\n        <UnverifiedSticker width={100} height={19} />\n      );\n    }\n  };\n\n  const connectionHeader = (\n    <>\n      <View style={styles.profile}>\n        <View style={styles.photoContainer}>\n          <TouchableWithoutFeedback\n            onPress={() => {\n              navigation.navigate('FullScreenPhoto', {\n                photo: connection.photo,\n              });\n            }}\n          >\n            <Image\n              source={imageSource}\n              style={styles.profilePhoto}\n              resizeMode=\"cover\"\n              onError={(e) => {\n                console.log(e);\n              }}\n              accessible={true}\n              accessibilityLabel={t('common.accessibilityLabel.userPhoto')}\n            />\n          </TouchableWithoutFeedback>\n          <View style={styles.connectionInfo}>\n            <View style={styles.connectionTimestamp}>\n              <Text style={styles.connectionTimestampText}>\n                {loading\n                  ? t('connectionDetails.tags.loading')\n                  : t('connectionDetails.tags.connectedAt', {\n                      date: `${moment(\n                        parseInt(String(connectedAt), 10),\n                      ).fromNow()}`,\n                    })}\n              </Text>\n            </View>\n          </View>\n        </View>\n        <View style={styles.nameContainer}>\n          <View style={styles.nameLabel}>\n            <Text style={styles.name} numberOfLines={1}>\n              {connection.name}\n            </Text>\n          </View>\n          <View style={styles.profileDivider} />\n          <View style={styles.verificationsContainer}>{renderSticker()}</View>\n        </View>\n      </View>\n\n      <View style={styles.trustLevelContainer}>\n        <TrustLevelView level={connection.level} connectionId={connection.id} />\n      </View>\n    </>\n  );\n\n  const connectionFooter =\n    connection.level !== connection_levels.REPORTED ? (\n      <TouchableOpacity\n        testID=\"ReportBtn\"\n        style={styles.reportBtn}\n        onPress={() => {\n          navigation.navigate('ReportReason', {\n            connectionId: connection.id,\n            connectionName: connection.name,\n            reporting: true,\n            source: report_sources.PROFILE\n          });\n        }}\n      >\n        <Text style={styles.reportBtnText}>\n          {t('connectionDetails.button.report')}\n        </Text>\n      </TouchableOpacity>\n    ) : (\n      <TouchableOpacity\n        testID=\"UnReportBtn\"\n        style={styles.unReportBtn}\n        onPress={() => {\n          navigation.navigate('ReportReason', {\n            connectionId: connection.id,\n            connectionName: connection.name,\n            reportReason: connection.reportReason,\n            reporting: false,\n            source: report_sources.PROFILE\n          });\n        }}\n      >\n        <Text style={styles.unReportBtnText}>\n          {t('connectionDetails.button.undoReport')}\n        </Text>\n      </TouchableOpacity>\n    );\n\n  const renderItem = ({ item, index, section }) => {\n    if (section.key === ConnectionScreenSectionKeys.RECOVERY_CONNECTIONS) {\n      return renderRecoveryItem({ item, index });\n    }\n    if (section.key === ConnectionScreenSectionKeys.SOCIAL_MEDIA) {\n      return renderSocialMediaVariations({ item, index });\n    }\n    const testID = `${section.key}-${index}`;\n    console.log(\n      `Rendering Section ${section.key} item ${index} (${item.name}) - testID ${testID}`,\n    );\n    return (\n      <View testID={testID} style={styles.itemContainer}>\n        <View style={styles.itemPhoto}>{renderPhoto(item)}</View>\n        <View style={styles.itemLabel}>\n          <Text style={styles.itemLabelText}>{item.name}</Text>\n        </View>\n      </View>\n    );\n  };\n\n  const renderSocialMediaVariations = ({\n    item,\n    index,\n  }: {\n    item: SocialMediaOnConnectionPage[];\n    index: number;\n  }) => {\n    return (\n      <FlatList\n        style={styles.socialMediaVariations}\n        columnWrapperStyle={styles.socialMediaVariationsColumn}\n        data={item}\n        numColumns={5}\n        renderItem={renderSocialMediaVariation}\n        keyExtractor={socialMediaVariationsKeyExtractor}\n      />\n    );\n  };\n\n  const socialMediaVariationsKeyExtractor = (\n    item: SocialMediaOnConnectionPage,\n  ) => {\n    return item.id;\n  };\n\n  const renderSocialMediaVariation = ({\n    item,\n  }: {\n    item: SocialMediaOnConnectionPage;\n  }) => {\n    return (\n      <TouchableWithoutFeedback\n        onPress={() => {\n          if (item.shareActionData) {\n            const data = item.shareActionData;\n            if (item.shareActionType === SocialMediaShareActionType.OPEN_LINK) {\n              Linking.openURL(data);\n            } else if (\n              item.shareActionType === SocialMediaShareActionType.COPY\n            ) {\n              Clipboard.setString(data);\n              if (Platform.OS === 'android') {\n                ToastAndroid.show(\n                  t('connectionDetails.text.copied'),\n                  ToastAndroid.LONG,\n                );\n              } else {\n                Alert.alert(t('connectionDetails.text.copied'));\n              }\n            }\n          }\n        }}\n      >\n        <SvgXml\n          xml={item.icon}\n          width={DEVICE_LARGE ? 40 : 36}\n          height={DEVICE_LARGE ? 40 : 36}\n        />\n      </TouchableWithoutFeedback>\n    );\n  };\n\n  const renderRecoveryItem = ({ item, index }) => {\n    const testID = `recoveryConnections-${index}`;\n    console.log(\n      `Rendering Section recoveryConnections item ${index} (${item.id}) - testID ${testID}`,\n    );\n    const activeAfter = item.activeAfter\n      ? `(activates in ${moment\n          .duration(item.activeAfter, 'milliseconds')\n          .humanize()})`\n      : '';\n    const activeBefore = item.activeBefore\n      ? `(deactivates in ${moment\n          .duration(item.activeBefore, 'milliseconds')\n          .humanize()})`\n      : '';\n    return (\n      <View testID={testID} style={styles.itemContainer}>\n        <View style={styles.itemPhoto}>{renderRecoveryPhoto(item.conn)}</View>\n        <View style={styles.itemLabel}>\n          <Text style={styles.itemLabelText}>\n            {item?.conn?.name\n              ? item.conn.name\n              : t('connectionDetails.text.unkownRecoveryConnection')}{' '}\n            {activeAfter} {activeBefore}{' '}\n          </Text>\n        </View>\n      </View>\n    );\n  };\n\n  const renderRecoveryPhoto = (item) => {\n    const source = item?.photo?.filename\n      ? { uri: `file://${photoDirectory()}/${item.photo.filename}` }\n      : require('@/static/default_profile.jpg');\n    return (\n      <Image\n        source={source}\n        style={styles.photo}\n        resizeMode=\"cover\"\n        onError={(e) => {\n          console.log(e);\n        }}\n        accessible={true}\n        accessibilityLabel=\"photo\"\n      />\n    );\n  };\n\n  const renderPhoto = (item) => {\n    if (item?.photo?.filename) {\n      return (\n        <Image\n          source={{ uri: `file://${photoDirectory()}/${item.photo.filename}` }}\n          style={styles.photo}\n          resizeMode=\"cover\"\n          onError={(e) => {\n            console.log(e);\n          }}\n          accessible={true}\n          accessibilityLabel=\"photo\"\n        />\n      );\n    } else {\n      return (\n        <GroupAvatar\n          width={DEVICE_LARGE ? 40 : 36}\n          height={DEVICE_LARGE ? 40 : 36}\n        />\n      );\n    }\n  };\n\n  const renderSectionHeader = ({ section }: { section: Section }) => {\n    let collapsed;\n    switch (section.key) {\n      case ConnectionScreenSectionKeys.CONNECTIONS:\n        collapsed = connectionsCollapsed;\n        break;\n      case ConnectionScreenSectionKeys.GROUPS:\n        collapsed = groupsCollapsed;\n        break;\n      case ConnectionScreenSectionKeys.RECOVERY_CONNECTIONS:\n        collapsed = recoveryConnectionsCollapsed;\n        break;\n      case ConnectionScreenSectionKeys.DUPLICATES:\n        collapsed = possibleDuplicatesCollapsed;\n        break;\n      case ConnectionScreenSectionKeys.SOCIAL_MEDIA:\n        collapsed = socialMediaCollapsed;\n        break;\n    }\n    return (\n      <View style={styles.header}>\n        <View style={styles.headerLabel}>\n          <Text style={styles.headerLabelText}>{section.title}</Text>\n        </View>\n        <View style={styles.headerContent}>\n          <View style={styles.headerCount}>\n            <Text\n              testID={`${section.key}-count`}\n              style={styles.headerContentText}\n            >\n              {section.numEntries}\n            </Text>\n          </View>\n          <TouchableOpacity\n            testID={`${section.key}-toggleBtn`}\n            style={styles.collapseButton}\n            onPress={() => toggleSection(section.key)}\n            disabled={section.numEntries < 1}\n          >\n            <Chevron\n              width={DEVICE_LARGE ? 18 : 16}\n              height={DEVICE_LARGE ? 18 : 16}\n              color={section.numEntries ? DARK_BLUE : LIGHT_GREY}\n              direction={collapsed ? 'down' : 'up'}\n            />\n          </TouchableOpacity>\n        </View>\n      </View>\n    );\n  };\n\n  return (\n    <>\n      <View style={styles.orangeTop} />\n      <View testID=\"ConnectionScreen\" style={styles.container}>\n        <SectionList\n          contentContainerStyle={{ flexGrow: 1, paddingBottom: 50 }}\n          sections={getSections}\n          keyExtractor={(item) => item.id}\n          renderItem={renderItem}\n          renderSectionHeader={renderSectionHeader}\n          ListHeaderComponent={connectionHeader}\n          ListFooterComponent={connectionFooter}\n          // @ts-ignore: mistyped\n          ListFooterComponentStyle={styles.connectionFooter}\n          ItemSeparatorComponent={ItemSeparator}\n        />\n      </View>\n    </>\n  );\n}\n\nconst ItemSeparator = () => {\n  return (\n    <View\n      style={{\n        height: StyleSheet.hairlineWidth,\n        backgroundColor: ORANGE,\n      }}\n    />\n  );\n};\n\nconst styles = StyleSheet.create({\n  socialMediaVariations: {\n    marginTop: DEVICE_LARGE ? 8 : 6,\n    marginBottom: DEVICE_LARGE ? 8 : 6,\n  },\n  socialMediaVariationsColumn: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-evenly',\n    marginRight: 10,\n    marginTop: DEVICE_LARGE ? 10 : 8,\n    marginBottom: DEVICE_LARGE ? 10 : 8,\n  },\n  orangeTop: {\n    backgroundColor: ORANGE,\n    height: DEVICE_LARGE ? 70 : 65,\n    width: '100%',\n    zIndex: 1,\n  },\n  container: {\n    flex: 1,\n    backgroundColor: WHITE,\n    borderTopLeftRadius: 58,\n    marginTop: -58,\n    marginBottom: 5,\n    paddingLeft: '8%',\n    paddingRight: '8%',\n    paddingTop: DEVICE_LARGE ? 20 : 18,\n    overflow: 'hidden',\n    zIndex: 10,\n  },\n  profile: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n  },\n  photoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexDirection: 'column',\n    minWidth: '45%',\n  },\n  profilePhoto: {\n    borderRadius: DEVICE_LARGE ? 45 : 39,\n    width: DEVICE_LARGE ? 90 : 78,\n    height: DEVICE_LARGE ? 90 : 78,\n    marginLeft: DEVICE_LARGE ? -5 : -4,\n  },\n  nameContainer: {\n    flexDirection: 'column',\n    alignItems: 'center',\n    marginLeft: -3,\n    flexGrow: 1,\n    maxWidth: '60%',\n  },\n  nameLabel: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  name: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[17],\n    color: BLACK,\n  },\n  verificationsContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginTop: 6,\n    marginBottom: DEVICE_LARGE ? 10 : 0,\n    width: '100%',\n    backgroundColor: WHITE,\n  },\n  verificationBox: {\n    margin: 1,\n  },\n  verificationText: {\n    paddingLeft: 3,\n    paddingRight: 3,\n    paddingTop: 3,\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[11],\n    color: BLUE,\n    borderColor: BLUE,\n    borderWidth: 1,\n    borderRadius: 8,\n    textAlign: 'center',\n  },\n  profileDivider: {\n    borderBottomWidth: 2,\n    borderBottomColor: ORANGE,\n    paddingBottom: 3,\n    width: '98%',\n  },\n  connectionInfo: {\n    marginTop: 10,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  connectionTimestamp: {\n    // width: '100%',\n  },\n  connectionTimestampText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[10],\n    color: ORANGE,\n  },\n  trustLevelContainer: {\n    marginTop: DEVICE_LARGE ? 16 : 15,\n    marginBottom: 10,\n  },\n  reportBtn: {\n    width: '90%',\n    borderRadius: 100,\n    borderColor: ORANGE,\n    borderWidth: 1,\n    backgroundColor: WHITE,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingTop: DEVICE_LARGE ? 13 : 12,\n    paddingBottom: DEVICE_LARGE ? 13 : 12,\n  },\n  reportBtnText: {\n    fontFamily: 'Poppins-Bold',\n    fontSize: fontSize[16],\n    color: ORANGE,\n    marginLeft: DEVICE_LARGE ? 10 : 8,\n  },\n  unReportBtn: {\n    width: '75%',\n    borderRadius: 100,\n    borderColor: DARK_GREEN,\n    borderWidth: 1,\n    backgroundColor: WHITE,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingTop: DEVICE_LARGE ? 13 : 12,\n    paddingBottom: DEVICE_LARGE ? 13 : 12,\n  },\n  unReportBtnText: {\n    fontFamily: 'Poppins-Bold',\n    fontSize: fontSize[16],\n    color: DARK_GREEN,\n    marginLeft: DEVICE_LARGE ? 10 : 8,\n  },\n  header: {\n    marginBottom: 5,\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  headerLabel: {\n    // flex: 2,\n  },\n  headerLabelText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[16],\n    color: BLACK,\n  },\n  headerContent: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    alignItems: 'center',\n  },\n  headerCount: {\n    minWidth: 28,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  headerContentText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[17],\n    color: ORANGE,\n  },\n  collapseButton: {\n    paddingLeft: 5,\n    paddingBottom: 5,\n    paddingTop: 5,\n  },\n  chevron: {\n    margin: DEVICE_LARGE ? 7 : 6,\n  },\n  itemContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  itemPhoto: {\n    margin: 10,\n  },\n  photo: {\n    borderRadius: 20,\n    width: 40,\n    height: 40,\n  },\n  itemLabel: {},\n  itemLabelText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[15],\n    color: BLACK,\n  },\n  connectionFooter: {\n    flexGrow: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n});\n\nexport default ConnectionScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}