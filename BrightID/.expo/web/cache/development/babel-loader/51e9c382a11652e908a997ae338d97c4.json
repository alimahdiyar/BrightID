{"ast":null,"code":"import NativeAnimatedNonTurboModule from \"./NativeAnimatedModule\";\nimport NativeAnimatedTurboModule from \"./NativeAnimatedTurboModule\";\nimport NativeEventEmitter from \"../NativeEventEmitter\";\nimport Platform from \"../../../exports/Platform\";\nimport invariant from 'fbjs/lib/invariant';\nvar NativeAnimatedModule = Platform.OS === 'ios' && global.RN$Bridgeless ? NativeAnimatedTurboModule : NativeAnimatedNonTurboModule;\nvar __nativeAnimatedNodeTagCount = 1;\nvar __nativeAnimationIdCount = 1;\nvar nativeEventEmitter;\nvar waitingForQueuedOperations = new Set();\nvar queueOperations = false;\nvar queue = [];\nvar API = {\n  getValue: function getValue(tag, saveValueCallback) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n\n    if (NativeAnimatedModule.getValue) {\n      NativeAnimatedModule.getValue(tag, saveValueCallback);\n    }\n  },\n  setWaitingForIdentifier: function setWaitingForIdentifier(id) {\n    waitingForQueuedOperations.add(id);\n    queueOperations = true;\n  },\n  unsetWaitingForIdentifier: function unsetWaitingForIdentifier(id) {\n    waitingForQueuedOperations.delete(id);\n\n    if (waitingForQueuedOperations.size === 0) {\n      queueOperations = false;\n      API.disableQueue();\n    }\n  },\n  disableQueue: function disableQueue() {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n\n    if (Platform.OS === 'android') {\n      NativeAnimatedModule.startOperationBatch();\n    }\n\n    for (var q = 0, l = queue.length; q < l; q++) {\n      queue[q]();\n    }\n\n    queue.length = 0;\n\n    if (Platform.OS === 'android') {\n      NativeAnimatedModule.finishOperationBatch();\n    }\n  },\n  queueOperation: function queueOperation(fn) {\n    if (queueOperations) {\n      queue.push(fn);\n    } else {\n      fn();\n    }\n  },\n  createAnimatedNode: function createAnimatedNode(tag, config) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.createAnimatedNode(tag, config);\n    });\n  },\n  startListeningToAnimatedNodeValue: function startListeningToAnimatedNodeValue(tag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.startListeningToAnimatedNodeValue(tag);\n    });\n  },\n  stopListeningToAnimatedNodeValue: function stopListeningToAnimatedNodeValue(tag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.stopListeningToAnimatedNodeValue(tag);\n    });\n  },\n  connectAnimatedNodes: function connectAnimatedNodes(parentTag, childTag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.connectAnimatedNodes(parentTag, childTag);\n    });\n  },\n  disconnectAnimatedNodes: function disconnectAnimatedNodes(parentTag, childTag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.disconnectAnimatedNodes(parentTag, childTag);\n    });\n  },\n  startAnimatingNode: function startAnimatingNode(animationId, nodeTag, config, endCallback) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.startAnimatingNode(animationId, nodeTag, config, endCallback);\n    });\n  },\n  stopAnimation: function stopAnimation(animationId) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.stopAnimation(animationId);\n    });\n  },\n  setAnimatedNodeValue: function setAnimatedNodeValue(nodeTag, value) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.setAnimatedNodeValue(nodeTag, value);\n    });\n  },\n  setAnimatedNodeOffset: function setAnimatedNodeOffset(nodeTag, offset) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.setAnimatedNodeOffset(nodeTag, offset);\n    });\n  },\n  flattenAnimatedNodeOffset: function flattenAnimatedNodeOffset(nodeTag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.flattenAnimatedNodeOffset(nodeTag);\n    });\n  },\n  extractAnimatedNodeOffset: function extractAnimatedNodeOffset(nodeTag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.extractAnimatedNodeOffset(nodeTag);\n    });\n  },\n  connectAnimatedNodeToView: function connectAnimatedNodeToView(nodeTag, viewTag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.connectAnimatedNodeToView(nodeTag, viewTag);\n    });\n  },\n  disconnectAnimatedNodeFromView: function disconnectAnimatedNodeFromView(nodeTag, viewTag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.disconnectAnimatedNodeFromView(nodeTag, viewTag);\n    });\n  },\n  restoreDefaultValues: function restoreDefaultValues(nodeTag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n\n    if (NativeAnimatedModule.restoreDefaultValues != null) {\n      API.queueOperation(function () {\n        return NativeAnimatedModule.restoreDefaultValues(nodeTag);\n      });\n    }\n  },\n  dropAnimatedNode: function dropAnimatedNode(tag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.dropAnimatedNode(tag);\n    });\n  },\n  addAnimatedEventToView: function addAnimatedEventToView(viewTag, eventName, eventMapping) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.addAnimatedEventToView(viewTag, eventName, eventMapping);\n    });\n  },\n  removeAnimatedEventFromView: function removeAnimatedEventFromView(viewTag, eventName, animatedNodeTag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.removeAnimatedEventFromView(viewTag, eventName, animatedNodeTag);\n    });\n  }\n};\nvar SUPPORTED_STYLES = {\n  opacity: true,\n  transform: true,\n  borderRadius: true,\n  borderBottomEndRadius: true,\n  borderBottomLeftRadius: true,\n  borderBottomRightRadius: true,\n  borderBottomStartRadius: true,\n  borderTopEndRadius: true,\n  borderTopLeftRadius: true,\n  borderTopRightRadius: true,\n  borderTopStartRadius: true,\n  elevation: true,\n  zIndex: true,\n  shadowOpacity: true,\n  shadowRadius: true,\n  scaleX: true,\n  scaleY: true,\n  translateX: true,\n  translateY: true\n};\nvar SUPPORTED_TRANSFORMS = {\n  translateX: true,\n  translateY: true,\n  scale: true,\n  scaleX: true,\n  scaleY: true,\n  rotate: true,\n  rotateX: true,\n  rotateY: true,\n  rotateZ: true,\n  perspective: true\n};\nvar SUPPORTED_INTERPOLATION_PARAMS = {\n  inputRange: true,\n  outputRange: true,\n  extrapolate: true,\n  extrapolateRight: true,\n  extrapolateLeft: true\n};\n\nfunction addWhitelistedStyleProp(prop) {\n  SUPPORTED_STYLES[prop] = true;\n}\n\nfunction addWhitelistedTransformProp(prop) {\n  SUPPORTED_TRANSFORMS[prop] = true;\n}\n\nfunction addWhitelistedInterpolationParam(param) {\n  SUPPORTED_INTERPOLATION_PARAMS[param] = true;\n}\n\nfunction validateTransform(configs) {\n  configs.forEach(function (config) {\n    if (!SUPPORTED_TRANSFORMS.hasOwnProperty(config.property)) {\n      throw new Error(\"Property '\" + config.property + \"' is not supported by native animated module\");\n    }\n  });\n}\n\nfunction validateStyles(styles) {\n  for (var _key in styles) {\n    if (!SUPPORTED_STYLES.hasOwnProperty(_key)) {\n      throw new Error(\"Style property '\" + _key + \"' is not supported by native animated module\");\n    }\n  }\n}\n\nfunction validateInterpolation(config) {\n  for (var _key2 in config) {\n    if (!SUPPORTED_INTERPOLATION_PARAMS.hasOwnProperty(_key2)) {\n      throw new Error(\"Interpolation property '\" + _key2 + \"' is not supported by native animated module\");\n    }\n  }\n}\n\nfunction generateNewNodeTag() {\n  return __nativeAnimatedNodeTagCount++;\n}\n\nexport function generateNewAnimationId() {\n  return __nativeAnimationIdCount++;\n}\n\nfunction assertNativeAnimatedModule() {\n  invariant(NativeAnimatedModule, 'Native animated module is not available');\n}\n\nvar _warnedMissingNativeAnimated = false;\nexport function shouldUseNativeDriver(config) {\n  if (config.useNativeDriver == null) {\n    console.warn('Animated: `useNativeDriver` was not specified. This is a required ' + 'option and must be explicitly set to `true` or `false`');\n  }\n\n  if (config.useNativeDriver === true && !NativeAnimatedModule) {\n    if (!_warnedMissingNativeAnimated) {\n      console.warn('Animated: `useNativeDriver` is not supported because the native ' + 'animated module is missing. Falling back to JS-based animation. To ' + 'resolve this, add `RCTAnimation` module to this app, or remove ' + '`useNativeDriver`. ' + 'Make sure to run `pod install` first. Read more about autolinking: https://github.com/react-native-community/cli/blob/master/docs/autolinking.md');\n      _warnedMissingNativeAnimated = true;\n    }\n\n    return false;\n  }\n\n  return config.useNativeDriver || false;\n}\n\nfunction transformDataType(value) {\n  if (typeof value !== 'string') {\n    return value;\n  }\n\n  if (/deg$/.test(value)) {\n    var degrees = parseFloat(value) || 0;\n    var radians = degrees * Math.PI / 180.0;\n    return radians;\n  } else {\n    return value;\n  }\n}\n\nexport default {\n  API: API,\n  addWhitelistedStyleProp: addWhitelistedStyleProp,\n  addWhitelistedTransformProp: addWhitelistedTransformProp,\n  addWhitelistedInterpolationParam: addWhitelistedInterpolationParam,\n  validateStyles: validateStyles,\n  validateTransform: validateTransform,\n  validateInterpolation: validateInterpolation,\n  generateNewNodeTag: generateNewNodeTag,\n  generateNewAnimationId: generateNewAnimationId,\n  assertNativeAnimatedModule: assertNativeAnimatedModule,\n  shouldUseNativeDriver: shouldUseNativeDriver,\n  transformDataType: transformDataType,\n\n  get nativeEventEmitter() {\n    if (!nativeEventEmitter) {\n      nativeEventEmitter = new NativeEventEmitter(NativeAnimatedModule);\n    }\n\n    return nativeEventEmitter;\n  }\n\n};","map":{"version":3,"sources":["/home/ali/Desktop/brightid/BrightID/BrightID/node_modules/react-native-web/dist/vendor/react-native/Animated/NativeAnimatedHelper.js"],"names":["NativeAnimatedModule","Platform","global","__nativeAnimatedNodeTagCount","__nativeAnimationIdCount","waitingForQueuedOperations","queueOperations","queue","API","getValue","invariant","setWaitingForIdentifier","unsetWaitingForIdentifier","disableQueue","q","l","queueOperation","fn","createAnimatedNode","startListeningToAnimatedNodeValue","stopListeningToAnimatedNodeValue","connectAnimatedNodes","disconnectAnimatedNodes","startAnimatingNode","stopAnimation","setAnimatedNodeValue","setAnimatedNodeOffset","flattenAnimatedNodeOffset","extractAnimatedNodeOffset","connectAnimatedNodeToView","disconnectAnimatedNodeFromView","restoreDefaultValues","dropAnimatedNode","addAnimatedEventToView","removeAnimatedEventFromView","SUPPORTED_STYLES","opacity","transform","borderRadius","borderBottomEndRadius","borderBottomLeftRadius","borderBottomRightRadius","borderBottomStartRadius","borderTopEndRadius","borderTopLeftRadius","borderTopRightRadius","borderTopStartRadius","elevation","zIndex","shadowOpacity","shadowRadius","scaleX","scaleY","translateX","translateY","SUPPORTED_TRANSFORMS","scale","rotate","rotateX","rotateY","rotateZ","perspective","SUPPORTED_INTERPOLATION_PARAMS","inputRange","outputRange","extrapolate","extrapolateRight","extrapolateLeft","configs","config","_warnedMissingNativeAnimated","console","degrees","parseFloat","radians","Math","addWhitelistedStyleProp","addWhitelistedTransformProp","addWhitelistedInterpolationParam","validateStyles","validateTransform","validateInterpolation","generateNewNodeTag","generateNewAnimationId","assertNativeAnimatedModule","shouldUseNativeDriver","transformDataType","nativeEventEmitter"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\nimport NativeAnimatedNonTurboModule from './NativeAnimatedModule';\nimport NativeAnimatedTurboModule from './NativeAnimatedTurboModule';\nimport NativeEventEmitter from '../NativeEventEmitter';\nimport Platform from '../../../exports/Platform';\nimport invariant from 'fbjs/lib/invariant'; // TODO T69437152 @petetheheat - Delete this fork when Fabric ships to 100%.\n\nvar NativeAnimatedModule = Platform.OS === 'ios' && global.RN$Bridgeless ? NativeAnimatedTurboModule : NativeAnimatedNonTurboModule;\nvar __nativeAnimatedNodeTagCount = 1;\n/* used for animated nodes */\n\nvar __nativeAnimationIdCount = 1;\n/* used for started animations */\n\nvar nativeEventEmitter;\nvar waitingForQueuedOperations = new Set();\nvar queueOperations = false;\nvar queue = [];\n/**\n * Simple wrappers around NativeAnimatedModule to provide flow and autocomplete support for\n * the native module methods\n */\n\nvar API = {\n  getValue: function getValue(tag, saveValueCallback) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n\n    if (NativeAnimatedModule.getValue) {\n      NativeAnimatedModule.getValue(tag, saveValueCallback);\n    }\n  },\n  setWaitingForIdentifier: function setWaitingForIdentifier(id) {\n    waitingForQueuedOperations.add(id);\n    queueOperations = true;\n  },\n  unsetWaitingForIdentifier: function unsetWaitingForIdentifier(id) {\n    waitingForQueuedOperations.delete(id);\n\n    if (waitingForQueuedOperations.size === 0) {\n      queueOperations = false;\n      API.disableQueue();\n    }\n  },\n  disableQueue: function disableQueue() {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n\n    if (Platform.OS === 'android') {\n      NativeAnimatedModule.startOperationBatch();\n    }\n\n    for (var q = 0, l = queue.length; q < l; q++) {\n      queue[q]();\n    }\n\n    queue.length = 0;\n\n    if (Platform.OS === 'android') {\n      NativeAnimatedModule.finishOperationBatch();\n    }\n  },\n  queueOperation: function queueOperation(fn) {\n    if (queueOperations) {\n      queue.push(fn);\n    } else {\n      fn();\n    }\n  },\n  createAnimatedNode: function createAnimatedNode(tag, config) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.createAnimatedNode(tag, config);\n    });\n  },\n  startListeningToAnimatedNodeValue: function startListeningToAnimatedNodeValue(tag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.startListeningToAnimatedNodeValue(tag);\n    });\n  },\n  stopListeningToAnimatedNodeValue: function stopListeningToAnimatedNodeValue(tag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.stopListeningToAnimatedNodeValue(tag);\n    });\n  },\n  connectAnimatedNodes: function connectAnimatedNodes(parentTag, childTag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.connectAnimatedNodes(parentTag, childTag);\n    });\n  },\n  disconnectAnimatedNodes: function disconnectAnimatedNodes(parentTag, childTag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.disconnectAnimatedNodes(parentTag, childTag);\n    });\n  },\n  startAnimatingNode: function startAnimatingNode(animationId, nodeTag, config, endCallback) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.startAnimatingNode(animationId, nodeTag, config, endCallback);\n    });\n  },\n  stopAnimation: function stopAnimation(animationId) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.stopAnimation(animationId);\n    });\n  },\n  setAnimatedNodeValue: function setAnimatedNodeValue(nodeTag, value) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.setAnimatedNodeValue(nodeTag, value);\n    });\n  },\n  setAnimatedNodeOffset: function setAnimatedNodeOffset(nodeTag, offset) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.setAnimatedNodeOffset(nodeTag, offset);\n    });\n  },\n  flattenAnimatedNodeOffset: function flattenAnimatedNodeOffset(nodeTag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.flattenAnimatedNodeOffset(nodeTag);\n    });\n  },\n  extractAnimatedNodeOffset: function extractAnimatedNodeOffset(nodeTag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.extractAnimatedNodeOffset(nodeTag);\n    });\n  },\n  connectAnimatedNodeToView: function connectAnimatedNodeToView(nodeTag, viewTag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.connectAnimatedNodeToView(nodeTag, viewTag);\n    });\n  },\n  disconnectAnimatedNodeFromView: function disconnectAnimatedNodeFromView(nodeTag, viewTag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.disconnectAnimatedNodeFromView(nodeTag, viewTag);\n    });\n  },\n  restoreDefaultValues: function restoreDefaultValues(nodeTag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available'); // Backwards compat with older native runtimes, can be removed later.\n\n    if (NativeAnimatedModule.restoreDefaultValues != null) {\n      API.queueOperation(function () {\n        return NativeAnimatedModule.restoreDefaultValues(nodeTag);\n      });\n    }\n  },\n  dropAnimatedNode: function dropAnimatedNode(tag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.dropAnimatedNode(tag);\n    });\n  },\n  addAnimatedEventToView: function addAnimatedEventToView(viewTag, eventName, eventMapping) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.addAnimatedEventToView(viewTag, eventName, eventMapping);\n    });\n  },\n  removeAnimatedEventFromView: function removeAnimatedEventFromView(viewTag, eventName, animatedNodeTag) {\n    invariant(NativeAnimatedModule, 'Native animated module is not available');\n    API.queueOperation(function () {\n      return NativeAnimatedModule.removeAnimatedEventFromView(viewTag, eventName, animatedNodeTag);\n    });\n  }\n};\n/**\n * Styles allowed by the native animated implementation.\n *\n * In general native animated implementation should support any numeric property that doesn't need\n * to be updated through the shadow view hierarchy (all non-layout properties).\n */\n\nvar SUPPORTED_STYLES = {\n  opacity: true,\n  transform: true,\n  borderRadius: true,\n  borderBottomEndRadius: true,\n  borderBottomLeftRadius: true,\n  borderBottomRightRadius: true,\n  borderBottomStartRadius: true,\n  borderTopEndRadius: true,\n  borderTopLeftRadius: true,\n  borderTopRightRadius: true,\n  borderTopStartRadius: true,\n  elevation: true,\n  zIndex: true,\n\n  /* ios styles */\n  shadowOpacity: true,\n  shadowRadius: true,\n\n  /* legacy android transform properties */\n  scaleX: true,\n  scaleY: true,\n  translateX: true,\n  translateY: true\n};\nvar SUPPORTED_TRANSFORMS = {\n  translateX: true,\n  translateY: true,\n  scale: true,\n  scaleX: true,\n  scaleY: true,\n  rotate: true,\n  rotateX: true,\n  rotateY: true,\n  rotateZ: true,\n  perspective: true\n};\nvar SUPPORTED_INTERPOLATION_PARAMS = {\n  inputRange: true,\n  outputRange: true,\n  extrapolate: true,\n  extrapolateRight: true,\n  extrapolateLeft: true\n};\n\nfunction addWhitelistedStyleProp(prop) {\n  SUPPORTED_STYLES[prop] = true;\n}\n\nfunction addWhitelistedTransformProp(prop) {\n  SUPPORTED_TRANSFORMS[prop] = true;\n}\n\nfunction addWhitelistedInterpolationParam(param) {\n  SUPPORTED_INTERPOLATION_PARAMS[param] = true;\n}\n\nfunction validateTransform(configs) {\n  configs.forEach(function (config) {\n    if (!SUPPORTED_TRANSFORMS.hasOwnProperty(config.property)) {\n      throw new Error(\"Property '\" + config.property + \"' is not supported by native animated module\");\n    }\n  });\n}\n\nfunction validateStyles(styles) {\n  for (var _key in styles) {\n    if (!SUPPORTED_STYLES.hasOwnProperty(_key)) {\n      throw new Error(\"Style property '\" + _key + \"' is not supported by native animated module\");\n    }\n  }\n}\n\nfunction validateInterpolation(config) {\n  for (var _key2 in config) {\n    if (!SUPPORTED_INTERPOLATION_PARAMS.hasOwnProperty(_key2)) {\n      throw new Error(\"Interpolation property '\" + _key2 + \"' is not supported by native animated module\");\n    }\n  }\n}\n\nfunction generateNewNodeTag() {\n  return __nativeAnimatedNodeTagCount++;\n}\n\nexport function generateNewAnimationId() {\n  return __nativeAnimationIdCount++;\n}\n\nfunction assertNativeAnimatedModule() {\n  invariant(NativeAnimatedModule, 'Native animated module is not available');\n}\n\nvar _warnedMissingNativeAnimated = false;\nexport function shouldUseNativeDriver(config) {\n  if (config.useNativeDriver == null) {\n    console.warn('Animated: `useNativeDriver` was not specified. This is a required ' + 'option and must be explicitly set to `true` or `false`');\n  }\n\n  if (config.useNativeDriver === true && !NativeAnimatedModule) {\n    if (!_warnedMissingNativeAnimated) {\n      console.warn('Animated: `useNativeDriver` is not supported because the native ' + 'animated module is missing. Falling back to JS-based animation. To ' + 'resolve this, add `RCTAnimation` module to this app, or remove ' + '`useNativeDriver`. ' + 'Make sure to run `pod install` first. Read more about autolinking: https://github.com/react-native-community/cli/blob/master/docs/autolinking.md');\n      _warnedMissingNativeAnimated = true;\n    }\n\n    return false;\n  }\n\n  return config.useNativeDriver || false;\n}\n\nfunction transformDataType(value) {\n  // Change the string type to number type so we can reuse the same logic in\n  // iOS and Android platform\n  if (typeof value !== 'string') {\n    return value;\n  }\n\n  if (/deg$/.test(value)) {\n    var degrees = parseFloat(value) || 0;\n    var radians = degrees * Math.PI / 180.0;\n    return radians;\n  } else {\n    return value;\n  }\n}\n\nexport default {\n  API: API,\n  addWhitelistedStyleProp: addWhitelistedStyleProp,\n  addWhitelistedTransformProp: addWhitelistedTransformProp,\n  addWhitelistedInterpolationParam: addWhitelistedInterpolationParam,\n  validateStyles: validateStyles,\n  validateTransform: validateTransform,\n  validateInterpolation: validateInterpolation,\n  generateNewNodeTag: generateNewNodeTag,\n  generateNewAnimationId: generateNewAnimationId,\n  assertNativeAnimatedModule: assertNativeAnimatedModule,\n  shouldUseNativeDriver: shouldUseNativeDriver,\n  transformDataType: transformDataType,\n\n  // $FlowExpectedError - unsafe getter lint suppresion\n  get nativeEventEmitter() {\n    if (!nativeEventEmitter) {\n      nativeEventEmitter = new NativeEventEmitter(NativeAnimatedModule);\n    }\n\n    return nativeEventEmitter;\n  }\n\n};"]},"metadata":{},"sourceType":"module"}