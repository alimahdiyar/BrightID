{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.delStorage = exports.dangerouslyDeleteStorage = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _asyncStorage = _interopRequireDefault(require(\"@react-native-async-storage/async-storage\"));\n\nvar _rnFetchBlob = _interopRequireDefault(require(\"rn-fetch-blob\"));\n\nvar _actions = require(\"../actions\");\n\nvar _store = require(\"../store\");\n\nvar defaultStoragePath = _rnFetchBlob.default.fs.dirs.DocumentDir + \"/persistStore\";\n\nvar dangerouslyDeleteStorage = function _callee() {\n  return _regenerator.default.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _store.store.dispatch((0, _actions.resetStore)());\n\n          _context.next = 3;\n          return _regenerator.default.awrap(_asyncStorage.default.clear());\n\n        case 3:\n          _context.next = 5;\n          return _regenerator.default.awrap(_rnFetchBlob.default.fs.unlink(defaultStoragePath));\n\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nexports.dangerouslyDeleteStorage = dangerouslyDeleteStorage;\n\nvar delStorage = function delStorage() {\n  if (__DEV__) {\n    _reactNative.Alert.alert('WARNING', 'Would you like to delete user data and return to the onboarding screen?', [{\n      text: 'Cancel',\n      onPress: function onPress() {\n        return console.log('Cancel Pressed');\n      },\n      style: 'cancel'\n    }, {\n      text: 'Sure',\n      onPress: function onPress() {\n        return _regenerator.default.async(function onPress$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return _regenerator.default.awrap(dangerouslyDeleteStorage());\n\n              case 3:\n                _context2.next = 8;\n                break;\n\n              case 5:\n                _context2.prev = 5;\n                _context2.t0 = _context2[\"catch\"](0);\n                _context2.t0 instanceof Error ? console.warn('delete storage', _context2.t0.message) : console.log('delete storage', _context2.t0);\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, null, null, [[0, 5]], Promise);\n      }\n    }], {\n      cancelable: true\n    });\n  }\n};\n\nexports.delStorage = delStorage;","map":{"version":3,"names":["defaultStoragePath","RNFetchBlob","fs","dirs","DocumentDir","dangerouslyDeleteStorage","store","dispatch","resetStore","AsyncStorage","clear","unlink","delStorage","__DEV__","Alert","alert","text","onPress","console","log","style","Error","warn","message","cancelable"],"sources":["/home/ali/Desktop/brightid/BrightID/BrightID/src/utils/dev.ts"],"sourcesContent":["import { Alert } from 'react-native';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport RNFetchBlob from 'rn-fetch-blob';\nimport { resetStore } from '@/actions';\nimport { store } from '@/store';\n\nconst defaultStoragePath = `${RNFetchBlob.fs.dirs.DocumentDir}/persistStore`;\n\nexport const dangerouslyDeleteStorage = async () => {\n  store.dispatch(resetStore());\n  await AsyncStorage.clear();\n  await RNFetchBlob.fs.unlink(defaultStoragePath);\n};\n\nexport const delStorage = () => {\n  if (__DEV__) {\n    Alert.alert(\n      'WARNING',\n      'Would you like to delete user data and return to the onboarding screen?',\n      [\n        {\n          text: 'Cancel',\n          onPress: () => console.log('Cancel Pressed'),\n          style: 'cancel',\n        },\n        {\n          text: 'Sure',\n          onPress: async () => {\n            try {\n              await dangerouslyDeleteStorage();\n            } catch (err) {\n              err instanceof Error\n                ? console.warn('delete storage', err.message)\n                : console.log('delete storage', err);\n            }\n          },\n        },\n      ],\n      { cancelable: true },\n    );\n  }\n};\n"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEA,IAAMA,kBAAkB,GAAMC,oBAAA,CAAYC,EAAZ,CAAeC,IAAf,CAAoBC,WAA1B,kBAAxB;;AAEO,IAAMC,wBAAwB,GAAG;EAAA;IAAA;MAAA;QAAA;UACtCC,YAAA,CAAMC,QAAN,CAAe,IAAAC,mBAAA,GAAf;;UADsC;UAAA,kCAEhCC,qBAAA,CAAaC,KAAb,EAFgC;;QAAA;UAAA;UAAA,kCAGhCT,oBAAA,CAAYC,EAAZ,CAAeS,MAAf,CAAsBX,kBAAtB,CAHgC;;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA;AAAA,CAAjC;;;;AAMA,IAAMY,UAAU,GAAG,SAAbA,UAAa,GAAM;EAC9B,IAAIC,OAAJ,EAAa;IACXC,kBAAA,CAAMC,KAAN,CACE,SADF,EAEE,yEAFF,EAGE,CACE;MACEC,IAAI,EAAE,QADR;MAEEC,OAAO,EAAE;QAAA,OAAMC,OAAO,CAACC,GAAR,CAAY,gBAAZ,CAAN;MAAA,CAFX;MAGEC,KAAK,EAAE;IAHT,CADF,EAME;MACEJ,IAAI,EAAE,MADR;MAEEC,OAAO,EAAE;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,kCAECZ,wBAAwB,EAFzB;;cAAA;gBAAA;gBAAA;;cAAA;gBAAA;gBAAA;gBAIL,wBAAegB,KAAf,GACIH,OAAO,CAACI,IAAR,CAAa,gBAAb,EAA+B,aAAIC,OAAnC,CADJ,GAEIL,OAAO,CAACC,GAAR,CAAY,gBAAZ,eAFJ;;cAJK;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAFX,CANF,CAHF,EAsBE;MAAEK,UAAU,EAAE;IAAd,CAtBF;EAwBD;AACF,CA3BM"},"metadata":{},"sourceType":"script"}