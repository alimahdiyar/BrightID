{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.userSelector = exports.setVerifications = exports.setUserId = exports.setUserData = exports.setSearchParam = exports.setPhoto = exports.setPassword = exports.setName = exports.setIsSponsoredv6 = exports.setIsSponsored = exports.setEula = exports.setBackupCompleted = exports.hydrateUser = exports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _toolkit = require(\"@reduxjs/toolkit\");\n\nvar _resetStore = require(\"../actions/resetStore\");\n\nvar initialState = {\n  isSponsored: false,\n  isSponsoredv6: false,\n  name: '',\n  photo: {\n    filename: ''\n  },\n  searchParam: '',\n  backupCompleted: false,\n  id: '',\n  password: '',\n  verifications: [],\n  secretKey: '',\n  eula: false,\n  updateTimestamps: {\n    backupCompleted: 0,\n    isSponsored: 0,\n    isSponsoredv6: 0,\n    photo: 0,\n    name: 0,\n    password: 0\n  }\n};\nvar userSlice = (0, _toolkit.createSlice)({\n  name: 'user',\n  initialState: initialState,\n  reducers: {\n    setIsSponsored: function setIsSponsored(state, action) {\n      state.isSponsored = action.payload;\n      state.updateTimestamps.isSponsored = Date.now();\n    },\n    setIsSponsoredv6: function setIsSponsoredv6(state, action) {\n      state.isSponsoredv6 = action.payload;\n      state.updateTimestamps.isSponsoredv6 = Date.now();\n    },\n    setPhoto: function setPhoto(state, action) {\n      state.photo = action.payload;\n      state.updateTimestamps.photo = Date.now();\n    },\n    setSearchParam: function setSearchParam(state, action) {\n      state.searchParam = action.payload;\n    },\n    setEula: function setEula(state, action) {\n      state.eula = action.payload;\n    },\n    setUserData: function setUserData(state, action) {\n      var _action$payload = action.payload,\n          id = _action$payload.id,\n          name = _action$payload.name,\n          photo = _action$payload.photo,\n          secretKey = _action$payload.secretKey;\n      state.photo = photo;\n      state.name = name;\n      state.id = id;\n      state.secretKey = secretKey;\n      var t = Date.now();\n      state.updateTimestamps.name = t;\n      state.updateTimestamps.photo = t;\n    },\n    setName: function setName(state, action) {\n      state.name = action.payload;\n      state.updateTimestamps.name = Date.now();\n    },\n    setBackupCompleted: function setBackupCompleted(state, action) {\n      state.backupCompleted = action.payload;\n      state.updateTimestamps.backupCompleted = Date.now();\n    },\n    setPassword: function setPassword(state, action) {\n      state.password = action.payload;\n      state.updateTimestamps.password = Date.now();\n    },\n    setUserId: function setUserId(state, action) {\n      state.id = action.payload;\n    },\n    setVerifications: function setVerifications(state, action) {\n      state.verifications = action.payload;\n    },\n    hydrateUser: function hydrateUser(state, action) {\n      var _action$payload2 = action.payload,\n          name = _action$payload2.name,\n          photo = _action$payload2.photo,\n          backupCompleted = _action$payload2.backupCompleted,\n          id = _action$payload2.id,\n          password = _action$payload2.password;\n      state.backupCompleted = backupCompleted;\n      state.name = name;\n      state.photo = photo;\n      state.id = id;\n      state.password = password;\n    }\n  },\n  extraReducers: (0, _defineProperty2.default)({}, _resetStore.RESET_STORE, function () {\n    return initialState;\n  })\n});\nvar _userSlice$actions = userSlice.actions,\n    setIsSponsored = _userSlice$actions.setIsSponsored,\n    setIsSponsoredv6 = _userSlice$actions.setIsSponsoredv6,\n    setPhoto = _userSlice$actions.setPhoto,\n    setSearchParam = _userSlice$actions.setSearchParam,\n    setUserData = _userSlice$actions.setUserData,\n    setName = _userSlice$actions.setName,\n    setBackupCompleted = _userSlice$actions.setBackupCompleted,\n    setPassword = _userSlice$actions.setPassword,\n    setUserId = _userSlice$actions.setUserId,\n    setVerifications = _userSlice$actions.setVerifications,\n    setEula = _userSlice$actions.setEula,\n    hydrateUser = _userSlice$actions.hydrateUser;\nexports.hydrateUser = hydrateUser;\nexports.setEula = setEula;\nexports.setVerifications = setVerifications;\nexports.setUserId = setUserId;\nexports.setPassword = setPassword;\nexports.setBackupCompleted = setBackupCompleted;\nexports.setName = setName;\nexports.setUserData = setUserData;\nexports.setSearchParam = setSearchParam;\nexports.setPhoto = setPhoto;\nexports.setIsSponsoredv6 = setIsSponsoredv6;\nexports.setIsSponsored = setIsSponsored;\n\nvar userSelector = function userSelector(state) {\n  return {\n    id: state.user.id,\n    name: state.user.name,\n    photo: state.user.photo,\n    password: state.user.password,\n    secretKey: state.user.secretKey\n  };\n};\n\nexports.userSelector = userSelector;\nvar _default = userSlice.reducer;\nexports.default = _default;","map":{"version":3,"names":["initialState","isSponsored","isSponsoredv6","name","photo","filename","searchParam","backupCompleted","id","password","verifications","secretKey","eula","updateTimestamps","userSlice","createSlice","reducers","setIsSponsored","state","action","payload","Date","now","setIsSponsoredv6","setPhoto","setSearchParam","setEula","setUserData","t","setName","setBackupCompleted","setPassword","setUserId","setVerifications","hydrateUser","extraReducers","RESET_STORE","actions","userSelector","user","reducer"],"sources":["/home/ali/Desktop/brightid/BrightID/BrightID/src/reducer/userSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { RESET_STORE } from '@/actions/resetStore';\n\nconst initialState: UserState = {\n  isSponsored: false, // server-side sponsored flag, used by v5 apps\n  isSponsoredv6: false, // client-side sponsored flag, used by v6 apps\n  name: '',\n  photo: { filename: '' },\n  searchParam: '',\n  backupCompleted: false,\n  id: '',\n  password: '',\n  verifications: [],\n  secretKey: '',\n  eula: false,\n  updateTimestamps: {\n    backupCompleted: 0,\n    isSponsored: 0,\n    isSponsoredv6: 0,\n    photo: 0,\n    name: 0,\n    password: 0,\n  },\n};\n\nconst userSlice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {\n    // v5 sponsored is not used anymore and should be merged by v6 into a single sponsored status\n    // after most users loaded their v5 sponsored status from nodes by opening their apps\n    setIsSponsored(state, action) {\n      state.isSponsored = action.payload;\n      state.updateTimestamps.isSponsored = Date.now();\n    },\n    setIsSponsoredv6(state, action) {\n      state.isSponsoredv6 = action.payload;\n      state.updateTimestamps.isSponsoredv6 = Date.now();\n    },\n    setPhoto(state, action) {\n      state.photo = action.payload;\n      state.updateTimestamps.photo = Date.now();\n    },\n    setSearchParam(state, action: PayloadAction<string>) {\n      state.searchParam = action.payload;\n    },\n    setEula(state, action) {\n      state.eula = action.payload;\n    },\n    setUserData(state, action) {\n      const { id, name, photo, secretKey } = action.payload;\n      state.photo = photo;\n      state.name = name;\n      state.id = id;\n      state.secretKey = secretKey;\n      const t = Date.now();\n      state.updateTimestamps.name = t;\n      state.updateTimestamps.photo = t;\n    },\n    setName(state, action) {\n      state.name = action.payload;\n      state.updateTimestamps.name = Date.now();\n    },\n    setBackupCompleted(state, action) {\n      state.backupCompleted = action.payload;\n      state.updateTimestamps.backupCompleted = Date.now();\n    },\n    setPassword(state, action) {\n      state.password = action.payload;\n      state.updateTimestamps.password = Date.now();\n    },\n    setUserId(state, action) {\n      state.id = action.payload;\n    },\n    setVerifications(state, action: PayloadAction<Array<Verification>>) {\n      state.verifications = action.payload;\n    },\n    hydrateUser(state, action) {\n      const { name, photo, backupCompleted, id, password } = action.payload;\n\n      state.backupCompleted = backupCompleted;\n      state.name = name;\n      state.photo = photo;\n      state.id = id;\n      state.password = password;\n    },\n  },\n  extraReducers: {\n    [RESET_STORE]: () => {\n      return initialState;\n    },\n  },\n});\n\nexport const {\n  setIsSponsored,\n  setIsSponsoredv6,\n  setPhoto,\n  setSearchParam,\n  setUserData,\n  setName,\n  setBackupCompleted,\n  setPassword,\n  setUserId,\n  setVerifications,\n  setEula,\n  hydrateUser,\n} = userSlice.actions;\n\nexport const userSelector = (state: State): User => ({\n  id: state.user.id,\n  name: state.user.name,\n  photo: state.user.photo,\n  password: state.user.password,\n  secretKey: state.user.secretKey,\n});\n\n// Export reducer\nexport default userSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}