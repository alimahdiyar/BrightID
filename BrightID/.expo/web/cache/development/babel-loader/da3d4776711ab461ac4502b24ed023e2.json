{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport { createSlice } from '@reduxjs/toolkit';\nimport { RESET_STORE } from \"../actions/resetStore\";\nvar initialState = {\n  isSponsored: false,\n  isSponsoredv6: false,\n  name: '',\n  photo: {\n    filename: ''\n  },\n  searchParam: '',\n  backupCompleted: false,\n  id: '',\n  password: '',\n  verifications: [],\n  secretKey: '',\n  eula: false,\n  updateTimestamps: {\n    backupCompleted: 0,\n    isSponsored: 0,\n    isSponsoredv6: 0,\n    photo: 0,\n    name: 0,\n    password: 0\n  }\n};\nvar userSlice = createSlice({\n  name: 'user',\n  initialState: initialState,\n  reducers: {\n    setIsSponsored: function setIsSponsored(state, action) {\n      state.isSponsored = action.payload;\n      state.updateTimestamps.isSponsored = Date.now();\n    },\n    setIsSponsoredv6: function setIsSponsoredv6(state, action) {\n      state.isSponsoredv6 = action.payload;\n      state.updateTimestamps.isSponsoredv6 = Date.now();\n    },\n    setPhoto: function setPhoto(state, action) {\n      state.photo = action.payload;\n      state.updateTimestamps.photo = Date.now();\n    },\n    setSearchParam: function setSearchParam(state, action) {\n      state.searchParam = action.payload;\n    },\n    setEula: function setEula(state, action) {\n      state.eula = action.payload;\n    },\n    setUserData: function setUserData(state, action) {\n      var _action$payload = action.payload,\n          id = _action$payload.id,\n          name = _action$payload.name,\n          photo = _action$payload.photo,\n          secretKey = _action$payload.secretKey;\n      state.photo = photo;\n      state.name = name;\n      state.id = id;\n      state.secretKey = secretKey;\n      var t = Date.now();\n      state.updateTimestamps.name = t;\n      state.updateTimestamps.photo = t;\n    },\n    setName: function setName(state, action) {\n      state.name = action.payload;\n      state.updateTimestamps.name = Date.now();\n    },\n    setBackupCompleted: function setBackupCompleted(state, action) {\n      state.backupCompleted = action.payload;\n      state.updateTimestamps.backupCompleted = Date.now();\n    },\n    setPassword: function setPassword(state, action) {\n      state.password = action.payload;\n      state.updateTimestamps.password = Date.now();\n    },\n    setUserId: function setUserId(state, action) {\n      state.id = action.payload;\n    },\n    setVerifications: function setVerifications(state, action) {\n      state.verifications = action.payload;\n    },\n    hydrateUser: function hydrateUser(state, action) {\n      var _action$payload2 = action.payload,\n          name = _action$payload2.name,\n          photo = _action$payload2.photo,\n          backupCompleted = _action$payload2.backupCompleted,\n          id = _action$payload2.id,\n          password = _action$payload2.password;\n      state.backupCompleted = backupCompleted;\n      state.name = name;\n      state.photo = photo;\n      state.id = id;\n      state.password = password;\n    }\n  },\n  extraReducers: _defineProperty({}, RESET_STORE, function () {\n    return initialState;\n  })\n});\nvar _userSlice$actions = userSlice.actions,\n    setIsSponsored = _userSlice$actions.setIsSponsored,\n    setIsSponsoredv6 = _userSlice$actions.setIsSponsoredv6,\n    setPhoto = _userSlice$actions.setPhoto,\n    setSearchParam = _userSlice$actions.setSearchParam,\n    setUserData = _userSlice$actions.setUserData,\n    setName = _userSlice$actions.setName,\n    setBackupCompleted = _userSlice$actions.setBackupCompleted,\n    setPassword = _userSlice$actions.setPassword,\n    setUserId = _userSlice$actions.setUserId,\n    setVerifications = _userSlice$actions.setVerifications,\n    setEula = _userSlice$actions.setEula,\n    hydrateUser = _userSlice$actions.hydrateUser;\nexport { setIsSponsored, setIsSponsoredv6, setPhoto, setSearchParam, setUserData, setName, setBackupCompleted, setPassword, setUserId, setVerifications, setEula, hydrateUser };\nexport var userSelector = function userSelector(state) {\n  return {\n    id: state.user.id,\n    name: state.user.name,\n    photo: state.user.photo,\n    password: state.user.password,\n    secretKey: state.user.secretKey\n  };\n};\nexport default userSlice.reducer;","map":{"version":3,"names":["createSlice","RESET_STORE","initialState","isSponsored","isSponsoredv6","name","photo","filename","searchParam","backupCompleted","id","password","verifications","secretKey","eula","updateTimestamps","userSlice","reducers","setIsSponsored","state","action","payload","Date","now","setIsSponsoredv6","setPhoto","setSearchParam","setEula","setUserData","t","setName","setBackupCompleted","setPassword","setUserId","setVerifications","hydrateUser","extraReducers","actions","userSelector","user","reducer"],"sources":["/home/ali/Desktop/brightid/BrightID/BrightID/src/reducer/userSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { RESET_STORE } from '@/actions/resetStore';\n\nconst initialState: UserState = {\n  isSponsored: false, // server-side sponsored flag, used by v5 apps\n  isSponsoredv6: false, // client-side sponsored flag, used by v6 apps\n  name: '',\n  photo: { filename: '' },\n  searchParam: '',\n  backupCompleted: false,\n  id: '',\n  password: '',\n  verifications: [],\n  secretKey: '',\n  eula: false,\n  updateTimestamps: {\n    backupCompleted: 0,\n    isSponsored: 0,\n    isSponsoredv6: 0,\n    photo: 0,\n    name: 0,\n    password: 0,\n  },\n};\n\nconst userSlice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {\n    // v5 sponsored is not used anymore and should be merged by v6 into a single sponsored status\n    // after most users loaded their v5 sponsored status from nodes by opening their apps\n    setIsSponsored(state, action) {\n      state.isSponsored = action.payload;\n      state.updateTimestamps.isSponsored = Date.now();\n    },\n    setIsSponsoredv6(state, action) {\n      state.isSponsoredv6 = action.payload;\n      state.updateTimestamps.isSponsoredv6 = Date.now();\n    },\n    setPhoto(state, action) {\n      state.photo = action.payload;\n      state.updateTimestamps.photo = Date.now();\n    },\n    setSearchParam(state, action: PayloadAction<string>) {\n      state.searchParam = action.payload;\n    },\n    setEula(state, action) {\n      state.eula = action.payload;\n    },\n    setUserData(state, action) {\n      const { id, name, photo, secretKey } = action.payload;\n      state.photo = photo;\n      state.name = name;\n      state.id = id;\n      state.secretKey = secretKey;\n      const t = Date.now();\n      state.updateTimestamps.name = t;\n      state.updateTimestamps.photo = t;\n    },\n    setName(state, action) {\n      state.name = action.payload;\n      state.updateTimestamps.name = Date.now();\n    },\n    setBackupCompleted(state, action) {\n      state.backupCompleted = action.payload;\n      state.updateTimestamps.backupCompleted = Date.now();\n    },\n    setPassword(state, action) {\n      state.password = action.payload;\n      state.updateTimestamps.password = Date.now();\n    },\n    setUserId(state, action) {\n      state.id = action.payload;\n    },\n    setVerifications(state, action: PayloadAction<Array<Verification>>) {\n      state.verifications = action.payload;\n    },\n    hydrateUser(state, action) {\n      const { name, photo, backupCompleted, id, password } = action.payload;\n\n      state.backupCompleted = backupCompleted;\n      state.name = name;\n      state.photo = photo;\n      state.id = id;\n      state.password = password;\n    },\n  },\n  extraReducers: {\n    [RESET_STORE]: () => {\n      return initialState;\n    },\n  },\n});\n\nexport const {\n  setIsSponsored,\n  setIsSponsoredv6,\n  setPhoto,\n  setSearchParam,\n  setUserData,\n  setName,\n  setBackupCompleted,\n  setPassword,\n  setUserId,\n  setVerifications,\n  setEula,\n  hydrateUser,\n} = userSlice.actions;\n\nexport const userSelector = (state: State): User => ({\n  id: state.user.id,\n  name: state.user.name,\n  photo: state.user.photo,\n  password: state.user.password,\n  secretKey: state.user.secretKey,\n});\n\n// Export reducer\nexport default userSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}