{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport { createSlice } from '@reduxjs/toolkit';\nimport { RESET_STORE } from \"../actions/resetStore\";\nvar initialState = {\n  isSponsored: false,\n  isSponsoredv6: false,\n  name: '',\n  photo: {\n    filename: ''\n  },\n  searchParam: '',\n  backupCompleted: false,\n  id: '',\n  password: '',\n  verifications: [],\n  secretKey: '',\n  eula: false,\n  updateTimestamps: {\n    backupCompleted: 0,\n    isSponsored: 0,\n    isSponsoredv6: 0,\n    photo: 0,\n    name: 0,\n    password: 0\n  }\n};\nvar userSlice = createSlice({\n  name: 'user',\n  initialState: initialState,\n  reducers: {\n    setIsSponsored: function setIsSponsored(state, action) {\n      state.isSponsored = action.payload;\n      state.updateTimestamps.isSponsored = Date.now();\n    },\n    setIsSponsoredv6: function setIsSponsoredv6(state, action) {\n      state.isSponsoredv6 = action.payload;\n      state.updateTimestamps.isSponsoredv6 = Date.now();\n    },\n    setPhoto: function setPhoto(state, action) {\n      state.photo = action.payload;\n      state.updateTimestamps.photo = Date.now();\n    },\n    setSearchParam: function setSearchParam(state, action) {\n      state.searchParam = action.payload;\n    },\n    setEula: function setEula(state, action) {\n      state.eula = action.payload;\n    },\n    setUserData: function setUserData(state, action) {\n      var _action$payload = action.payload,\n          id = _action$payload.id,\n          name = _action$payload.name,\n          photo = _action$payload.photo,\n          secretKey = _action$payload.secretKey;\n      state.photo = photo;\n      state.name = name;\n      state.id = id;\n      state.secretKey = secretKey;\n      var t = Date.now();\n      state.updateTimestamps.name = t;\n      state.updateTimestamps.photo = t;\n    },\n    setName: function setName(state, action) {\n      state.name = action.payload;\n      state.updateTimestamps.name = Date.now();\n    },\n    setBackupCompleted: function setBackupCompleted(state, action) {\n      state.backupCompleted = action.payload;\n      state.updateTimestamps.backupCompleted = Date.now();\n    },\n    setPassword: function setPassword(state, action) {\n      state.password = action.payload;\n      state.updateTimestamps.password = Date.now();\n    },\n    setUserId: function setUserId(state, action) {\n      state.id = action.payload;\n    },\n    setVerifications: function setVerifications(state, action) {\n      state.verifications = action.payload;\n    },\n    hydrateUser: function hydrateUser(state, action) {\n      var _action$payload2 = action.payload,\n          name = _action$payload2.name,\n          photo = _action$payload2.photo,\n          backupCompleted = _action$payload2.backupCompleted,\n          id = _action$payload2.id,\n          password = _action$payload2.password;\n      state.backupCompleted = backupCompleted;\n      state.name = name;\n      state.photo = photo;\n      state.id = id;\n      state.password = password;\n    }\n  },\n  extraReducers: _defineProperty({}, RESET_STORE, function () {\n    return initialState;\n  })\n});\nvar _userSlice$actions = userSlice.actions,\n    setIsSponsored = _userSlice$actions.setIsSponsored,\n    setIsSponsoredv6 = _userSlice$actions.setIsSponsoredv6,\n    setPhoto = _userSlice$actions.setPhoto,\n    setSearchParam = _userSlice$actions.setSearchParam,\n    setUserData = _userSlice$actions.setUserData,\n    setName = _userSlice$actions.setName,\n    setBackupCompleted = _userSlice$actions.setBackupCompleted,\n    setPassword = _userSlice$actions.setPassword,\n    setUserId = _userSlice$actions.setUserId,\n    setVerifications = _userSlice$actions.setVerifications,\n    setEula = _userSlice$actions.setEula,\n    hydrateUser = _userSlice$actions.hydrateUser;\nexport { setIsSponsored, setIsSponsoredv6, setPhoto, setSearchParam, setUserData, setName, setBackupCompleted, setPassword, setUserId, setVerifications, setEula, hydrateUser };\nexport var userSelector = function userSelector(state) {\n  return {\n    id: state.user.id,\n    name: state.user.name,\n    photo: state.user.photo,\n    password: state.user.password,\n    secretKey: state.user.secretKey\n  };\n};\nexport default userSlice.reducer;","map":{"version":3,"sources":["/home/ali/Desktop/brightid/BrightID/BrightID/src/reducer/userSlice.ts"],"names":["initialState","isSponsored","isSponsoredv6","name","photo","filename","searchParam","backupCompleted","id","password","verifications","secretKey","eula","updateTimestamps","userSlice","createSlice","reducers","setIsSponsored","state","action","Date","setIsSponsoredv6","setPhoto","setSearchParam","setEula","setUserData","t","setName","setBackupCompleted","setPassword","setUserId","setVerifications","hydrateUser","extraReducers","userSelector"],"mappings":"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","sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { RESET_STORE } from '@/actions/resetStore';\n\nconst initialState: UserState = {\n  isSponsored: false, // server-side sponsored flag, used by v5 apps\n  isSponsoredv6: false, // client-side sponsored flag, used by v6 apps\n  name: '',\n  photo: { filename: '' },\n  searchParam: '',\n  backupCompleted: false,\n  id: '',\n  password: '',\n  verifications: [],\n  secretKey: '',\n  eula: false,\n  updateTimestamps: {\n    backupCompleted: 0,\n    isSponsored: 0,\n    isSponsoredv6: 0,\n    photo: 0,\n    name: 0,\n    password: 0,\n  },\n};\n\nconst userSlice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {\n    // v5 sponsored is not used anymore and should be merged by v6 into a single sponsored status\n    // after most users loaded their v5 sponsored status from nodes by opening their apps\n    setIsSponsored(state, action) {\n      state.isSponsored = action.payload;\n      state.updateTimestamps.isSponsored = Date.now();\n    },\n    setIsSponsoredv6(state, action) {\n      state.isSponsoredv6 = action.payload;\n      state.updateTimestamps.isSponsoredv6 = Date.now();\n    },\n    setPhoto(state, action) {\n      state.photo = action.payload;\n      state.updateTimestamps.photo = Date.now();\n    },\n    setSearchParam(state, action: PayloadAction<string>) {\n      state.searchParam = action.payload;\n    },\n    setEula(state, action) {\n      state.eula = action.payload;\n    },\n    setUserData(state, action) {\n      const { id, name, photo, secretKey } = action.payload;\n      state.photo = photo;\n      state.name = name;\n      state.id = id;\n      state.secretKey = secretKey;\n      const t = Date.now();\n      state.updateTimestamps.name = t;\n      state.updateTimestamps.photo = t;\n    },\n    setName(state, action) {\n      state.name = action.payload;\n      state.updateTimestamps.name = Date.now();\n    },\n    setBackupCompleted(state, action) {\n      state.backupCompleted = action.payload;\n      state.updateTimestamps.backupCompleted = Date.now();\n    },\n    setPassword(state, action) {\n      state.password = action.payload;\n      state.updateTimestamps.password = Date.now();\n    },\n    setUserId(state, action) {\n      state.id = action.payload;\n    },\n    setVerifications(state, action: PayloadAction<Array<Verification>>) {\n      state.verifications = action.payload;\n    },\n    hydrateUser(state, action) {\n      const { name, photo, backupCompleted, id, password } = action.payload;\n\n      state.backupCompleted = backupCompleted;\n      state.name = name;\n      state.photo = photo;\n      state.id = id;\n      state.password = password;\n    },\n  },\n  extraReducers: {\n    [RESET_STORE]: () => {\n      return initialState;\n    },\n  },\n});\n\nexport const {\n  setIsSponsored,\n  setIsSponsoredv6,\n  setPhoto,\n  setSearchParam,\n  setUserData,\n  setName,\n  setBackupCompleted,\n  setPassword,\n  setUserId,\n  setVerifications,\n  setEula,\n  hydrateUser,\n} = userSlice.actions;\n\nexport const userSelector = (state: State): User => ({\n  id: state.user.id,\n  name: state.user.name,\n  photo: state.user.photo,\n  password: state.user.password,\n  secretKey: state.user.secretKey,\n});\n\n// Export reducer\nexport default userSlice.reducer;\n"]},"metadata":{},"sourceType":"module"}