{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useTranslation } from 'react-i18next';\nimport i18next from 'i18next';\nimport { useState, useEffect } from 'react';\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport moment from 'moment';\nimport { useActionSheet } from '@expo/react-native-action-sheet';\nimport { useNavigation } from '@react-navigation/native';\nimport Material from \"@expo/vector-icons/MaterialCommunityIcons\";\nimport { photoDirectory } from \"../../../utils/filesystem\";\nimport { DEVICE_LARGE } from \"../../../utils/deviceConstants\";\nimport { WHITE, BLUE, GREY, RED, LIGHT_GREY } from \"../../../theme/colors\";\nimport { fontSize } from \"../../../theme/fonts\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar ICON_SIZE = DEVICE_LARGE ? 36 : 32;\nvar ACTION_ADD_ADMIN = i18next.t('groups.memberActionSheet.addAdmin');\nvar ACTION_DISMISS = i18next.t('groups.memberActionSheet.dismissMember');\nvar ACTION_CANCEL = i18next.t('groups.memberActionSheet.cancel');\nexport var MemberCard = function MemberCard(_ref) {\n  var memberId = _ref.memberId,\n      userId = _ref.userId,\n      photo = _ref.photo,\n      name = _ref.name,\n      connectionDate = _ref.connectionDate,\n      handleDismiss = _ref.handleDismiss,\n      handleAddAdmin = _ref.handleAddAdmin,\n      userIsAdmin = _ref.userIsAdmin,\n      memberIsAdmin = _ref.memberIsAdmin,\n      testID = _ref.testID;\n  var navigation = useNavigation();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      contextActions = _useState2[0],\n      setContextActions = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      flagged = _useState4[0],\n      setFlagged = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      imgErr = _useState6[0],\n      setImgErr = _useState6[1];\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var _useActionSheet = useActionSheet(),\n      showActionSheetWithOptions = _useActionSheet.showActionSheetWithOptions;\n\n  useEffect(function () {\n    var actions = [];\n\n    if (userIsAdmin) {\n      if (!memberIsAdmin) {\n        actions.push(ACTION_ADD_ADMIN);\n      }\n\n      if (userId !== memberId) {\n        actions.push(ACTION_DISMISS);\n      }\n    }\n\n    if (actions.length > 0) {\n      actions.push(ACTION_CANCEL);\n    }\n\n    setContextActions(actions);\n  }, [userIsAdmin, memberIsAdmin, userId, memberId]);\n\n  var performAction = function performAction(index) {\n    if (contextActions.length === 0) return;\n    var action = contextActions[index];\n    console.log(\"Performing action \" + action);\n\n    switch (action) {\n      case ACTION_DISMISS:\n        handleDismiss({\n          id: memberId,\n          name: name\n        });\n        break;\n\n      case ACTION_ADD_ADMIN:\n        handleAddAdmin({\n          id: memberId,\n          name: name\n        });\n        break;\n\n      case ACTION_CANCEL:\n      default:\n    }\n  };\n\n  var handleActionSheet = function handleActionSheet() {\n    if (contextActions.length === 0) return;\n    showActionSheetWithOptions({\n      options: contextActions,\n      cancelButtonIndex: contextActions.indexOf(ACTION_CANCEL),\n      destructiveButtonIndex: contextActions.indexOf(ACTION_DISMISS),\n      title: t('common.actionSheet.title'),\n      showSeparators: true,\n      textStyle: {\n        color: BLUE,\n        textAlign: 'center',\n        width: '100%'\n      },\n      titleTextStyle: {\n        textAlign: 'center',\n        width: '100%'\n      }\n    }, performAction);\n  };\n\n  var imageSource = photo != null && photo.filename && !imgErr ? {\n    uri: \"file://\" + photoDirectory() + \"/\" + (photo == null ? void 0 : photo.filename)\n  } : require(\"../../../static/default_profile.jpg\");\n  var memberTestID = memberIsAdmin ? 'admin' : 'regular';\n  return _jsx(View, {\n    testID: memberTestID,\n    children: _jsxs(View, {\n      style: styles.container,\n      testID: testID,\n      children: [_jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          navigation.navigate('FullScreenPhoto', {\n            photo: photo\n          });\n        },\n        children: _jsx(Image, {\n          source: imageSource,\n          style: styles.photo,\n          onError: function onError() {\n            console.log('settingImgErr');\n            setImgErr(true);\n          },\n          accessibilityLabel: \"profile picture\"\n        })\n      }), _jsxs(View, {\n        style: styles.info,\n        children: [_jsx(Text, {\n          style: styles.name,\n          children: name\n        }), _jsx(View, {\n          style: styles.statusContainer,\n          children: flagged ? _jsx(Text, {\n            style: styles.flagged,\n            children: t('common.tag.reported')\n          }) : null\n        }), connectionDate > 0 && _jsx(Text, {\n          style: styles.connectedText,\n          children: t('common.tag.connectionDate', {\n            date: moment(connectionDate).fromNow()\n          })\n        })]\n      }), contextActions.length > 0 && _jsx(TouchableOpacity, {\n        testID: \"memberContextBtn\",\n        style: styles.moreIcon,\n        onPress: handleActionSheet,\n        children: _jsx(Material, {\n          name: \"dots-vertical\",\n          size: ICON_SIZE,\n          color: LIGHT_GREY\n        })\n      })]\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    width: '100%',\n    alignItems: 'center',\n    flexDirection: 'row',\n    justifyContent: 'space-evenly',\n    backgroundColor: WHITE,\n    height: DEVICE_LARGE ? 94 : 80,\n    marginBottom: DEVICE_LARGE ? 11.8 : 6,\n    shadowColor: 'rgba(0,0,0,0.32)',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.43,\n    shadowRadius: 4\n  },\n  photo: {\n    borderRadius: 30,\n    width: 60,\n    height: 60,\n    marginLeft: 14\n  },\n  info: {\n    marginLeft: 25,\n    flex: 1,\n    height: DEVICE_LARGE ? 71 : 65,\n    flexDirection: 'column',\n    justifyContent: 'space-evenly'\n  },\n  name: {\n    fontFamily: 'ApexNew-Book',\n    fontSize: fontSize[20],\n    shadowColor: 'rgba(0,0,0,0.32)',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowRadius: 4\n  },\n  flagged: {\n    fontFamily: 'ApexNew-Medium',\n    fontSize: fontSize[14],\n    color: RED\n  },\n  statusContainer: {\n    flexDirection: 'row',\n    justifyContent: 'flex-start',\n    alignItems: 'center'\n  },\n  connectedText: {\n    fontFamily: 'ApexNew-Book',\n    fontSize: fontSize[12],\n    color: GREY,\n    fontStyle: 'italic'\n  },\n  moreIcon: {\n    marginRight: 16\n  }\n});","map":{"version":3,"sources":["/home/ali/Desktop/brightid/BrightID/BrightID/src/components/Groups/Members/MemberCard.tsx"],"names":["ICON_SIZE","DEVICE_LARGE","ACTION_ADD_ADMIN","i18next","ACTION_DISMISS","ACTION_CANCEL","MemberCard","memberId","userId","photo","name","connectionDate","handleDismiss","handleAddAdmin","userIsAdmin","memberIsAdmin","testID","navigation","useNavigation","contextActions","setContextActions","useState","flagged","setFlagged","imgErr","setImgErr","t","useTranslation","showActionSheetWithOptions","useActionSheet","useEffect","actions","performAction","action","console","id","handleActionSheet","options","cancelButtonIndex","destructiveButtonIndex","title","showSeparators","textStyle","color","textAlign","width","titleTextStyle","imageSource","uri","photoDirectory","require","memberTestID","styles","date","moment","StyleSheet","container","alignItems","flexDirection","justifyContent","backgroundColor","height","marginBottom","shadowColor","shadowOffset","shadowOpacity","shadowRadius","borderRadius","marginLeft","info","flex","fontFamily","fontSize","statusContainer","connectedText","fontStyle","moreIcon","marginRight"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport i18next from 'i18next';\nimport { useState, useEffect } from 'react';\nimport { Image, StyleSheet, Text, TouchableOpacity, View } from 'react-native';\nimport moment from 'moment';\nimport { useActionSheet } from '@expo/react-native-action-sheet';\nimport { useNavigation } from '@react-navigation/native';\nimport Material from 'react-native-vector-icons/MaterialCommunityIcons';\nimport { photoDirectory } from '@/utils/filesystem';\nimport { DEVICE_LARGE } from '@/utils/deviceConstants';\nimport { WHITE, BLUE, GREY, RED, LIGHT_GREY } from '@/theme/colors';\nimport { fontSize } from '@/theme/fonts';\n\nconst ICON_SIZE = DEVICE_LARGE ? 36 : 32;\nconst ACTION_ADD_ADMIN = i18next.t('groups.memberActionSheet.addAdmin');\nconst ACTION_DISMISS = i18next.t('groups.memberActionSheet.dismissMember');\n// Not using 'common.actionSheet.cancel' because 'Cancel' instead of 'cancel' (making sure printed text doesn't change after i18n)\nconst ACTION_CANCEL = i18next.t('groups.memberActionSheet.cancel');\n\nexport type GroupMember = {\n  memberId: string;\n  userId: string;\n  photo: Photo;\n  name: string;\n  connectionDate: number;\n};\n\ntype MemberCardProps = GroupMember & {\n  handleDismiss: (...args: Array<any>) => any;\n  handleAddAdmin: (...args: Array<any>) => any;\n  userIsAdmin: boolean;\n  memberIsAdmin: boolean;\n  // flaggers: any; TODO replace with reporters from v6 api\n  testID: string;\n};\n\nexport const MemberCard = ({\n  memberId,\n  userId,\n  photo,\n  name,\n  connectionDate,\n  handleDismiss,\n  handleAddAdmin,\n  userIsAdmin,\n  memberIsAdmin,\n  testID,\n}: MemberCardProps) => {\n  const navigation = useNavigation();\n  const [contextActions, setContextActions] = useState<Array<string>>([]);\n  const [flagged, setFlagged] = useState<boolean | number>(false);\n  const [imgErr, setImgErr] = useState(false);\n  const { t } = useTranslation();\n  const { showActionSheetWithOptions } = useActionSheet();\n\n  // set possible actions depending on user and member admin status\n  useEffect(() => {\n    const actions: Array<string> = [];\n    if (userIsAdmin) {\n      if (!memberIsAdmin) {\n        // member can be promoted to admin\n        actions.push(ACTION_ADD_ADMIN);\n      }\n      if (userId !== memberId) {\n        // member can be dismissed from group\n        actions.push(ACTION_DISMISS);\n      }\n    }\n    if (actions.length > 0) {\n      actions.push(ACTION_CANCEL);\n    }\n    setContextActions(actions);\n  }, [userIsAdmin, memberIsAdmin, userId, memberId]);\n\n  // show reported status of member?\n  // TODO replace with reporters from v6 api\n  /*  useEffect(() => {\n    if (!userIsAdmin) {\n      // only admins can see reported state\n      setFlagged(false);\n    } else {\n      setFlagged(flaggers && Object.keys(flaggers).length);\n    }\n  }, [flaggers, userIsAdmin]);\n   */\n\n  const performAction = (index: number) => {\n    if (contextActions.length === 0) return;\n\n    const action = contextActions[index];\n    console.log(`Performing action ${action}`);\n    switch (action) {\n      case ACTION_DISMISS:\n        handleDismiss({ id: memberId, name });\n        break;\n      case ACTION_ADD_ADMIN:\n        handleAddAdmin({ id: memberId, name });\n        break;\n      case ACTION_CANCEL:\n      default:\n      // do nothing\n    }\n  };\n\n  const handleActionSheet = () => {\n    if (contextActions.length === 0) return;\n\n    showActionSheetWithOptions(\n      {\n        options: contextActions,\n        cancelButtonIndex: contextActions.indexOf(ACTION_CANCEL),\n        destructiveButtonIndex: contextActions.indexOf(ACTION_DISMISS),\n        title: t('common.actionSheet.title'),\n        showSeparators: true,\n        textStyle: {\n          color: BLUE,\n          textAlign: 'center',\n          width: '100%',\n        },\n        titleTextStyle: {\n          textAlign: 'center',\n          width: '100%',\n        },\n      },\n      performAction,\n    );\n  };\n\n  const imageSource =\n    photo?.filename && !imgErr\n      ? {\n          uri: `file://${photoDirectory()}/${photo?.filename}`,\n        }\n      : require('@/static/default_profile.jpg');\n\n  const memberTestID = memberIsAdmin ? 'admin' : 'regular';\n  return (\n    <View testID={memberTestID}>\n      <View style={styles.container} testID={testID}>\n        <TouchableOpacity\n          onPress={() => {\n            navigation.navigate('FullScreenPhoto', { photo });\n          }}\n        >\n          <Image\n            source={imageSource}\n            style={styles.photo}\n            onError={() => {\n              console.log('settingImgErr');\n              setImgErr(true);\n            }}\n            accessibilityLabel=\"profile picture\"\n          />\n        </TouchableOpacity>\n        <View style={styles.info}>\n          <Text style={styles.name}>{name}</Text>\n          <View style={styles.statusContainer}>\n            {flagged ? (\n              <Text style={styles.flagged}>{t('common.tag.reported')}</Text>\n            ) : null}\n          </View>\n          {connectionDate > 0 && (\n            <Text style={styles.connectedText}>\n              {t('common.tag.connectionDate', {\n                date: moment(connectionDate).fromNow(),\n              })}\n            </Text>\n          )}\n        </View>\n        {contextActions.length > 0 && (\n          <TouchableOpacity\n            testID=\"memberContextBtn\"\n            style={styles.moreIcon}\n            onPress={handleActionSheet}\n          >\n            <Material\n              name=\"dots-vertical\"\n              size={ICON_SIZE}\n              color={LIGHT_GREY}\n            />\n          </TouchableOpacity>\n        )}\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    width: '100%',\n    alignItems: 'center',\n    flexDirection: 'row',\n    justifyContent: 'space-evenly',\n    backgroundColor: WHITE,\n    height: DEVICE_LARGE ? 94 : 80,\n    marginBottom: DEVICE_LARGE ? 11.8 : 6,\n    shadowColor: 'rgba(0,0,0,0.32)',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.43,\n    shadowRadius: 4,\n  },\n  photo: {\n    borderRadius: 30,\n    width: 60,\n    height: 60,\n    marginLeft: 14,\n  },\n  info: {\n    marginLeft: 25,\n    flex: 1,\n    height: DEVICE_LARGE ? 71 : 65,\n    flexDirection: 'column',\n    justifyContent: 'space-evenly',\n  },\n  name: {\n    fontFamily: 'ApexNew-Book',\n    fontSize: fontSize[20],\n    shadowColor: 'rgba(0,0,0,0.32)',\n    shadowOffset: { width: 0, height: 2 },\n    shadowRadius: 4,\n  },\n  flagged: {\n    fontFamily: 'ApexNew-Medium',\n    fontSize: fontSize[14],\n    color: RED,\n  },\n  statusContainer: {\n    flexDirection: 'row',\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n  },\n  connectedText: {\n    fontFamily: 'ApexNew-Book',\n    fontSize: fontSize[12],\n    color: GREY,\n    fontStyle: 'italic',\n  },\n  moreIcon: {\n    marginRight: 16,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}