{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.EditProfileScreen = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactI18next = require(\"react-i18next\");\n\nvar _reactNativeActionSheet = require(\"@expo/react-native-action-sheet\");\n\nvar _native = require(\"@react-navigation/native\");\n\nvar _stack = require(\"@react-navigation/stack\");\n\nvar _drawer = require(\"@react-navigation/drawer\");\n\nvar _MaterialCommunityIcons = _interopRequireDefault(require(\"react-native-vector-icons/MaterialCommunityIcons\"));\n\nvar _i18next = _interopRequireDefault(require(\"i18next\"));\n\nvar _store = require(\"../../store\");\n\nvar _deviceConstants = require(\"../../utils/deviceConstants\");\n\nvar _colors = require(\"../../theme/colors\");\n\nvar _fonts = require(\"../../theme/fonts\");\n\nvar _images = require(\"../../utils/images\");\n\nvar _filesystem = require(\"../../utils/filesystem\");\n\nvar _actions = require(\"../../actions\");\n\nvar _Chevron = _interopRequireDefault(require(\"../Icons/Chevron\"));\n\nvar _socialMediaSlice = require(\"../../reducer/socialMediaSlice\");\n\nvar _socialMediaVariationSlice = require(\"../../reducer/socialMediaVariationSlice\");\n\nvar _socialMediaVariations = require(\"./socialMediaVariations\");\n\nvar _socialMediaThunks = require(\"./socialMediaThunks\");\n\nvar _this = this,\n    _jsxFileName = \"/home/ali/Desktop/brightid/BrightID/BrightID/src/components/EditProfile/EditProfileScreen.tsx\";\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar EditProfilePhoto = function EditProfilePhoto(_ref) {\n  var profilePhoto = _ref.profilePhoto,\n      setProfilePhoto = _ref.setProfilePhoto;\n\n  var _useActionSheet = (0, _reactNativeActionSheet.useActionSheet)(),\n      showActionSheetWithOptions = _useActionSheet.showActionSheetWithOptions;\n\n  var prevPhotoFilename = (0, _store.useSelector)(function (state) {\n    return state.user.photo.filename;\n  });\n\n  var _useTranslation = (0, _reactI18next.useTranslation)(),\n      t = _useTranslation.t;\n\n  var profileSource = profilePhoto ? {\n    uri: profilePhoto\n  } : {\n    uri: \"file://\" + (0, _filesystem.photoDirectory)() + \"/\" + prevPhotoFilename\n  };\n\n  var getPhotoFromCamera = function _callee() {\n    var _await$takePhoto, mime, data, uri;\n\n    return _regenerator.default.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regenerator.default.awrap((0, _images.takePhoto)());\n\n          case 3:\n            _await$takePhoto = _context.sent;\n            mime = _await$takePhoto.mime;\n            data = _await$takePhoto.data;\n            uri = \"data:\" + mime + \";base64,\" + data;\n            setProfilePhoto(uri);\n            _context.next = 13;\n            break;\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 10]], Promise);\n  };\n\n  var getPhotoFromLibrary = function _callee2() {\n    var _await$chooseImage, mime, data, uri;\n\n    return _regenerator.default.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regenerator.default.awrap((0, _images.chooseImage)());\n\n          case 3:\n            _await$chooseImage = _context2.sent;\n            mime = _await$chooseImage.mime;\n            data = _await$chooseImage.data;\n            uri = \"data:\" + mime + \";base64,\" + data;\n            setProfilePhoto(uri);\n            _context2.next = 13;\n            break;\n\n          case 10:\n            _context2.prev = 10;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(_context2.t0);\n\n          case 13:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 10]], Promise);\n  };\n\n  var handleEditPhoto = function handleEditPhoto() {\n    showActionSheetWithOptions({\n      options: [t('common.photoActionSheet.takePhoto'), t('common.photoActionSheet.choosePhoto'), t('common.actionSheet.cancel')],\n      cancelButtonIndex: 2,\n      title: t('common.photoActionSheet.title'),\n      showSeparators: true,\n      textStyle: {\n        color: _colors.BLUE,\n        textAlign: 'center',\n        width: '100%',\n        fontSize: _fonts.fontSize[18]\n      },\n      titleTextStyle: {\n        textAlign: 'center',\n        fontSize: _fonts.fontSize[20],\n        width: '100%'\n      }\n    }, function (buttonIndex) {\n      if (buttonIndex === 0) {\n        getPhotoFromCamera();\n      } else if (buttonIndex === 1) {\n        getPhotoFromLibrary();\n      }\n    });\n  };\n\n  return _react.default.createElement(_reactNative.View, {\n    style: styles.profilePhotoContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 5\n    }\n  }, _react.default.createElement(_reactNative.TouchableOpacity, {\n    testID: \"editPhoto\",\n    onPress: handleEditPhoto,\n    accessible: true,\n    accessibilityLabel: t('common.accessibilityLabel.editPhoto'),\n    style: styles.changePhotoButton,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_reactNative.Image, {\n    source: profileSource,\n    style: styles.photo,\n    resizeMode: \"cover\",\n    onError: function onError(e) {\n      console.log(e);\n    },\n    accessible: true,\n    accessibilityLabel: \"profile photo\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 9\n    }\n  }), _react.default.createElement(_reactNative.Text, {\n    style: styles.profilePhotoText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }\n  }, t('profile.text.changeProfilePicture'))));\n};\n\nvar EditName = function EditName(_ref2) {\n  var nextName = _ref2.nextName,\n      setNextName = _ref2.setNextName;\n\n  var _useTranslation2 = (0, _reactI18next.useTranslation)(),\n      t = _useTranslation2.t;\n\n  return _react.default.createElement(_reactNative.View, {\n    style: styles.editNameContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 5\n    }\n  }, _react.default.createElement(_reactNative.Text, {\n    style: styles.label,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }\n  }, t('profile.label.name')), _react.default.createElement(_reactNative.TextInput, {\n    style: styles.editNameInput,\n    value: nextName,\n    onChangeText: setNextName,\n    textContentType: \"name\",\n    placeholder: t('profile.placeholder.name'),\n    placeholderTextColor: _colors.DARKER_GREY,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }\n  }));\n};\n\nvar SocialMediaLink = function SocialMediaLink(props) {\n  var navigation = (0, _native.useNavigation)();\n  var dispatch = (0, _store.useDispatch)();\n  var _props$socialMedia = props.socialMedia,\n      id = _props$socialMedia.id,\n      profile = _props$socialMedia.profile,\n      profileDisplayWidth = _props$socialMedia.profileDisplayWidth,\n      order = _props$socialMedia.order;\n\n  var _useTranslation3 = (0, _reactI18next.useTranslation)(),\n      t = _useTranslation3.t;\n\n  var socialMediaVariation = (0, _store.useSelector)(function (state) {\n    return (0, _socialMediaVariationSlice.selectSocialMediaVariationById)(state, id);\n  });\n\n  var updateInnerTextLayout = function updateInnerTextLayout(e) {\n    if (!profileDisplayWidth) {\n      var _e$nativeEvent, _e$nativeEvent$layout;\n\n      if ((_e$nativeEvent = e.nativeEvent) != null && (_e$nativeEvent$layout = _e$nativeEvent.layout) != null && _e$nativeEvent$layout.width) {\n        dispatch((0, _socialMediaSlice.setProfileDisplayWidth)({\n          id: id,\n          width: e.nativeEvent.layout.width\n        }));\n      } else {\n        dispatch((0, _socialMediaSlice.setProfileDisplayWidth)({\n          id: id,\n          width: '50%'\n        }));\n      }\n    }\n  };\n\n  var removeSocialMedia = function _callee3(id) {\n    return _regenerator.default.async(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return _regenerator.default.awrap(dispatch((0, _socialMediaThunks.removeSocialMediaThunk)(id)));\n\n          case 3:\n            _context3.next = 8;\n            break;\n\n          case 5:\n            _context3.prev = 5;\n            _context3.t0 = _context3[\"catch\"](0);\n\n            _reactNative.Alert.alert(_i18next.default.t('common.alert.error'), _i18next.default.t('common.alert.text.commonError'));\n\n          case 8:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[0, 5]], Promise);\n  };\n\n  var innerTextStyle = profileDisplayWidth ? {\n    width: typeof profileDisplayWidth === 'number' ? profileDisplayWidth - 10 : profileDisplayWidth\n  } : {\n    flexGrow: 1\n  };\n  return _react.default.createElement(_reactNative.View, {\n    style: styles.socialMediaLinkContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 5\n    }\n  }, _react.default.createElement(_reactNative.TouchableOpacity, {\n    style: styles.socialMediaSelect,\n    onPress: function onPress() {\n      navigation.navigate('SelectSocialMedia', {\n        type: props.type,\n        order: order,\n        prevId: id,\n        page: 0\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_reactNative.Text, {\n    style: styles.socialMediaType,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 9\n    }\n  }, socialMediaVariation.name), _react.default.createElement(_Chevron.default, {\n    width: _deviceConstants.DEVICE_LARGE ? 14 : 12,\n    height: _deviceConstants.DEVICE_LARGE ? 14 : 12,\n    color: _colors.DARK_BLUE,\n    strokeWidth: 2,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 9\n    }\n  })), _react.default.createElement(_reactNative.TouchableOpacity, {\n    style: innerTextStyle,\n    onLayout: updateInnerTextLayout,\n    onPress: function onPress() {\n      navigation.navigate('SelectSocialMedia', {\n        type: props.type,\n        order: order,\n        prevId: id,\n        page: 1\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_reactNative.Text, {\n    style: styles.socialMediaInput,\n    numberOfLines: 1,\n    ellipsizeMode: \"head\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 9\n    }\n  }, innerTextStyle.width ? profile : '')), _react.default.createElement(_reactNative.TouchableOpacity, {\n    style: styles.closeButton,\n    onPress: function onPress() {\n      return removeSocialMedia(id);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_MaterialCommunityIcons.default, {\n    name: \"close\",\n    size: _deviceConstants.DEVICE_LARGE ? 18 : 16,\n    color: \"#000\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 9\n    }\n  })));\n};\n\nvar SocialMediaLinks = function SocialMediaLinks(props) {\n  var navigation = (0, _native.useNavigation)();\n  var socialMediaItems = (0, _store.useSelector)(_socialMediaSlice.selectExistingSocialMedia);\n  var selectSocialMediaVariations = (0, _react.useMemo)(_socialMediaVariationSlice.selectAllSocialMediaVariationsByType, []);\n  var socialMediaVariations = (0, _store.useSelector)(function (state) {\n    return selectSocialMediaVariations(state, props.type);\n  });\n  var socialMediaVariationIds = socialMediaVariations.map(function (item) {\n    return item.id;\n  });\n\n  var _useTranslation4 = (0, _reactI18next.useTranslation)(),\n      t = _useTranslation4.t;\n\n  var SocialMediaVariations = socialMediaItems.filter(function (item) {\n    return socialMediaVariationIds.includes(item.id);\n  }).map(function (item) {\n    return _react.default.createElement(SocialMediaLink, {\n      key: item.id,\n      socialMedia: item,\n      type: props.type,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 7\n      }\n    });\n  });\n  var disableAdd = socialMediaVariations.length === SocialMediaVariations.length;\n  return _react.default.createElement(_reactNative.View, {\n    style: styles.socialMediaContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 5\n    }\n  }, _react.default.createElement(_reactNative.View, {\n    style: styles.socialMediaLinkLabel,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 7\n    }\n  }, props.type === _socialMediaVariations.SocialMediaType.CONTACT_INFO ? _react.default.createElement(_reactNative.Text, {\n    style: styles.label,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 11\n    }\n  }, t('profile.label.contactInfo')) : _react.default.createElement(_reactNative.Text, {\n    style: styles.label,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 11\n    }\n  }, t('profile.label.socialMediaLink')), !disableAdd ? _react.default.createElement(_reactNative.TouchableOpacity, {\n    onPress: function onPress() {\n      navigation.navigate('SelectSocialMedia', {\n        order: socialMediaItems.length,\n        type: props.type,\n        prevId: null,\n        page: 0\n      });\n    },\n    style: styles.addSocialMediaBtn,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 11\n    }\n  }, _react.default.createElement(_MaterialCommunityIcons.default, {\n    name: \"plus-thick\",\n    size: _deviceConstants.DEVICE_LARGE ? 18 : 16,\n    color: _colors.DARK_BLUE,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 13\n    }\n  })) : null), SocialMediaVariations);\n};\n\nvar ShowEditPassword = function ShowEditPassword() {\n  var password = (0, _store.useSelector)(function (state) {\n    return state.user.password;\n  });\n\n  var _useState = (0, _react.useState)(true),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      hidePassword = _useState2[0],\n      setHidePassword = _useState2[1];\n\n  var navigation = (0, _native.useNavigation)();\n\n  var _useTranslation5 = (0, _reactI18next.useTranslation)(),\n      t = _useTranslation5.t;\n\n  (0, _native.useFocusEffect)((0, _react.useCallback)(function () {\n    setHidePassword(true);\n  }, []));\n  var displayPassword = password;\n\n  if (hidePassword) {\n    displayPassword = '*'.repeat(password.length);\n  }\n\n  return _react.default.createElement(_reactNative.View, {\n    style: styles.showEditPasswordContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 5\n    }\n  }, _react.default.createElement(_reactNative.Text, {\n    style: styles.label,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 7\n    }\n  }, t('profile.text.backupPasswordTitle', 'Backup password')), _react.default.createElement(_reactNative.View, {\n    style: styles.passwordInfoContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_reactNative.Text, {\n    style: styles.infoText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 9\n    }\n  }, t('signup.text.passwordInfo'))), password ? _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(_reactNative.View, {\n    style: styles.viewPasswordContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 11\n    }\n  }, _react.default.createElement(_reactNative.TouchableOpacity, {\n    onPress: function onPress() {\n      setHidePassword(!hidePassword);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 13\n    }\n  }, _react.default.createElement(_reactNative.Text, {\n    style: styles.passwordText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 15\n    }\n  }, t('profile.text.viewPassword'))), _react.default.createElement(_reactNative.Text, {\n    style: styles.displayPassword,\n    selectable: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 13\n    }\n  }, displayPassword)), _react.default.createElement(_reactNative.TouchableOpacity, {\n    style: styles.changePasswordButton,\n    onPress: function onPress() {\n      navigation.navigate('ChangePassword');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 11\n    }\n  }, _react.default.createElement(_reactNative.Text, {\n    style: styles.passwordText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 13\n    }\n  }, t('profile.text.changePassword')))) : _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(_reactNative.TouchableOpacity, {\n    style: styles.setPasswordButton,\n    onPress: function onPress() {\n      navigation.navigate('ChangePassword');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 11\n    }\n  }, _react.default.createElement(_reactNative.Text, {\n    style: styles.setPasswordText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 13\n    }\n  }, t('profile.text.setPassword')))));\n};\n\nfunction SyncSocialMedia() {\n  var dispatch = (0, _store.useDispatch)();\n  var syncSocialMediaEnabled = (0, _store.useSelector)(_actions.selectSyncSocialMediaEnabled);\n  return _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(_reactNative.View, {\n    style: styles.syncSocialMediaSwitchContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_reactNative.Text, {\n    style: styles.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 9\n    }\n  }, \"Sync \"), _react.default.createElement(_reactNative.Switch, {\n    style: styles.syncSocialMediaSwitch,\n    trackColor: {\n      false: _colors.GREY,\n      true: _colors.DARK_ORANGE\n    },\n    thumbColor: \"#ffffff\",\n    ios_backgroundColor: \"#3e3e3e\",\n    onValueChange: function onValueChange(value) {\n      dispatch((0, _socialMediaThunks.setSyncSocialMediaEnabledThunk)(value));\n    },\n    value: syncSocialMediaEnabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 9\n    }\n  })), _react.default.createElement(_reactNative.Text, {\n    style: styles.infoText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 7\n    }\n  }, \"Do you want to allow people who have your contact info and social media links to know that you're a BrightID user so they can connect to you on BrightID? This does not reveal your information to people who don't already have it.\"));\n}\n\nvar EditProfileScreen = function EditProfileScreen(_ref3) {\n  var navigation = _ref3.navigation;\n  var dispatch = (0, _store.useDispatch)();\n\n  var _useTranslation6 = (0, _reactI18next.useTranslation)(),\n      t = _useTranslation6.t;\n\n  var headerHeight = (0, _stack.useHeaderHeight)();\n\n  if (_deviceConstants.DEVICE_IOS && _deviceConstants.DEVICE_LARGE) {\n    headerHeight += 7;\n  }\n\n  var isDrawerOpen = (0, _drawer.useIsDrawerOpen)();\n  var id = (0, _store.useSelector)(function (state) {\n    return state.user.id;\n  });\n  var prevPhotoFilename = (0, _store.useSelector)(function (state) {\n    return state.user.photo.filename;\n  });\n  var prevName = (0, _store.useSelector)(function (state) {\n    return state.user.name;\n  });\n  var prevPhoto = (0, _react.useRef)(null);\n\n  var _useState3 = (0, _react.useState)(prevPhoto == null ? void 0 : prevPhoto.current),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      profilePhoto = _useState4[0],\n      setProfilePhoto = _useState4[1];\n\n  var _useState5 = (0, _react.useState)(prevName),\n      _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n      nextName = _useState6[0],\n      setNextName = _useState6[1];\n\n  var saveDisabled = prevPhoto.current === profilePhoto && prevName === nextName || nextName.length < 2;\n\n  var saveData = function _callee4() {\n    var filename;\n    return _regenerator.default.async(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            if (nextName.length >= 2) {\n              dispatch((0, _actions.setName)(nextName));\n            }\n\n            if (!(prevPhoto.current !== profilePhoto)) {\n              _context4.next = 7;\n              break;\n            }\n\n            _context4.next = 4;\n            return _regenerator.default.awrap((0, _filesystem.saveImage)({\n              imageName: id,\n              base64Image: profilePhoto\n            }));\n\n          case 4:\n            filename = _context4.sent;\n            dispatch((0, _actions.setPhoto)({\n              filename: filename\n            }));\n            setProfilePhoto('');\n\n          case 7:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var clearData = (0, _react.useCallback)(function () {\n    setNextName(prevName);\n    setProfilePhoto(prevPhoto == null ? void 0 : prevPhoto.current);\n  }, [prevName, setProfilePhoto, setNextName]);\n  (0, _native.useFocusEffect)(clearData);\n  (0, _native.useFocusEffect)((0, _react.useCallback)(function () {\n    if (!profilePhoto) {\n      (0, _filesystem.retrieveImage)(prevPhotoFilename).then(function (base64Img) {\n        prevPhoto.current = base64Img;\n        setProfilePhoto(base64Img);\n      });\n    }\n  }, [profilePhoto, prevPhotoFilename]));\n  (0, _react.useEffect)(function () {\n    return navigation.addListener('beforeRemove', function (e) {\n      if (saveDisabled) {\n        return;\n      }\n\n      e.preventDefault();\n\n      _reactNative.Alert.alert(t('profile.alert.title.discardChanges'), t('profile.alert.text.discardChanges'), [{\n        text: t('profile.alert.button.dontLeave'),\n        style: 'cancel',\n        onPress: function onPress() {\n          return null;\n        }\n      }, {\n        text: t('profile.alert.button.discard'),\n        style: 'destructive',\n        onPress: function onPress() {\n          return navigation.dispatch(e.data.action);\n        }\n      }]);\n    });\n  }, [navigation, saveDisabled, t]);\n  return _react.default.createElement(_reactNative.View, {\n    style: [styles.container, {\n      marginTop: headerHeight\n    }, !isDrawerOpen && styles.shadow],\n    testID: \"editProfileScreen\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 535,\n      columnNumber: 5\n    }\n  }, _react.default.createElement(_reactNative.ScrollView, {\n    contentContainerStyle: styles.contentContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 543,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(EditProfilePhoto, {\n    profilePhoto: profilePhoto,\n    setProfilePhoto: setProfilePhoto,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 544,\n      columnNumber: 9\n    }\n  }), _react.default.createElement(EditName, {\n    nextName: nextName,\n    setNextName: setNextName,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 548,\n      columnNumber: 9\n    }\n  }), _react.default.createElement(SocialMediaLinks, {\n    type: _socialMediaVariations.SocialMediaType.CONTACT_INFO,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 550,\n      columnNumber: 9\n    }\n  }), _react.default.createElement(SocialMediaLinks, {\n    type: _socialMediaVariations.SocialMediaType.SOCIAL_PROFILE,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 551,\n      columnNumber: 9\n    }\n  }), _react.default.createElement(SyncSocialMedia, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 552,\n      columnNumber: 9\n    }\n  }), _react.default.createElement(_reactNative.View, {\n    style: styles.bottomDivider,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 553,\n      columnNumber: 9\n    }\n  }), _react.default.createElement(ShowEditPassword, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 555,\n      columnNumber: 9\n    }\n  }), _react.default.createElement(_reactNative.View, {\n    style: styles.saveContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 556,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(_reactNative.TouchableOpacity, {\n    style: [styles.saveButton, {\n      opacity: saveDisabled ? 0.5 : 1\n    }],\n    disabled: saveDisabled,\n    onPress: saveData,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 557,\n      columnNumber: 11\n    }\n  }, _react.default.createElement(_reactNative.Text, {\n    style: styles.saveButtonText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 567,\n      columnNumber: 13\n    }\n  }, t('common.button.save'))), _react.default.createElement(_reactNative.TouchableOpacity, {\n    style: [styles.cancelButton, {\n      opacity: saveDisabled ? 0.5 : 1\n    }],\n    disabled: saveDisabled,\n    onPress: clearData,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 569,\n      columnNumber: 11\n    }\n  }, _react.default.createElement(_reactNative.Text, {\n    style: styles.cancelButtonText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 579,\n      columnNumber: 13\n    }\n  }, t('common.button.cancel'))))));\n};\n\nexports.EditProfileScreen = EditProfileScreen;\n\nvar styles = _reactNative.StyleSheet.create({\n  container: {\n    backgroundColor: _colors.WHITE,\n    flex: 1,\n    width: '100%',\n    borderTopLeftRadius: _deviceConstants.DEVICE_LARGE ? 50 : 40\n  },\n  shadow: {\n    shadowColor: 'rgba(196, 196, 196, 0.25)',\n    shadowOpacity: 1,\n    shadowRadius: 15,\n    elevation: 15,\n    shadowOffset: {\n      width: 0,\n      height: 2\n    }\n  },\n  contentContainer: {\n    paddingHorizontal: _deviceConstants.DEVICE_LARGE ? 40 : 30,\n    width: '100%'\n  },\n  profilePhotoContainer: {\n    marginTop: _deviceConstants.DEVICE_LARGE ? 20 : 18\n  },\n  changePhotoButton: {\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  profilePhotoText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: _fonts.fontSize[16],\n    color: _colors.BLUE,\n    marginTop: _deviceConstants.DEVICE_LARGE ? 6 : 5\n  },\n  photo: {\n    width: _deviceConstants.DEVICE_LARGE ? 90 : 78,\n    height: _deviceConstants.DEVICE_LARGE ? 90 : 78,\n    borderRadius: 71,\n    shadowColor: 'rgba(0, 0, 0, 0.5)',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowRadius: 4\n  },\n  editNameContainer: {\n    width: '100%',\n    marginTop: _deviceConstants.DEVICE_LARGE ? 36 : 30\n  },\n  label: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: _fonts.fontSize[11],\n    color: _colors.DARK_ORANGE\n  },\n  editNameInput: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: _fonts.fontSize[16],\n    marginTop: _deviceConstants.DEVICE_LARGE ? 4 : 2,\n    width: '100%',\n    color: _colors.BLACK\n  },\n  syncSocialMediaSwitchContainer: {\n    alignItems: 'center',\n    paddingVertical: 5,\n    display: 'flex',\n    flexDirection: 'row'\n  },\n  syncSocialMediaSwitch: {\n    flex: 1\n  },\n  bottomDivider: {\n    width: '100%',\n    borderBottomColor: _colors.LIGHT_GREY,\n    borderBottomWidth: 1,\n    marginTop: _deviceConstants.DEVICE_LARGE ? 16 : 12\n  },\n  socialMediaContainer: {\n    width: '100%',\n    marginTop: _deviceConstants.DEVICE_LARGE ? 18 : 16\n  },\n  socialMediaLinkContainer: {\n    width: _deviceConstants.WIDTH - (_deviceConstants.DEVICE_LARGE ? 80 : 60),\n    maxWidth: _deviceConstants.WIDTH - (_deviceConstants.DEVICE_LARGE ? 80 : 60),\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginTop: _deviceConstants.DEVICE_LARGE ? 10 : 8\n  },\n  socialMediaLinkLabel: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  socialMediaSelect: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginRight: _deviceConstants.DEVICE_LARGE ? 14 : 12\n  },\n  socialMediaType: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: _fonts.fontSize[16],\n    color: _colors.DARK_BLUE,\n    marginRight: _deviceConstants.DEVICE_LARGE ? 8 : 6\n  },\n  addSocialMediaBtn: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginLeft: _deviceConstants.DEVICE_LARGE ? 6 : 4\n  },\n  socialMediaInput: {\n    fontFamily: 'Poppins-Light',\n    fontSize: _fonts.fontSize[14],\n    color: _colors.BLACK\n  },\n  showEditPasswordContainer: {\n    width: '100%',\n    marginTop: _deviceConstants.DEVICE_LARGE ? 10 : 8\n  },\n  viewPasswordContainer: {\n    width: '100%',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginTop: _deviceConstants.DEVICE_LARGE ? 26 : 18\n  },\n  changePasswordButton: {\n    marginTop: _deviceConstants.DEVICE_LARGE ? 12 : 8\n  },\n  setPasswordButton: {\n    marginTop: _deviceConstants.DEVICE_LARGE ? 12 : 8,\n    alignSelf: 'center'\n  },\n  passwordText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: _fonts.fontSize[13],\n    color: _colors.DARK_BLUE\n  },\n  setPasswordText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: _fonts.fontSize[15],\n    color: _colors.DARK_BLUE\n  },\n  displayPassword: {\n    fontFamily: 'Poppins-Regular',\n    fontSize: _fonts.fontSize[13],\n    color: _colors.BLACK\n  },\n  passwordInfoContainer: {},\n  infoText: {\n    fontFamily: 'Poppins-Regular',\n    fontSize: _fonts.fontSize[11],\n    color: _colors.DARKER_GREY\n  },\n  saveContainer: {\n    width: '100%',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: _deviceConstants.DEVICE_LARGE ? 44 : 36\n  },\n  saveButton: {\n    width: _deviceConstants.DEVICE_LARGE ? 100 : 88,\n    paddingTop: 10,\n    paddingBottom: 9,\n    backgroundColor: _colors.GREEN,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderRadius: 20,\n    marginRight: _deviceConstants.DEVICE_LARGE ? 22 : 18\n  },\n  saveButtonText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: _fonts.fontSize[12]\n  },\n  cancelButton: {\n    width: _deviceConstants.DEVICE_LARGE ? 100 : 88,\n    paddingTop: 10,\n    paddingBottom: 9,\n    backgroundColor: _colors.WHITE,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderRadius: 20,\n    borderWidth: 1,\n    borderColor: _colors.DARKER_GREY\n  },\n  cancelButtonText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: _fonts.fontSize[12],\n    color: _colors.DARKER_GREY\n  },\n  closeButton: {\n    paddingHorizontal: _deviceConstants.DEVICE_LARGE ? 10 : 8,\n    marginRight: _deviceConstants.DEVICE_LARGE ? -10 : -8\n  }\n});\n\nvar _default = EditProfileScreen;\nexports.default = _default;","map":{"version":3,"names":["EditProfilePhoto","profilePhoto","setProfilePhoto","useActionSheet","showActionSheetWithOptions","prevPhotoFilename","useSelector","state","user","photo","filename","useTranslation","t","profileSource","uri","photoDirectory","getPhotoFromCamera","takePhoto","mime","data","console","log","getPhotoFromLibrary","chooseImage","handleEditPhoto","options","cancelButtonIndex","title","showSeparators","textStyle","color","BLUE","textAlign","width","fontSize","titleTextStyle","buttonIndex","styles","profilePhotoContainer","changePhotoButton","e","profilePhotoText","EditName","nextName","setNextName","editNameContainer","label","editNameInput","DARKER_GREY","SocialMediaLink","props","navigation","useNavigation","dispatch","useDispatch","socialMedia","id","profile","profileDisplayWidth","order","socialMediaVariation","selectSocialMediaVariationById","updateInnerTextLayout","nativeEvent","layout","setProfileDisplayWidth","removeSocialMedia","removeSocialMediaThunk","Alert","alert","i18next","innerTextStyle","flexGrow","socialMediaLinkContainer","socialMediaSelect","navigate","type","prevId","page","socialMediaType","name","DEVICE_LARGE","DARK_BLUE","socialMediaInput","closeButton","SocialMediaLinks","socialMediaItems","selectExistingSocialMedia","selectSocialMediaVariations","useMemo","selectAllSocialMediaVariationsByType","socialMediaVariations","socialMediaVariationIds","map","item","SocialMediaVariations","filter","includes","disableAdd","length","socialMediaContainer","socialMediaLinkLabel","SocialMediaType","CONTACT_INFO","addSocialMediaBtn","ShowEditPassword","password","useState","hidePassword","setHidePassword","useFocusEffect","useCallback","displayPassword","repeat","showEditPasswordContainer","passwordInfoContainer","infoText","viewPasswordContainer","passwordText","changePasswordButton","setPasswordButton","setPasswordText","SyncSocialMedia","syncSocialMediaEnabled","selectSyncSocialMediaEnabled","syncSocialMediaSwitchContainer","syncSocialMediaSwitch","false","GREY","true","DARK_ORANGE","value","setSyncSocialMediaEnabledThunk","EditProfileScreen","headerHeight","useHeaderHeight","DEVICE_IOS","isDrawerOpen","useIsDrawerOpen","prevName","prevPhoto","useRef","current","saveDisabled","saveData","setName","saveImage","imageName","base64Image","setPhoto","clearData","retrieveImage","then","base64Img","useEffect","addListener","preventDefault","text","style","onPress","action","container","marginTop","shadow","contentContainer","SOCIAL_PROFILE","bottomDivider","saveContainer","saveButton","opacity","saveButtonText","cancelButton","cancelButtonText","StyleSheet","create","backgroundColor","WHITE","flex","borderTopLeftRadius","shadowColor","shadowOpacity","shadowRadius","elevation","shadowOffset","height","paddingHorizontal","alignItems","justifyContent","fontFamily","borderRadius","BLACK","paddingVertical","display","flexDirection","borderBottomColor","LIGHT_GREY","borderBottomWidth","WIDTH","maxWidth","marginRight","marginLeft","alignSelf","paddingTop","paddingBottom","GREEN","borderWidth","borderColor"],"sources":["/home/ali/Desktop/brightid/BrightID/BrightID/src/components/EditProfile/EditProfileScreen.tsx"],"sourcesContent":["import React, {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport {\n  Alert,\n  Image,\n  LayoutChangeEvent,\n  ScrollView,\n  StyleSheet,\n  Switch,\n  Text,\n  TextInput,\n  TouchableOpacity,\n  View,\n} from 'react-native';\nimport { useTranslation } from 'react-i18next';\nimport { useActionSheet } from '@expo/react-native-action-sheet';\nimport { useFocusEffect, useNavigation } from '@react-navigation/native';\nimport { useHeaderHeight } from '@react-navigation/stack';\nimport { useIsDrawerOpen } from '@react-navigation/drawer';\nimport Material from 'react-native-vector-icons/MaterialCommunityIcons';\nimport i18next from 'i18next';\nimport { useDispatch, useSelector } from '@/store';\nimport { DEVICE_IOS, DEVICE_LARGE, WIDTH } from '@/utils/deviceConstants';\nimport {\n  BLACK,\n  BLUE,\n  DARK_BLUE,\n  DARK_ORANGE,\n  DARKER_GREY,\n  GREEN,\n  GREY,\n  LIGHT_GREY,\n  ORANGE,\n  WHITE,\n} from '@/theme/colors';\nimport { fontSize } from '@/theme/fonts';\nimport { chooseImage, takePhoto } from '@/utils/images';\nimport { photoDirectory, retrieveImage, saveImage } from '@/utils/filesystem';\nimport {\n  selectSyncSocialMediaEnabled,\n  setName,\n  setPhoto,\n  setSyncSocialMediaEnabled,\n} from '@/actions';\nimport Chevron from '@/components/Icons/Chevron';\nimport {\n  selectExistingSocialMedia,\n  setProfileDisplayWidth,\n} from '../../reducer/socialMediaSlice';\nimport {\n  selectAllSocialMediaVariationsByType,\n  selectSocialMediaVariationById,\n} from '@/reducer/socialMediaVariationSlice';\nimport { SocialMediaType } from './socialMediaVariations';\nimport {\n  removeSocialMediaThunk,\n  setSyncSocialMediaEnabledThunk,\n} from '@/components/EditProfile/socialMediaThunks';\n\nconst EditProfilePhoto = ({ profilePhoto, setProfilePhoto }) => {\n  const { showActionSheetWithOptions } = useActionSheet();\n  const prevPhotoFilename = useSelector(\n    (state: State) => state.user.photo.filename,\n  );\n  const { t } = useTranslation();\n\n  const profileSource = profilePhoto\n    ? {\n        uri: profilePhoto,\n      }\n    : {\n        uri: `file://${photoDirectory()}/${prevPhotoFilename}`,\n      };\n\n  const getPhotoFromCamera = async () => {\n    try {\n      const { mime, data } = await takePhoto();\n      const uri = `data:${mime};base64,${data}`;\n      setProfilePhoto(uri);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const getPhotoFromLibrary = async () => {\n    try {\n      const { mime, data } = await chooseImage();\n      const uri = `data:${mime};base64,${data}`;\n      setProfilePhoto(uri);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const handleEditPhoto = () => {\n    showActionSheetWithOptions(\n      {\n        options: [\n          t('common.photoActionSheet.takePhoto'),\n          t('common.photoActionSheet.choosePhoto'),\n          t('common.actionSheet.cancel'),\n        ],\n        cancelButtonIndex: 2,\n        title: t('common.photoActionSheet.title'),\n        showSeparators: true,\n        textStyle: {\n          color: BLUE,\n          textAlign: 'center',\n          width: '100%',\n          fontSize: fontSize[18],\n        },\n        titleTextStyle: {\n          textAlign: 'center',\n          fontSize: fontSize[20],\n          width: '100%',\n        },\n      },\n      (buttonIndex) => {\n        if (buttonIndex === 0) {\n          getPhotoFromCamera();\n        } else if (buttonIndex === 1) {\n          getPhotoFromLibrary();\n        }\n      },\n    );\n  };\n\n  return (\n    <View style={styles.profilePhotoContainer}>\n      <TouchableOpacity\n        testID=\"editPhoto\"\n        onPress={handleEditPhoto}\n        accessible={true}\n        accessibilityLabel={t('common.accessibilityLabel.editPhoto')}\n        style={styles.changePhotoButton}\n      >\n        <Image\n          source={profileSource}\n          style={styles.photo}\n          resizeMode=\"cover\"\n          onError={(e) => {\n            console.log(e);\n          }}\n          accessible={true}\n          accessibilityLabel=\"profile photo\"\n        />\n        <Text style={styles.profilePhotoText}>\n          {t('profile.text.changeProfilePicture')}\n        </Text>\n      </TouchableOpacity>\n    </View>\n  );\n};\n\nconst EditName = ({ nextName, setNextName }) => {\n  const { t } = useTranslation();\n  return (\n    <View style={styles.editNameContainer}>\n      <Text style={styles.label}>{t('profile.label.name')}</Text>\n      <TextInput\n        style={styles.editNameInput}\n        value={nextName}\n        onChangeText={setNextName}\n        textContentType=\"name\"\n        placeholder={t('profile.placeholder.name')}\n        placeholderTextColor={DARKER_GREY}\n      />\n    </View>\n  );\n};\n\nconst SocialMediaLink = (props: {\n  socialMedia: SocialMedia;\n  type: SocialMediaType;\n}) => {\n  const navigation = useNavigation();\n  const dispatch = useDispatch();\n  const { id, profile, profileDisplayWidth, order } = props.socialMedia;\n  const { t } = useTranslation();\n\n  const socialMediaVariation = useSelector((state) =>\n    selectSocialMediaVariationById(state, id),\n  );\n  // perfectly center profile text with max length\n  const updateInnerTextLayout = (e: LayoutChangeEvent) => {\n    if (!profileDisplayWidth) {\n      if (e.nativeEvent?.layout?.width) {\n        dispatch(\n          setProfileDisplayWidth({\n            id,\n            width: e.nativeEvent.layout.width,\n          }),\n        );\n      } else {\n        dispatch(\n          setProfileDisplayWidth({\n            id,\n            width: '50%',\n          }),\n        );\n      }\n    }\n  };\n\n  const removeSocialMedia = async (id: string) => {\n    try {\n      await dispatch(removeSocialMediaThunk(id));\n    } catch (e) {\n      Alert.alert(\n        i18next.t('common.alert.error'),\n        i18next.t('common.alert.text.commonError'),\n      );\n    }\n  };\n\n  const innerTextStyle = profileDisplayWidth\n    ? {\n        width:\n          typeof profileDisplayWidth === 'number'\n            ? profileDisplayWidth - 10\n            : profileDisplayWidth,\n      }\n    : { flexGrow: 1 };\n\n  return (\n    <View style={styles.socialMediaLinkContainer}>\n      <TouchableOpacity\n        style={styles.socialMediaSelect}\n        onPress={() => {\n          navigation.navigate('SelectSocialMedia', {\n            type: props.type,\n            order,\n            prevId: id,\n            page: 0,\n          });\n        }}\n      >\n        <Text style={styles.socialMediaType}>{socialMediaVariation.name}</Text>\n        <Chevron\n          width={DEVICE_LARGE ? 14 : 12}\n          height={DEVICE_LARGE ? 14 : 12}\n          color={DARK_BLUE}\n          strokeWidth={2}\n        />\n      </TouchableOpacity>\n      <TouchableOpacity\n        style={innerTextStyle}\n        onLayout={updateInnerTextLayout}\n        onPress={() => {\n          navigation.navigate('SelectSocialMedia', {\n            type: props.type,\n            order,\n            prevId: id,\n            page: 1,\n          });\n        }}\n      >\n        <Text\n          style={styles.socialMediaInput}\n          numberOfLines={1}\n          ellipsizeMode=\"head\"\n        >\n          {innerTextStyle.width ? profile : ''}\n        </Text>\n      </TouchableOpacity>\n      <TouchableOpacity\n        style={styles.closeButton}\n        onPress={() => removeSocialMedia(id)}\n      >\n        <Material name=\"close\" size={DEVICE_LARGE ? 18 : 16} color=\"#000\" />\n      </TouchableOpacity>\n    </View>\n  );\n};\n\nconst SocialMediaLinks = (props: { type: SocialMediaType }) => {\n  const navigation = useNavigation();\n  const socialMediaItems = useSelector(selectExistingSocialMedia);\n  const selectSocialMediaVariations = useMemo(\n    selectAllSocialMediaVariationsByType,\n    [],\n  );\n  const socialMediaVariations = useSelector((state) =>\n    selectSocialMediaVariations(state, props.type),\n  );\n  const socialMediaVariationIds = socialMediaVariations.map((item) => item.id);\n  const { t } = useTranslation();\n\n  // console.log('socialMedia', socialMediaItems);\n\n  const SocialMediaVariations = socialMediaItems\n    .filter((item) => socialMediaVariationIds.includes(item.id))\n    .map((item) => (\n      <SocialMediaLink key={item.id} socialMedia={item} type={props.type} />\n    ));\n\n  // disable adding new item if we are entering phone number and\n  // phone number is already entered\n  const disableAdd =\n    socialMediaVariations.length === SocialMediaVariations.length;\n\n  return (\n    <View style={styles.socialMediaContainer}>\n      <View style={styles.socialMediaLinkLabel}>\n        {props.type === SocialMediaType.CONTACT_INFO ? (\n          <Text style={styles.label}>{t('profile.label.contactInfo')}</Text>\n        ) : (\n          <Text style={styles.label}>{t('profile.label.socialMediaLink')}</Text>\n        )}\n\n        {!disableAdd ? (\n          <TouchableOpacity\n            onPress={() => {\n              navigation.navigate('SelectSocialMedia', {\n                order: socialMediaItems.length,\n                type: props.type,\n                prevId: null,\n                page: 0,\n              });\n            }}\n            style={styles.addSocialMediaBtn}\n          >\n            <Material\n              name=\"plus-thick\"\n              size={DEVICE_LARGE ? 18 : 16}\n              color={DARK_BLUE}\n            />\n          </TouchableOpacity>\n        ) : null}\n      </View>\n\n      {SocialMediaVariations}\n    </View>\n  );\n};\n\nconst ShowEditPassword = () => {\n  const password = useSelector((state: State) => state.user.password);\n  const [hidePassword, setHidePassword] = useState(true);\n  const navigation = useNavigation();\n  const { t } = useTranslation();\n\n  useFocusEffect(\n    useCallback(() => {\n      setHidePassword(true);\n    }, []),\n  );\n\n  let displayPassword = password;\n  if (hidePassword) {\n    displayPassword = '*'.repeat(password.length);\n  }\n\n  return (\n    <View style={styles.showEditPasswordContainer}>\n      <Text style={styles.label}>\n        {t('profile.text.backupPasswordTitle', 'Backup password')}\n      </Text>\n      <View style={styles.passwordInfoContainer}>\n        <Text style={styles.infoText}>{t('signup.text.passwordInfo')}</Text>\n      </View>\n      {password ? (\n        <>\n          <View style={styles.viewPasswordContainer}>\n            <TouchableOpacity\n              onPress={() => {\n                setHidePassword(!hidePassword);\n              }}\n            >\n              <Text style={styles.passwordText}>\n                {t('profile.text.viewPassword')}\n              </Text>\n            </TouchableOpacity>\n            <Text style={styles.displayPassword} selectable={true}>\n              {displayPassword}\n            </Text>\n          </View>\n          <TouchableOpacity\n            style={styles.changePasswordButton}\n            onPress={() => {\n              navigation.navigate('ChangePassword');\n            }}\n          >\n            <Text style={styles.passwordText}>\n              {t('profile.text.changePassword')}\n            </Text>\n          </TouchableOpacity>\n        </>\n      ) : (\n        <>\n          <TouchableOpacity\n            style={styles.setPasswordButton}\n            onPress={() => {\n              navigation.navigate('ChangePassword');\n            }}\n          >\n            <Text style={styles.setPasswordText}>\n              {t('profile.text.setPassword')}\n            </Text>\n          </TouchableOpacity>\n        </>\n      )}\n    </View>\n  );\n};\n\nfunction SyncSocialMedia() {\n  const dispatch = useDispatch();\n  const syncSocialMediaEnabled = useSelector(selectSyncSocialMediaEnabled);\n  return (\n    <>\n      <View style={styles.syncSocialMediaSwitchContainer}>\n        <Text style={styles.label}>Sync </Text>\n        <Switch\n          style={styles.syncSocialMediaSwitch}\n          trackColor={{ false: GREY, true: DARK_ORANGE }}\n          thumbColor=\"#ffffff\"\n          ios_backgroundColor=\"#3e3e3e\"\n          onValueChange={(value) => {\n            dispatch(setSyncSocialMediaEnabledThunk(value));\n          }}\n          value={syncSocialMediaEnabled}\n        />\n      </View>\n      <Text style={styles.infoText}>\n        Do you want to allow people who have your contact info and social media\n        links to know that you're a BrightID user so they can connect to you on\n        BrightID? This does not reveal your information to people who don't\n        already have it.\n      </Text>\n    </>\n  );\n}\n\nexport const EditProfileScreen = ({ navigation }) => {\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n  let headerHeight = useHeaderHeight();\n  if (DEVICE_IOS && DEVICE_LARGE) {\n    headerHeight += 7;\n  }\n  const isDrawerOpen = useIsDrawerOpen();\n\n  // selectors\n  const id = useSelector((state: State) => state.user.id);\n  const prevPhotoFilename = useSelector(\n    (state: State) => state.user.photo.filename,\n  );\n  const prevName = useSelector((state: State) => state.user.name);\n  const prevPhoto = useRef(null);\n  // state passed down to children\n  const [profilePhoto, setProfilePhoto] = useState(prevPhoto?.current);\n  const [nextName, setNextName] = useState(prevName);\n\n  // allow user to save changes if profilePhoto or name has changed\n  const saveDisabled =\n    (prevPhoto.current === profilePhoto && prevName === nextName) ||\n    nextName.length < 2;\n\n  // profilePhoto / name is only saved to filesystem / redux if the user presses save\n  const saveData = async () => {\n    if (nextName.length >= 2) {\n      dispatch(setName(nextName));\n    }\n\n    if (prevPhoto.current !== profilePhoto) {\n      const filename = await saveImage({\n        imageName: id,\n        base64Image: profilePhoto,\n      });\n      dispatch(setPhoto({ filename }));\n      // reset state to disable save button\n      setProfilePhoto('');\n    }\n  };\n\n  const clearData = useCallback(() => {\n    setNextName(prevName);\n    setProfilePhoto(prevPhoto?.current);\n  }, [prevName, setProfilePhoto, setNextName]);\n\n  // clear data on focus\n  useFocusEffect(clearData);\n\n  // convert prevPhoto to base64 uri on focus\n  useFocusEffect(\n    useCallback(() => {\n      if (!profilePhoto) {\n        retrieveImage(prevPhotoFilename).then((base64Img) => {\n          prevPhoto.current = base64Img;\n          setProfilePhoto(base64Img);\n        });\n      }\n    }, [profilePhoto, prevPhotoFilename]),\n  );\n\n  useEffect(\n    () =>\n      navigation.addListener('beforeRemove', (e) => {\n        if (saveDisabled) {\n          // If we don't have unsaved changes, then we don't need to do anything\n          return;\n        }\n\n        // Prevent default behavior of leaving the screen\n        e.preventDefault();\n\n        // Prompt the user before leaving the screen\n        Alert.alert(\n          t('profile.alert.title.discardChanges'),\n          t('profile.alert.text.discardChanges'),\n          [\n            {\n              text: t('profile.alert.button.dontLeave'),\n              style: 'cancel',\n              onPress: () => null,\n            },\n            {\n              text: t('profile.alert.button.discard'),\n              style: 'destructive',\n              onPress: () => navigation.dispatch(e.data.action),\n            },\n          ],\n        );\n      }),\n    [navigation, saveDisabled, t],\n  );\n\n  return (\n    <View\n      style={[\n        styles.container,\n        { marginTop: headerHeight },\n        !isDrawerOpen && styles.shadow,\n      ]}\n      testID=\"editProfileScreen\"\n    >\n      <ScrollView contentContainerStyle={styles.contentContainer}>\n        <EditProfilePhoto\n          profilePhoto={profilePhoto}\n          setProfilePhoto={setProfilePhoto}\n        />\n        <EditName nextName={nextName} setNextName={setNextName} />\n\n        <SocialMediaLinks type={SocialMediaType.CONTACT_INFO} />\n        <SocialMediaLinks type={SocialMediaType.SOCIAL_PROFILE} />\n        <SyncSocialMedia />\n        <View style={styles.bottomDivider} />\n\n        <ShowEditPassword />\n        <View style={styles.saveContainer}>\n          <TouchableOpacity\n            style={[\n              styles.saveButton,\n              {\n                opacity: saveDisabled ? 0.5 : 1,\n              },\n            ]}\n            disabled={saveDisabled}\n            onPress={saveData}\n          >\n            <Text style={styles.saveButtonText}>{t('common.button.save')}</Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n            style={[\n              styles.cancelButton,\n              {\n                opacity: saveDisabled ? 0.5 : 1,\n              },\n            ]}\n            disabled={saveDisabled}\n            onPress={clearData}\n          >\n            <Text style={styles.cancelButtonText}>\n              {t('common.button.cancel')}\n            </Text>\n          </TouchableOpacity>\n        </View>\n      </ScrollView>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: WHITE,\n    flex: 1,\n    width: '100%',\n    borderTopLeftRadius: DEVICE_LARGE ? 50 : 40,\n  },\n  shadow: {\n    shadowColor: 'rgba(196, 196, 196, 0.25)',\n    shadowOpacity: 1,\n    shadowRadius: 15,\n    elevation: 15,\n    shadowOffset: {\n      width: 0,\n      height: 2,\n    },\n  },\n  contentContainer: {\n    paddingHorizontal: DEVICE_LARGE ? 40 : 30,\n    width: '100%',\n  },\n  profilePhotoContainer: {\n    marginTop: DEVICE_LARGE ? 20 : 18,\n  },\n  changePhotoButton: {\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  profilePhotoText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[16],\n    color: BLUE,\n    marginTop: DEVICE_LARGE ? 6 : 5,\n  },\n  photo: {\n    width: DEVICE_LARGE ? 90 : 78,\n    height: DEVICE_LARGE ? 90 : 78,\n    borderRadius: 71,\n    shadowColor: 'rgba(0, 0, 0, 0.5)',\n    shadowOffset: { width: 0, height: 2 },\n    shadowRadius: 4,\n  },\n  editNameContainer: {\n    width: '100%',\n    marginTop: DEVICE_LARGE ? 36 : 30,\n  },\n  label: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[11],\n    color: DARK_ORANGE,\n  },\n  editNameInput: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[16],\n    marginTop: DEVICE_LARGE ? 4 : 2,\n    width: '100%',\n    color: BLACK,\n  },\n  syncSocialMediaSwitchContainer: {\n    alignItems: 'center',\n    paddingVertical: 5,\n    display: 'flex',\n    flexDirection: 'row',\n  },\n  syncSocialMediaSwitch: {\n    flex: 1,\n  },\n  bottomDivider: {\n    width: '100%',\n    borderBottomColor: LIGHT_GREY,\n    borderBottomWidth: 1,\n    marginTop: DEVICE_LARGE ? 16 : 12,\n  },\n  socialMediaContainer: {\n    width: '100%',\n    marginTop: DEVICE_LARGE ? 18 : 16,\n  },\n  socialMediaLinkContainer: {\n    width: WIDTH - (DEVICE_LARGE ? 80 : 60),\n    maxWidth: WIDTH - (DEVICE_LARGE ? 80 : 60),\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginTop: DEVICE_LARGE ? 10 : 8,\n  },\n  socialMediaLinkLabel: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  socialMediaSelect: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginRight: DEVICE_LARGE ? 14 : 12,\n  },\n  socialMediaType: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[16],\n    color: DARK_BLUE,\n    marginRight: DEVICE_LARGE ? 8 : 6,\n  },\n  addSocialMediaBtn: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginLeft: DEVICE_LARGE ? 6 : 4,\n  },\n  socialMediaInput: {\n    fontFamily: 'Poppins-Light',\n    fontSize: fontSize[14],\n    color: BLACK,\n  },\n  showEditPasswordContainer: {\n    width: '100%',\n    marginTop: DEVICE_LARGE ? 10 : 8,\n  },\n  viewPasswordContainer: {\n    width: '100%',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginTop: DEVICE_LARGE ? 26 : 18,\n  },\n  changePasswordButton: {\n    marginTop: DEVICE_LARGE ? 12 : 8,\n  },\n  setPasswordButton: {\n    marginTop: DEVICE_LARGE ? 12 : 8,\n    alignSelf: 'center',\n  },\n  passwordText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[13],\n    color: DARK_BLUE,\n  },\n  setPasswordText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[15],\n    color: DARK_BLUE,\n  },\n  displayPassword: {\n    fontFamily: 'Poppins-Regular',\n    fontSize: fontSize[13],\n    color: BLACK,\n  },\n  passwordInfoContainer: {},\n  infoText: {\n    fontFamily: 'Poppins-Regular',\n    fontSize: fontSize[11],\n    color: DARKER_GREY,\n  },\n  saveContainer: {\n    width: '100%',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: DEVICE_LARGE ? 44 : 36,\n  },\n  saveButton: {\n    width: DEVICE_LARGE ? 100 : 88,\n    paddingTop: 10,\n    paddingBottom: 9,\n    backgroundColor: GREEN,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderRadius: 20,\n    marginRight: DEVICE_LARGE ? 22 : 18,\n  },\n  saveButtonText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[12],\n  },\n  cancelButton: {\n    width: DEVICE_LARGE ? 100 : 88,\n    paddingTop: 10,\n    paddingBottom: 9,\n    backgroundColor: WHITE,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderRadius: 20,\n    borderWidth: 1,\n    borderColor: DARKER_GREY,\n  },\n  cancelButtonText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[12],\n    color: DARKER_GREY,\n  },\n  closeButton: {\n    paddingHorizontal: DEVICE_LARGE ? 10 : 8,\n    marginRight: DEVICE_LARGE ? -10 : -8,\n  },\n});\n\nexport default EditProfileScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}