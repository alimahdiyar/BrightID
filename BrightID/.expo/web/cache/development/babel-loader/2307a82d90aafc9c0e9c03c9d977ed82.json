{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/extends\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nimport React, { useRef, memo, useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport PixelRatio from \"react-native-web/dist/exports/PixelRatio\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { useTheme } from \"./CountryTheme\";\nimport { Flag } from \"./Flag\";\nimport { useContext } from \"./CountryContext\";\nimport { CountryText } from \"./CountryText\";\nvar borderBottomWidth = 2 / PixelRatio.get();\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  letters: {\n    marginRight: 10,\n    backgroundColor: 'transparent',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  letter: {\n    height: 23,\n    width: 20,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  letterText: {\n    textAlign: 'center'\n  },\n  itemCountry: {\n    flexDirection: 'row',\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n    paddingHorizontal: 5\n  },\n  itemCountryName: {\n    width: '90%'\n  },\n  list: {\n    flex: 1\n  },\n  sep: {\n    borderBottomWidth: borderBottomWidth,\n    width: '100%'\n  }\n});\n\nvar Letter = function Letter(_ref) {\n  var letter = _ref.letter,\n      scrollTo = _ref.scrollTo;\n\n  var _useTheme = useTheme(),\n      fontSize = _useTheme.fontSize,\n      activeOpacity = _useTheme.activeOpacity;\n\n  return React.createElement(TouchableOpacity, _extends({\n    testID: \"letter-\" + letter,\n    key: letter,\n    onPress: function onPress() {\n      return scrollTo(letter);\n    }\n  }, {\n    activeOpacity: activeOpacity\n  }), React.createElement(View, {\n    style: styles.letter\n  }, React.createElement(CountryText, {\n    style: [styles.letterText, {\n      fontSize: fontSize * 0.8\n    }],\n    allowFontScaling: false\n  }, letter)));\n};\n\nvar CountryItem = function CountryItem(props) {\n  var _useTheme2 = useTheme(),\n      activeOpacity = _useTheme2.activeOpacity,\n      itemHeight = _useTheme2.itemHeight,\n      flagSize = _useTheme2.flagSize;\n\n  var country = props.country,\n      onSelect = props.onSelect,\n      withFlag = props.withFlag,\n      withEmoji = props.withEmoji,\n      withCallingCode = props.withCallingCode,\n      withCurrency = props.withCurrency;\n  var extraContent = [];\n\n  if (withCallingCode && country.callingCode && country.callingCode.length > 0) {\n    extraContent.push(\"+\" + country.callingCode.join('|'));\n  }\n\n  if (withCurrency && country.currency && country.currency.length > 0) {\n    extraContent.push(country.currency.join('|'));\n  }\n\n  return React.createElement(TouchableOpacity, _extends({\n    key: country.cca2,\n    testID: \"country-selector-\" + country.cca2,\n    onPress: function onPress() {\n      return onSelect(country);\n    }\n  }, {\n    activeOpacity: activeOpacity\n  }), React.createElement(View, {\n    style: [styles.itemCountry, {\n      height: itemHeight\n    }]\n  }, withFlag && React.createElement(Flag, _extends({}, {\n    withEmoji: withEmoji,\n    countryCode: country.cca2,\n    flagSize: flagSize\n  })), React.createElement(View, {\n    style: styles.itemCountryName\n  }, React.createElement(CountryText, {\n    allowFontScaling: false,\n    numberOfLines: 2,\n    ellipsizeMode: 'tail'\n  }, country.name, extraContent.length > 0 && \" (\" + extraContent.join(', ') + \")\"))));\n};\n\nCountryItem.defaultProps = {\n  withFlag: true,\n  withCallingCode: false\n};\nvar MemoCountryItem = memo(CountryItem);\n\nvar renderItem = function renderItem(props) {\n  return function (_ref2) {\n    var country = _ref2.item;\n    return React.createElement(MemoCountryItem, _extends({}, _objectSpread({\n      country: country\n    }, props)));\n  };\n};\n\nvar keyExtractor = function keyExtractor(item) {\n  return item.cca2;\n};\n\nvar ItemSeparatorComponent = function ItemSeparatorComponent() {\n  var _useTheme3 = useTheme(),\n      primaryColorVariant = _useTheme3.primaryColorVariant;\n\n  return React.createElement(View, {\n    style: [styles.sep, {\n      borderBottomColor: primaryColorVariant\n    }]\n  });\n};\n\nvar _Dimensions$get = Dimensions.get('window'),\n    height = _Dimensions$get.height;\n\nexport var CountryList = function CountryList(props) {\n  var data = props.data,\n      withAlphaFilter = props.withAlphaFilter,\n      withEmoji = props.withEmoji,\n      withFlag = props.withFlag,\n      withCallingCode = props.withCallingCode,\n      withCurrency = props.withCurrency,\n      onSelect = props.onSelect,\n      filter = props.filter,\n      flatListProps = props.flatListProps,\n      filterFocus = props.filterFocus;\n  var flatListRef = useRef(null);\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      letter = _useState2[0],\n      setLetter = _useState2[1];\n\n  var _useTheme4 = useTheme(),\n      itemHeight = _useTheme4.itemHeight,\n      backgroundColor = _useTheme4.backgroundColor;\n\n  var indexLetter = data.map(function (country) {\n    return country.name.substr(0, 1);\n  }).join('');\n\n  var scrollTo = function scrollTo(letter) {\n    var animated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var index = indexLetter.indexOf(letter);\n    setLetter(letter);\n\n    if (flatListRef.current) {\n      flatListRef.current.scrollToIndex({\n        animated: animated,\n        index: index\n      });\n    }\n  };\n\n  var onScrollToIndexFailed = function onScrollToIndexFailed(_info) {\n    if (flatListRef.current) {\n      flatListRef.current.scrollToEnd();\n      scrollTo(letter);\n    }\n  };\n\n  var _useContext = useContext(),\n      search = _useContext.search,\n      getLetters = _useContext.getLetters;\n\n  var letters = getLetters(data);\n  useEffect(function () {\n    if (data && data.length > 0 && filterFocus && !filter) {\n      scrollTo(letters[0], false);\n    }\n  }, [filterFocus]);\n  var initialNumToRender = Math.round(height / (itemHeight || 1));\n  return React.createElement(View, {\n    style: [styles.container, {\n      backgroundColor: backgroundColor\n    }]\n  }, React.createElement(FlatList, _extends({\n    onScrollToIndexFailed: true,\n    ref: flatListRef,\n    testID: 'list-countries',\n    keyboardShouldPersistTaps: 'handled',\n    automaticallyAdjustContentInsets: false,\n    scrollEventThrottle: 1,\n    getItemLayout: function getItemLayout(_data, index) {\n      return {\n        length: itemHeight + borderBottomWidth,\n        offset: (itemHeight + borderBottomWidth) * index,\n        index: index\n      };\n    },\n    renderItem: renderItem({\n      withEmoji: withEmoji,\n      withFlag: withFlag,\n      withCallingCode: withCallingCode,\n      withCurrency: withCurrency,\n      onSelect: onSelect\n    })\n  }, {\n    data: search(filter, data),\n    keyExtractor: keyExtractor,\n    onScrollToIndexFailed: onScrollToIndexFailed,\n    ItemSeparatorComponent: ItemSeparatorComponent,\n    initialNumToRender: initialNumToRender\n  }, flatListProps)), withAlphaFilter && React.createElement(ScrollView, {\n    contentContainerStyle: styles.letters,\n    keyboardShouldPersistTaps: 'always'\n  }, letters.map(function (letter) {\n    return React.createElement(Letter, _extends({\n      key: letter\n    }, {\n      letter: letter,\n      scrollTo: scrollTo\n    }));\n  })));\n};\nCountryList.defaultProps = {\n  filterFocus: undefined\n};","map":{"version":3,"sources":["../src/CountryList.tsx"],"names":["borderBottomWidth","PixelRatio","styles","StyleSheet","container","flex","flexDirection","justifyContent","letters","marginRight","backgroundColor","alignItems","letter","height","width","letterText","textAlign","itemCountry","paddingHorizontal","itemCountryName","list","sep","Letter","scrollTo","fontSize","activeOpacity","useTheme","React","testID","key","onPress","style","allowFontScaling","CountryItem","itemHeight","flagSize","country","onSelect","withFlag","withEmoji","withCallingCode","withCurrency","props","extraContent","countryCode","numberOfLines","ellipsizeMode","MemoCountryItem","memo","renderItem","keyExtractor","item","ItemSeparatorComponent","primaryColorVariant","borderBottomColor","Dimensions","CountryList","data","withAlphaFilter","filter","flatListProps","filterFocus","flatListRef","useRef","setLetter","useState","indexLetter","animated","index","onScrollToIndexFailed","search","getLetters","useContext","useEffect","initialNumToRender","Math","ref","keyboardShouldPersistTaps","automaticallyAdjustContentInsets","scrollEventThrottle","getItemLayout","length","offset","contentContainerStyle"],"mappings":"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","sourceRoot":"","sourcesContent":["import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _extends from\"@babel/runtime/helpers/extends\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import React,{useRef,memo,useState,useEffect}from'react';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import FlatList from\"react-native-web/dist/exports/FlatList\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import PixelRatio from\"react-native-web/dist/exports/PixelRatio\";import Dimensions from\"react-native-web/dist/exports/Dimensions\";import{useTheme}from\"./CountryTheme\";import{Flag}from\"./Flag\";import{useContext}from\"./CountryContext\";import{CountryText}from\"./CountryText\";var borderBottomWidth=2/PixelRatio.get();var styles=StyleSheet.create({container:{flex:1,flexDirection:'row',justifyContent:'space-between'},letters:{marginRight:10,backgroundColor:'transparent',justifyContent:'center',alignItems:'center'},letter:{height:23,width:20,justifyContent:'center',alignItems:'center'},letterText:{textAlign:'center'},itemCountry:{flexDirection:'row',justifyContent:'flex-start',alignItems:'center',paddingHorizontal:5},itemCountryName:{width:'90%'},list:{flex:1},sep:{borderBottomWidth:borderBottomWidth,width:'100%'}});var Letter=function Letter(_ref){var letter=_ref.letter,scrollTo=_ref.scrollTo;var _useTheme=useTheme(),fontSize=_useTheme.fontSize,activeOpacity=_useTheme.activeOpacity;return React.createElement(TouchableOpacity,_extends({testID:\"letter-\"+letter,key:letter,onPress:function onPress(){return scrollTo(letter);}},{activeOpacity:activeOpacity}),React.createElement(View,{style:styles.letter},React.createElement(CountryText,{style:[styles.letterText,{fontSize:fontSize*0.8}],allowFontScaling:false},letter)));};var CountryItem=function CountryItem(props){var _useTheme2=useTheme(),activeOpacity=_useTheme2.activeOpacity,itemHeight=_useTheme2.itemHeight,flagSize=_useTheme2.flagSize;var country=props.country,onSelect=props.onSelect,withFlag=props.withFlag,withEmoji=props.withEmoji,withCallingCode=props.withCallingCode,withCurrency=props.withCurrency;var extraContent=[];if(withCallingCode&&country.callingCode&&country.callingCode.length>0){extraContent.push(\"+\"+country.callingCode.join('|'));}if(withCurrency&&country.currency&&country.currency.length>0){extraContent.push(country.currency.join('|'));}return React.createElement(TouchableOpacity,_extends({key:country.cca2,testID:\"country-selector-\"+country.cca2,onPress:function onPress(){return onSelect(country);}},{activeOpacity:activeOpacity}),React.createElement(View,{style:[styles.itemCountry,{height:itemHeight}]},withFlag&&React.createElement(Flag,_extends({},{withEmoji:withEmoji,countryCode:country.cca2,flagSize:flagSize})),React.createElement(View,{style:styles.itemCountryName},React.createElement(CountryText,{allowFontScaling:false,numberOfLines:2,ellipsizeMode:'tail'},country.name,extraContent.length>0&&\" (\"+extraContent.join(', ')+\")\"))));};CountryItem.defaultProps={withFlag:true,withCallingCode:false};var MemoCountryItem=memo(CountryItem);var renderItem=function renderItem(props){return function(_ref2){var country=_ref2.item;return React.createElement(MemoCountryItem,_extends({},_objectSpread({country:country},props)));};};var keyExtractor=function keyExtractor(item){return item.cca2;};var ItemSeparatorComponent=function ItemSeparatorComponent(){var _useTheme3=useTheme(),primaryColorVariant=_useTheme3.primaryColorVariant;return React.createElement(View,{style:[styles.sep,{borderBottomColor:primaryColorVariant}]});};var _Dimensions$get=Dimensions.get('window'),height=_Dimensions$get.height;export var CountryList=function CountryList(props){var data=props.data,withAlphaFilter=props.withAlphaFilter,withEmoji=props.withEmoji,withFlag=props.withFlag,withCallingCode=props.withCallingCode,withCurrency=props.withCurrency,onSelect=props.onSelect,filter=props.filter,flatListProps=props.flatListProps,filterFocus=props.filterFocus;var flatListRef=useRef(null);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),letter=_useState2[0],setLetter=_useState2[1];var _useTheme4=useTheme(),itemHeight=_useTheme4.itemHeight,backgroundColor=_useTheme4.backgroundColor;var indexLetter=data.map(function(country){return country.name.substr(0,1);}).join('');var scrollTo=function scrollTo(letter){var animated=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var index=indexLetter.indexOf(letter);setLetter(letter);if(flatListRef.current){flatListRef.current.scrollToIndex({animated:animated,index:index});}};var onScrollToIndexFailed=function onScrollToIndexFailed(_info){if(flatListRef.current){flatListRef.current.scrollToEnd();scrollTo(letter);}};var _useContext=useContext(),search=_useContext.search,getLetters=_useContext.getLetters;var letters=getLetters(data);useEffect(function(){if(data&&data.length>0&&filterFocus&&!filter){scrollTo(letters[0],false);}},[filterFocus]);var initialNumToRender=Math.round(height/(itemHeight||1));return React.createElement(View,{style:[styles.container,{backgroundColor:backgroundColor}]},React.createElement(FlatList,_extends({onScrollToIndexFailed:true,ref:flatListRef,testID:'list-countries',keyboardShouldPersistTaps:'handled',automaticallyAdjustContentInsets:false,scrollEventThrottle:1,getItemLayout:function getItemLayout(_data,index){return{length:itemHeight+borderBottomWidth,offset:(itemHeight+borderBottomWidth)*index,index:index};},renderItem:renderItem({withEmoji:withEmoji,withFlag:withFlag,withCallingCode:withCallingCode,withCurrency:withCurrency,onSelect:onSelect})},{data:search(filter,data),keyExtractor:keyExtractor,onScrollToIndexFailed:onScrollToIndexFailed,ItemSeparatorComponent:ItemSeparatorComponent,initialNumToRender:initialNumToRender},flatListProps)),withAlphaFilter&&React.createElement(ScrollView,{contentContainerStyle:styles.letters,keyboardShouldPersistTaps:'always'},letters.map(function(letter){return React.createElement(Letter,_extends({key:letter},{letter:letter,scrollTo:scrollTo}));})));};CountryList.defaultProps={filterFocus:undefined};"]},"metadata":{},"sourceType":"module"}