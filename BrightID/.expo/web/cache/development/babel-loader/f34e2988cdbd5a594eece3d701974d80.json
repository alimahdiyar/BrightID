{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport React, { PureComponent } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport CountryPicker, { getCallingCode, DARK_THEME, DEFAULT_THEME, CountryModalProvider, Flag } from \"react-native-country-picker-modal\";\nimport { PhoneNumberUtil } from \"google-libphonenumber\";\nimport styles from \"./styles\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar dropDown = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAi0lEQVRYR+3WuQ6AIBRE0eHL1T83FBqU5S1szdiY2NyTKcCAzU/Y3AcBXIALcIF0gRPAsehgugDEXnYQrUC88RIgfpuJ+MRrgFmILN4CjEYU4xJgFKIa1wB6Ec24FuBFiHELwIpQxa0ALUId9wAkhCnuBdQQ5ngP4I9wxXsBDyJ9m+8y/g9wAS7ABW4giBshQZji3AAAAABJRU5ErkJggg==\";\nvar phoneUtil = PhoneNumberUtil.getInstance();\n\nvar PhoneInput = function (_PureComponent) {\n  _inherits(PhoneInput, _PureComponent);\n\n  var _super = _createSuper(PhoneInput);\n\n  function PhoneInput(props) {\n    var _this;\n\n    _classCallCheck(this, PhoneInput);\n\n    _this = _super.call(this, props);\n\n    _this.getCountryCode = function () {\n      return _this.state.countryCode;\n    };\n\n    _this.getCallingCode = function () {\n      return _this.state.code;\n    };\n\n    _this.isValidNumber = function (number) {\n      try {\n        var countryCode = _this.state.countryCode;\n        var parsedNumber = phoneUtil.parse(number, countryCode);\n        return phoneUtil.isValidNumber(parsedNumber);\n      } catch (err) {\n        return false;\n      }\n    };\n\n    _this.onSelect = function (country) {\n      var onChangeCountry = _this.props.onChangeCountry;\n\n      _this.setState({\n        countryCode: country.cca2,\n        code: country.callingCode[0]\n      }, function () {\n        var onChangeFormattedText = _this.props.onChangeFormattedText;\n\n        if (onChangeFormattedText) {\n          if (country.callingCode[0]) {\n            onChangeFormattedText(\"+\" + country.callingCode[0] + _this.state.number);\n          } else {\n            onChangeFormattedText(_this.state.number);\n          }\n        }\n      });\n\n      if (onChangeCountry) {\n        onChangeCountry(country);\n      }\n    };\n\n    _this.onChangeText = function (text) {\n      _this.setState({\n        number: text\n      });\n\n      var _this$props = _this.props,\n          onChangeText = _this$props.onChangeText,\n          onChangeFormattedText = _this$props.onChangeFormattedText;\n\n      if (onChangeText) {\n        onChangeText(text);\n      }\n\n      if (onChangeFormattedText) {\n        var code = _this.state.code;\n\n        if (code) {\n          onChangeFormattedText(text.length > 0 ? \"+\" + code + text : text);\n        } else {\n          onChangeFormattedText(text);\n        }\n      }\n    };\n\n    _this.renderDropdownImage = function () {\n      return _jsx(Image, {\n        source: {\n          uri: dropDown\n        },\n        resizeMode: \"contain\",\n        style: styles.dropDownImage\n      });\n    };\n\n    _this.renderFlagButton = function (props) {\n      var _this$props2 = _this.props,\n          _this$props2$layout = _this$props2.layout,\n          layout = _this$props2$layout === void 0 ? \"first\" : _this$props2$layout,\n          flagSize = _this$props2.flagSize;\n      var countryCode = _this.state.countryCode;\n\n      if (layout === \"first\") {\n        return _jsx(Flag, {\n          countryCode: countryCode,\n          flagSize: flagSize ? flagSize : DEFAULT_THEME.flagSize\n        });\n      }\n\n      return _jsx(View, {});\n    };\n\n    _this.state = {\n      code: props.defaultCode ? undefined : \"91\",\n      number: props.value ? props.value : props.defaultValue ? props.defaultValue : \"\",\n      modalVisible: false,\n      countryCode: props.defaultCode ? props.defaultCode : \"IN\",\n      disabled: props.disabled || false\n    };\n    return _this;\n  }\n\n  _createClass(PhoneInput, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var defaultCode, code;\n      return _regeneratorRuntime.async(function componentDidMount$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              defaultCode = this.props.defaultCode;\n\n              if (!defaultCode) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(getCallingCode(defaultCode));\n\n            case 4:\n              code = _context.sent;\n              this.setState({\n                code: code\n              });\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"getNumberAfterPossiblyEliminatingZero\",\n    value: function getNumberAfterPossiblyEliminatingZero() {\n      var _this$state = this.state,\n          number = _this$state.number,\n          code = _this$state.code;\n\n      if (number.length > 0 && number.startsWith(\"0\")) {\n        number = number.substr(1);\n        return {\n          number: number,\n          formattedNumber: code ? \"+\" + code + number : number\n        };\n      } else {\n        return {\n          number: number,\n          formattedNumber: code ? \"+\" + code + number : number\n        };\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props3 = this.props,\n          withShadow = _this$props3.withShadow,\n          withDarkTheme = _this$props3.withDarkTheme,\n          codeTextStyle = _this$props3.codeTextStyle,\n          textInputProps = _this$props3.textInputProps,\n          textInputStyle = _this$props3.textInputStyle,\n          autoFocus = _this$props3.autoFocus,\n          placeholder = _this$props3.placeholder,\n          disableArrowIcon = _this$props3.disableArrowIcon,\n          flagButtonStyle = _this$props3.flagButtonStyle,\n          containerStyle = _this$props3.containerStyle,\n          textContainerStyle = _this$props3.textContainerStyle,\n          renderDropdownImage = _this$props3.renderDropdownImage,\n          _this$props3$countryP = _this$props3.countryPickerProps,\n          countryPickerProps = _this$props3$countryP === void 0 ? {} : _this$props3$countryP,\n          _this$props3$filterPr = _this$props3.filterProps,\n          filterProps = _this$props3$filterPr === void 0 ? {} : _this$props3$filterPr,\n          countryPickerButtonStyle = _this$props3.countryPickerButtonStyle,\n          _this$props3$layout = _this$props3.layout,\n          layout = _this$props3$layout === void 0 ? \"first\" : _this$props3$layout;\n      var _this$state2 = this.state,\n          modalVisible = _this$state2.modalVisible,\n          code = _this$state2.code,\n          countryCode = _this$state2.countryCode,\n          number = _this$state2.number,\n          disabled = _this$state2.disabled;\n      return _jsx(CountryModalProvider, {\n        children: _jsxs(View, {\n          style: [styles.container, withShadow ? styles.shadow : {}, containerStyle ? containerStyle : {}],\n          children: [_jsxs(TouchableOpacity, {\n            style: [styles.flagButtonView, layout === \"second\" ? styles.flagButtonExtraWidth : {}, flagButtonStyle ? flagButtonStyle : {}, countryPickerButtonStyle ? countryPickerButtonStyle : {}],\n            disabled: disabled,\n            onPress: function onPress() {\n              return _this2.setState({\n                modalVisible: true\n              });\n            },\n            children: [_jsx(CountryPicker, _objectSpread({\n              onSelect: this.onSelect,\n              withEmoji: true,\n              withFilter: true,\n              withFlag: true,\n              filterProps: filterProps,\n              countryCode: countryCode,\n              withCallingCode: true,\n              disableNativeModal: disabled,\n              visible: modalVisible,\n              theme: withDarkTheme ? DARK_THEME : DEFAULT_THEME,\n              renderFlagButton: this.renderFlagButton,\n              onClose: function onClose() {\n                return _this2.setState({\n                  modalVisible: false\n                });\n              }\n            }, countryPickerProps)), code && layout === \"second\" && _jsx(Text, {\n              style: [styles.codeText, codeTextStyle ? codeTextStyle : {}],\n              children: \"+\" + code\n            }), !disableArrowIcon && _jsx(React.Fragment, {\n              children: renderDropdownImage ? renderDropdownImage : this.renderDropdownImage()\n            })]\n          }), _jsxs(View, {\n            style: [styles.textContainer, textContainerStyle ? textContainerStyle : {}],\n            children: [code && layout === \"first\" && _jsx(Text, {\n              style: [styles.codeText, codeTextStyle ? codeTextStyle : {}],\n              children: \"+\" + code\n            }), _jsx(TextInput, _objectSpread({\n              style: [styles.numberText, textInputStyle ? textInputStyle : {}],\n              placeholder: placeholder ? placeholder : \"Phone Number\",\n              onChangeText: this.onChangeText,\n              value: number,\n              editable: disabled ? false : true,\n              selectionColor: \"black\",\n              keyboardAppearance: withDarkTheme ? \"dark\" : \"default\",\n              keyboardType: \"number-pad\",\n              autoFocus: autoFocus\n            }, textInputProps))]\n          })]\n        })\n      });\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (nextProps.disabled !== prevState.disabled) {\n        if ((nextProps.value || nextProps.value === \"\") && nextProps.value !== prevState.number) {\n          return {\n            disabled: nextProps.disabled,\n            number: nextProps.value\n          };\n        }\n\n        return {\n          disabled: nextProps.disabled\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return PhoneInput;\n}(PureComponent);\n\nexport { PhoneInput as default };\nexport var isValidNumber = function isValidNumber(number, countryCode) {\n  try {\n    var parsedNumber = phoneUtil.parse(number, countryCode);\n    return phoneUtil.isValidNumber(parsedNumber);\n  } catch (err) {\n    return false;\n  }\n};","map":{"version":3,"sources":["/home/ali/Desktop/brightid/BrightID/BrightID/node_modules/react-native-phone-number-input/lib/index.js"],"names":["dropDown","phoneUtil","PhoneNumberUtil","PhoneInput","PureComponent","code","props","number","modalVisible","countryCode","disabled","nextProps","prevState","defaultCode","getCallingCode","parsedNumber","onChangeCountry","country","onChangeFormattedText","onChangeText","text","formattedNumber","uri","styles","layout","flagSize","DEFAULT_THEME","withShadow","withDarkTheme","codeTextStyle","textInputProps","textInputStyle","autoFocus","placeholder","disableArrowIcon","flagButtonStyle","containerStyle","textContainerStyle","renderDropdownImage","countryPickerProps","filterProps","countryPickerButtonStyle","isValidNumber"],"mappings":"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","sourcesContent":["import React, { PureComponent } from \"react\";\nimport { View, Text, TouchableOpacity, Image, TextInput } from \"react-native\";\nimport CountryPicker, {\n  getCallingCode,\n  DARK_THEME,\n  DEFAULT_THEME,\n  CountryModalProvider,\n  Flag,\n} from \"react-native-country-picker-modal\";\nimport { PhoneNumberUtil } from \"google-libphonenumber\";\nimport styles from \"./styles\";\n\nconst dropDown =\n  \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAi0lEQVRYR+3WuQ6AIBRE0eHL1T83FBqU5S1szdiY2NyTKcCAzU/Y3AcBXIALcIF0gRPAsehgugDEXnYQrUC88RIgfpuJ+MRrgFmILN4CjEYU4xJgFKIa1wB6Ec24FuBFiHELwIpQxa0ALUId9wAkhCnuBdQQ5ngP4I9wxXsBDyJ9m+8y/g9wAS7ABW4giBshQZji3AAAAABJRU5ErkJggg==\";\nconst phoneUtil = PhoneNumberUtil.getInstance();\n\nexport default class PhoneInput extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      code: props.defaultCode ? undefined : \"91\",\n      number: props.value\n        ? props.value\n        : props.defaultValue\n        ? props.defaultValue\n        : \"\",\n      modalVisible: false,\n      countryCode: props.defaultCode ? props.defaultCode : \"IN\",\n      disabled: props.disabled || false,\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.disabled !== prevState.disabled) {\n      if ((nextProps.value || nextProps.value === \"\") && nextProps.value !== prevState.number) {\n        return ({ disabled: nextProps.disabled, number: nextProps.value });\n      }\n      return ({ disabled: nextProps.disabled });\n    }\n    return null;\n  };\n\n  async componentDidMount() {\n    const { defaultCode } = this.props;\n    if (defaultCode) {\n      const code = await getCallingCode(defaultCode);\n      this.setState({ code });\n    }\n  }\n\n  getCountryCode = () => {\n    return this.state.countryCode;\n  };\n\n  getCallingCode = () => {\n    return this.state.code;\n  };\n\n  isValidNumber = (number) => {\n    try {\n      const { countryCode } = this.state;\n      const parsedNumber = phoneUtil.parse(number, countryCode);\n      return phoneUtil.isValidNumber(parsedNumber);\n    } catch (err) {\n      return false;\n    }\n  };\n\n  onSelect = (country) => {\n    const { onChangeCountry } = this.props;\n    this.setState(\n      {\n        countryCode: country.cca2,\n        code: country.callingCode[0],\n      },\n      () => {\n        const { onChangeFormattedText } = this.props;\n        if (onChangeFormattedText) {\n          if (country.callingCode[0]) {\n            onChangeFormattedText(\n              `+${country.callingCode[0]}${this.state.number}`\n            );\n          } else {\n            onChangeFormattedText(this.state.number);\n          }\n        }\n      }\n    );\n    if (onChangeCountry) {\n      onChangeCountry(country);\n    }\n  };\n\n  onChangeText = (text) => {\n    this.setState({ number: text });\n    const { onChangeText, onChangeFormattedText } = this.props;\n    if (onChangeText) {\n      onChangeText(text);\n    }\n    if (onChangeFormattedText) {\n      const { code } = this.state;\n      if (code) {\n        onChangeFormattedText(text.length > 0 ? `+${code}${text}` : text);\n      } else {\n        onChangeFormattedText(text);\n      }\n    }\n  };\n\n  getNumberAfterPossiblyEliminatingZero() {\n    let { number, code } = this.state;\n    if (number.length > 0 && number.startsWith(\"0\")) {\n      number = number.substr(1);\n      return { number, formattedNumber: code ? `+${code}${number}` : number };\n    } else {\n      return { number, formattedNumber: code ? `+${code}${number}` : number };\n    }\n  }\n\n  renderDropdownImage = () => {\n    return (\n      <Image\n        source={{ uri: dropDown }}\n        resizeMode=\"contain\"\n        style={styles.dropDownImage}\n      />\n    );\n  };\n\n  renderFlagButton = (props) => {\n    const { layout = \"first\", flagSize } = this.props;\n    const { countryCode } = this.state;\n    if (layout === \"first\") {\n      return (\n        <Flag\n          countryCode={countryCode}\n          flagSize={flagSize ? flagSize : DEFAULT_THEME.flagSize}\n        />\n      );\n    }\n    return <View />;\n  };\n\n  render() {\n    const {\n      withShadow,\n      withDarkTheme,\n      codeTextStyle,\n      textInputProps,\n      textInputStyle,\n      autoFocus,\n      placeholder,\n      disableArrowIcon,\n      flagButtonStyle,\n      containerStyle,\n      textContainerStyle,\n      renderDropdownImage,\n      countryPickerProps = {},\n      filterProps = {},\n      countryPickerButtonStyle,\n      layout = \"first\",\n    } = this.props;\n    const { modalVisible, code, countryCode, number, disabled } = this.state;\n    return (\n      <CountryModalProvider>\n        <View\n          style={[\n            styles.container,\n            withShadow ? styles.shadow : {},\n            containerStyle ? containerStyle : {},\n          ]}\n        >\n          <TouchableOpacity\n            style={[\n              styles.flagButtonView,\n              layout === \"second\" ? styles.flagButtonExtraWidth : {},\n              flagButtonStyle ? flagButtonStyle : {},\n              countryPickerButtonStyle ? countryPickerButtonStyle : {},\n            ]}\n            disabled={disabled}\n            onPress={() => this.setState({ modalVisible: true })}\n          >\n            <CountryPicker\n              onSelect={this.onSelect}\n              withEmoji\n              withFilter\n              withFlag\n              filterProps={filterProps}\n              countryCode={countryCode}\n              withCallingCode\n              disableNativeModal={disabled}\n              visible={modalVisible}\n              theme={withDarkTheme ? DARK_THEME : DEFAULT_THEME}\n              renderFlagButton={this.renderFlagButton}\n              onClose={() => this.setState({ modalVisible: false })}\n              {...countryPickerProps}\n            />\n            {code && layout === \"second\" && (\n              <Text\n                style={[styles.codeText, codeTextStyle ? codeTextStyle : {}]}\n              >{`+${code}`}</Text>\n            )}\n            {!disableArrowIcon && (\n              <React.Fragment>\n                {renderDropdownImage\n                  ? renderDropdownImage\n                  : this.renderDropdownImage()}\n              </React.Fragment>\n            )}\n          </TouchableOpacity>\n          <View\n            style={[\n              styles.textContainer,\n              textContainerStyle ? textContainerStyle : {},\n            ]}\n          >\n            {code && layout === \"first\" && (\n              <Text\n                style={[styles.codeText, codeTextStyle ? codeTextStyle : {}]}\n              >{`+${code}`}</Text>\n            )}\n            <TextInput\n              style={[styles.numberText, textInputStyle ? textInputStyle : {}]}\n              placeholder={placeholder ? placeholder : \"Phone Number\"}\n              onChangeText={this.onChangeText}\n              value={number}\n              editable={disabled ? false : true}\n              selectionColor=\"black\"\n              keyboardAppearance={withDarkTheme ? \"dark\" : \"default\"}\n              keyboardType=\"number-pad\"\n              autoFocus={autoFocus}\n              {...textInputProps}\n            />\n          </View>\n        </View>\n      </CountryModalProvider>\n    );\n  }\n}\n\nexport const isValidNumber = (number, countryCode) => {\n  try {\n    const parsedNumber = phoneUtil.parse(number, countryCode);\n    return phoneUtil.isValidNumber(parsedNumber);\n  } catch (err) {\n    return false;\n  }\n};"]},"metadata":{},"sourceType":"module"}