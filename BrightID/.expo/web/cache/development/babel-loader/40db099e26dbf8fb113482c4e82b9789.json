{"ast":null,"code":"import React, { useEffect, useRef } from 'react';\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { useDispatch, useSelector } from \"../../store\";\nimport { useTranslation } from 'react-i18next';\nimport Ionicon from \"@expo/vector-icons/Ionicons\";\nimport { DEVICE_LARGE, DEVICE_IOS } from \"../../utils/deviceConstants\";\nimport { fontSize } from \"../../theme/fonts\";\nimport Search from \"../Icons/Search\";\nimport { GREY, LIGHT_BLACK, WHITE } from \"../../theme/colors\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar X_TRANSFORM = DEVICE_LARGE ? 250 : 195;\n\nvar AnimatedTopSearchBar = function AnimatedTopSearchBar(_ref) {\n  var sortable = _ref.sortable,\n      _ref$handleSort = _ref.handleSort,\n      handleSort = _ref$handleSort === void 0 ? function () {\n    return null;\n  } : _ref$handleSort,\n      setSearchValue = _ref.setSearchValue,\n      setSearchOpen = _ref.setSearchOpen,\n      searchOpenSelector = _ref.searchOpenSelector;\n  var dispatch = useDispatch();\n  var textInput = useRef(null);\n  var searchOpen = useSelector(searchOpenSelector);\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  useEffect(function () {\n    return function () {\n      console.log('clearing search param');\n      dispatch(setSearchValue(''));\n      dispatch(setSearchOpen(false));\n    };\n  }, []);\n  var leftAnim = useRef(new Animated.Value(X_TRANSFORM)).current;\n\n  var getPidded = function getPidded() {\n    if (searchOpen) {\n      var _textInput$current, _textInput$current2;\n\n      dispatch(setSearchValue(''));\n      (_textInput$current = textInput.current) == null ? void 0 : _textInput$current.clear();\n      (_textInput$current2 = textInput.current) == null ? void 0 : _textInput$current2.blur();\n    } else {\n      var _textInput$current3;\n\n      (_textInput$current3 = textInput.current) == null ? void 0 : _textInput$current3.focus();\n    }\n\n    dispatch(setSearchOpen(!searchOpen));\n    Animated.spring(leftAnim, {\n      toValue: searchOpen ? X_TRANSFORM : 0,\n      useNativeDriver: true\n    }).start();\n  };\n\n  return _jsxs(Animated.View, {\n    style: [styles.container, {\n      transform: [{\n        translateX: leftAnim\n      }]\n    }],\n    children: [_jsx(TouchableOpacity, {\n      style: styles.searchIcon,\n      onPress: getPidded,\n      testID: \"SearchBarBtn\",\n      children: _jsx(Search, {\n        width: DEVICE_LARGE ? 20 : 18,\n        height: DEVICE_LARGE ? 20 : 18\n      })\n    }), _jsx(TextInput, {\n      testID: \"SearchParam\",\n      ref: textInput,\n      onChangeText: function onChangeText(value) {\n        dispatch(setSearchValue(value));\n      },\n      style: [styles.searchField, DEVICE_IOS && {\n        height: DEVICE_LARGE ? 33 : 26\n      }],\n      placeholder: t('common.placeholder.searchConnections'),\n      autoCapitalize: \"words\",\n      autoCorrect: false,\n      textContentType: \"none\",\n      underlineColorAndroid: \"transparent\",\n      placeholderTextColor: GREY,\n      clearTextOnFocus: true,\n      onFocus: function onFocus() {\n        dispatch(setSearchValue(''));\n      }\n    }), sortable && _jsx(TouchableOpacity, {\n      onPress: handleSort,\n      style: styles.optionsIcon,\n      children: _jsx(Ionicon, {\n        size: DEVICE_LARGE ? 22 : 20,\n        name: \"ios-options\",\n        color: LIGHT_BLACK\n      })\n    })]\n  });\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flexDirection: 'row',\n    width: X_TRANSFORM + 50,\n    height: DEVICE_LARGE ? 40 : 36,\n    borderTopLeftRadius: 20,\n    borderBottomLeftRadius: 20,\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    backgroundColor: WHITE\n  },\n  searchIcon: {\n    marginLeft: 15\n  },\n  optionsIcon: {\n    marginLeft: 10,\n    marginRight: 8.8,\n    marginTop: 3\n  },\n  searchField: {\n    fontFamily: 'ApexNew-Book',\n    fontSize: fontSize[15],\n    color: LIGHT_BLACK,\n    marginLeft: DEVICE_LARGE ? 23 : 20,\n    flex: 1,\n    fontWeight: 'normal',\n    fontStyle: 'normal',\n    letterSpacing: 0,\n    padding: 0,\n    alignItems: 'center'\n  }\n});\nexport default AnimatedTopSearchBar;","map":{"version":3,"names":["React","useEffect","useRef","useDispatch","useSelector","useTranslation","Ionicon","DEVICE_LARGE","DEVICE_IOS","fontSize","Search","GREY","LIGHT_BLACK","WHITE","X_TRANSFORM","AnimatedTopSearchBar","sortable","handleSort","setSearchValue","setSearchOpen","searchOpenSelector","dispatch","textInput","searchOpen","t","console","log","leftAnim","Animated","Value","current","getPidded","clear","blur","focus","spring","toValue","useNativeDriver","start","styles","container","transform","translateX","searchIcon","value","searchField","height","optionsIcon","StyleSheet","create","flexDirection","width","borderTopLeftRadius","borderBottomLeftRadius","justifyContent","alignItems","backgroundColor","marginLeft","marginRight","marginTop","fontFamily","color","flex","fontWeight","fontStyle","letterSpacing","padding"],"sources":["/home/ali/Desktop/brightid/BrightID/BrightID/src/components/Helpers/AnimatedTopSearchBar.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport {\n  Animated,\n  TextInput,\n  TouchableOpacity,\n  StyleSheet,\n} from 'react-native';\n\nimport { useDispatch, useSelector } from '@/store';\nimport { useTranslation } from 'react-i18next';\nimport Ionicon from 'react-native-vector-icons/Ionicons';\nimport { DEVICE_LARGE, DEVICE_IOS } from '@/utils/deviceConstants';\nimport { fontSize } from '@/theme/fonts';\nimport Search from '@/components/Icons/Search';\nimport { GREY, LIGHT_BLACK, WHITE } from '@/theme/colors';\n\n/**\n * Search Bar in the Connections Screen\n * TODO: Add functionality for the Ionicons\n * TODO: add search filter in redux actions\n */\nconst X_TRANSFORM = DEVICE_LARGE ? 250 : 195;\n\nconst AnimatedTopSearchBar = ({\n  sortable,\n  handleSort = () => null,\n  setSearchValue,\n  setSearchOpen,\n  searchOpenSelector,\n}) => {\n  const dispatch = useDispatch();\n  const textInput = useRef<TextInput>(null);\n  const searchOpen = useSelector(searchOpenSelector);\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    // reset search Param\n    return () => {\n      console.log('clearing search param');\n      dispatch(setSearchValue(''));\n      dispatch(setSearchOpen(false));\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const leftAnim = useRef(new Animated.Value(X_TRANSFORM)).current;\n\n  const getPidded = () => {\n    if (searchOpen) {\n      dispatch(setSearchValue(''));\n      textInput.current?.clear();\n      textInput.current?.blur();\n    } else {\n      textInput.current?.focus();\n    }\n\n    dispatch(setSearchOpen(!searchOpen));\n    Animated.spring(leftAnim, {\n      toValue: searchOpen ? X_TRANSFORM : 0,\n      useNativeDriver: true,\n    }).start();\n  };\n\n  return (\n    <Animated.View\n      style={[\n        styles.container,\n        {\n          transform: [\n            {\n              translateX: leftAnim,\n            },\n          ],\n        },\n      ]}\n    >\n      <TouchableOpacity\n        style={styles.searchIcon}\n        onPress={getPidded}\n        testID=\"SearchBarBtn\"\n      >\n        <Search\n          width={DEVICE_LARGE ? 20 : 18}\n          height={DEVICE_LARGE ? 20 : 18}\n        />\n      </TouchableOpacity>\n      <TextInput\n        testID=\"SearchParam\"\n        ref={textInput}\n        onChangeText={(value) => {\n          dispatch(setSearchValue(value));\n        }}\n        style={[\n          styles.searchField,\n          DEVICE_IOS && { height: DEVICE_LARGE ? 33 : 26 },\n        ]}\n        placeholder={t('common.placeholder.searchConnections')}\n        autoCapitalize=\"words\"\n        autoCorrect={false}\n        textContentType=\"none\"\n        underlineColorAndroid=\"transparent\"\n        placeholderTextColor={GREY}\n        clearTextOnFocus={true}\n        onFocus={() => {\n          dispatch(setSearchValue(''));\n        }}\n      />\n      {sortable && (\n        <TouchableOpacity onPress={handleSort} style={styles.optionsIcon}>\n          <Ionicon\n            size={DEVICE_LARGE ? 22 : 20}\n            name=\"ios-options\"\n            color={LIGHT_BLACK}\n          />\n        </TouchableOpacity>\n      )}\n    </Animated.View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: 'row',\n    width: X_TRANSFORM + 50,\n    height: DEVICE_LARGE ? 40 : 36,\n    borderTopLeftRadius: 20,\n    borderBottomLeftRadius: 20,\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    backgroundColor: WHITE,\n  },\n  searchIcon: {\n    marginLeft: 15,\n  },\n  optionsIcon: {\n    marginLeft: 10,\n    marginRight: 8.8,\n    marginTop: 3,\n  },\n  searchField: {\n    fontFamily: 'ApexNew-Book',\n    fontSize: fontSize[15],\n    color: LIGHT_BLACK,\n    marginLeft: DEVICE_LARGE ? 23 : 20,\n    flex: 1,\n    fontWeight: 'normal',\n    fontStyle: 'normal',\n    letterSpacing: 0,\n    padding: 0,\n    alignItems: 'center',\n  },\n});\n\nexport default AnimatedTopSearchBar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}