{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar _reasons;\n\nimport { useContext, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport i18next from 'i18next';\nimport BlurWidget from '@/components/BlurWidget/BlurWidget.web';\nimport Material from \"@expo/vector-icons/MaterialCommunityIcons\";\nimport { useTranslation } from 'react-i18next';\nimport { DEVICE_LARGE } from \"../../utils/deviceConstants\";\nimport { useDispatch } from \"../../store\";\nimport { connection_levels, report_reasons, report_sources } from \"../../utils/constants\";\nimport { ORANGE, WHITE, BLUE, BLACK, DARKER_GREY, GREEN } from \"../../theme/colors\";\nimport { fontSize } from \"../../theme/fonts\";\nimport { setReportReason } from \"../../reducer/connectionsSlice\";\nimport { NodeApiContext } from \"../NodeApiGate\";\nimport { setConnectionLevel } from \"../../actions\";\nimport { reportConnection } from \"./models/reportConnection\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar reasons = (_reasons = {}, _defineProperty(_reasons, report_sources.RECONNECT, [{\n  reason: report_reasons.SPAMMER,\n  description: i18next.t('connectionDetails.text.reportSpammer')\n}, {\n  reason: report_reasons.DUPLICATE,\n  description: i18next.t('connectionDetails.text.reportSuspicious')\n}, {\n  reason: report_reasons.OTHER,\n  description: i18next.t('connectionDetails.text.reportOther')\n}]), _defineProperty(_reasons, report_sources.PREVIEW, [{\n  reason: report_reasons.SPAMMER,\n  description: i18next.t('connectionDetails.text.reportSpammer')\n}, {\n  reason: report_reasons.DUPLICATE,\n  description: i18next.t('connectionDetails.text.reportDuplicate')\n}, {\n  reason: report_reasons.OTHER,\n  description: i18next.t('connectionDetails.text.reportOther')\n}]), _defineProperty(_reasons, report_sources.PROFILE, [{\n  reason: report_reasons.REPLACED,\n  description: i18next.t('connectionDetails.text.reportReplaced')\n}, {\n  reason: report_reasons.DUPLICATE,\n  description: i18next.t('connectionDetails.text.reportDuplicate')\n}, {\n  reason: report_reasons.OTHER,\n  description: i18next.t('connectionDetails.text.reportOther')\n}]), _reasons);\n\nvar ReportReasonModal = function ReportReasonModal(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  var _route$params = route.params,\n      connectionId = _route$params.connectionId,\n      connectionName = _route$params.connectionName,\n      reportReason = _route$params.reportReason,\n      successCallback = _route$params.successCallback,\n      reporting = _route$params.reporting,\n      source = _route$params.source;\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var api = useContext(NodeApiContext);\n  var dispatch = useDispatch();\n\n  var _useState = useState(undefined),\n      _useState2 = _slicedToArray(_useState, 2),\n      reason = _useState2[0],\n      setReason = _useState2[1];\n\n  var confirmReport = function confirmReport() {\n    if (reporting) {\n      console.log(\"Reporting connection \" + connectionName + \" with reason \" + reason);\n      navigation.goBack();\n\n      if (reporting && source === report_sources.PROFILE) {\n        dispatch(reportConnection({\n          id: connectionId,\n          reason: reason,\n          api: api\n        }));\n      }\n    } else {\n      navigation.goBack();\n      navigation.navigate('SetTrustlevel', {\n        connectionId: connectionId\n      });\n      dispatch(setConnectionLevel({\n        id: connectionId,\n        level: connection_levels.SUSPICIOUS\n      }));\n      dispatch(setReportReason({\n        id: connectionId,\n        reason: null\n      }));\n    }\n\n    if (successCallback) {\n      successCallback(reason);\n    }\n  };\n\n  var cancelReport = function cancelReport() {\n    navigation.goBack();\n  };\n\n  var renderReasonButton = function renderReasonButton(btnReason) {\n    var _reasons$source$find;\n\n    var active = btnReason === reason;\n    return _jsxs(TouchableOpacity, {\n      testID: btnReason + \"-RadioBtn\",\n      onPress: function onPress() {\n        return setReason(btnReason);\n      },\n      style: styles.radioButton,\n      children: [_jsx(View, {\n        style: styles.radioCircle,\n        children: active && _jsx(View, {\n          style: styles.radioInnerCircle\n        })\n      }), _jsx(View, {\n        style: styles.radioLabel,\n        children: _jsx(Text, {\n          style: styles.radioLabelText,\n          children: (_reasons$source$find = reasons[source].find(function (r) {\n            return r.reason === btnReason;\n          })) == null ? void 0 : _reasons$source$find.description\n        })\n      })]\n    }, btnReason);\n  };\n\n  var reportConnectionText = t(\"connectionDetails.text.\" + (source === report_sources.PROFILE ? 'remove' : 'report') + \"Connection\", {\n    name: connectionName\n  });\n  var unReportConnectionText = t('connectionDetails.text.unReportConnection', {\n    name: connectionName\n  });\n  var reportConnectionDetailsText = t(\"connectionDetails.text.why\" + (source === report_sources.PROFILE ? 'remove' : 'report'), 'Please tell us why you want to remove this connection');\n  var unReportConnectionDetailsText = t('connectionDetails.text.unReportImpact', {\n    name: connectionName,\n    reportReason: reportReason\n  });\n  var submitDisabled = reporting && !reason;\n  return _jsxs(View, {\n    style: styles.container,\n    testID: \"ReportReasonModal\",\n    children: [_jsx(BlurView, {\n      style: styles.blurView,\n      blurType: \"dark\",\n      blurAmount: 5,\n      reducedTransparencyFallbackColor: BLACK\n    }), _jsxs(View, {\n      style: styles.modalContainer,\n      children: [_jsx(View, {\n        style: styles.header,\n        children: _jsx(Text, {\n          style: styles.headerText,\n          children: reporting ? reportConnectionText : unReportConnectionText\n        })\n      }), _jsxs(View, {\n        style: styles.message,\n        children: [_jsx(Material, {\n          name: \"information\",\n          size: 26,\n          color: BLUE\n        }), _jsx(Text, {\n          style: styles.messageText,\n          children: reporting ? reportConnectionDetailsText : unReportConnectionDetailsText\n        })]\n      }), _jsx(View, {\n        style: styles.divider\n      }), reporting && _jsx(View, {\n        style: styles.radioButtonsContainer,\n        children: reasons[source].map(function (r) {\n          return renderReasonButton(r.reason);\n        })\n      }), _jsxs(View, {\n        style: styles.modalButtons,\n        children: [_jsx(TouchableOpacity, {\n          testID: \"SubmitReportBtn\",\n          style: [styles.modalButton, styles.submitButton],\n          onPress: confirmReport,\n          disabled: submitDisabled,\n          children: _jsx(Text, {\n            style: submitDisabled ? styles.submitButtonDisabledText : styles.submitButtonText,\n            children: reporting ? t('connectionDetails.button.reportSubmit') : t('connectionDetails.button.ok')\n          })\n        }), _jsx(TouchableOpacity, {\n          testID: \"CancelReportBtn\",\n          style: [styles.modalButton, styles.cancelButton],\n          onPress: cancelReport,\n          children: _jsx(Text, {\n            style: styles.cancelButtonText,\n            children: t('connectionDetails.button.reportCancel')\n          })\n        })]\n      })]\n    })]\n  });\n};\n\nvar styles = StyleSheet.create({\n  blurView: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0\n  },\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  modalContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: WHITE,\n    width: '90%',\n    borderRadius: 25,\n    padding: DEVICE_LARGE ? 30 : 25\n  },\n  header: {\n    marginTop: 5,\n    marginBottom: 25\n  },\n  headerText: {\n    fontFamily: 'Poppins-Bold',\n    fontSize: fontSize[22],\n    textAlign: 'center'\n  },\n  message: {\n    flexDirection: 'row'\n  },\n  messageText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[13],\n    textAlign: 'left',\n    marginLeft: 10,\n    color: DARKER_GREY\n  },\n  divider: {\n    borderTopWidth: StyleSheet.hairlineWidth,\n    borderTopColor: ORANGE,\n    width: '105%',\n    height: 1,\n    marginTop: DEVICE_LARGE ? 24 : 22,\n    marginBottom: DEVICE_LARGE ? 24 : 22\n  },\n  buttonContainer: {\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  radioButtonsContainer: {\n    marginLeft: 10,\n    marginBottom: 20\n  },\n  radioButton: {\n    flexDirection: 'row',\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n    marginTop: 8,\n    marginBottom: 8\n  },\n  radioCircle: {\n    height: 20,\n    width: 20,\n    borderRadius: 10,\n    borderWidth: 3,\n    borderColor: ORANGE,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  radioInnerCircle: {\n    height: 10,\n    width: 10,\n    borderRadius: 10,\n    backgroundColor: ORANGE\n  },\n  radioLabel: {\n    marginLeft: DEVICE_LARGE ? 12 : 10,\n    marginRight: DEVICE_LARGE ? 12 : 10\n  },\n  radioLabelText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[15],\n    color: BLACK\n  },\n  modalButtons: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginTop: 10\n  },\n  modalButton: {\n    flex: 1,\n    paddingTop: 10,\n    paddingBottom: 10,\n    marginLeft: 10,\n    marginRight: 10,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  cancelButton: {\n    backgroundColor: WHITE,\n    borderRadius: 50,\n    borderColor: DARKER_GREY,\n    borderWidth: 1\n  },\n  cancelButtonText: {\n    fontFamily: 'Poppins-Bold',\n    fontSize: fontSize[15],\n    color: DARKER_GREY\n  },\n  submitButton: {\n    backgroundColor: GREEN,\n    borderRadius: 50,\n    borderColor: GREEN,\n    borderWidth: 1\n  },\n  submitButtonText: {\n    fontFamily: 'Poppins-Bold',\n    fontSize: fontSize[15],\n    color: BLACK\n  },\n  submitButtonDisabledText: {\n    fontFamily: 'Poppins-Bold',\n    fontSize: fontSize[15],\n    color: DARKER_GREY\n  }\n});\nexport default ReportReasonModal;","map":{"version":3,"sources":["/home/ali/Desktop/brightid/BrightID/BrightID/src/components/Connections/ReportReasonModal.tsx"],"names":["reasons","report_sources","reason","report_reasons","description","i18next","ReportReasonModal","route","navigation","connectionId","connectionName","reportReason","successCallback","reporting","source","t","useTranslation","api","useContext","dispatch","useDispatch","setReason","useState","confirmReport","console","reportConnection","id","setConnectionLevel","level","connection_levels","setReportReason","cancelReport","renderReasonButton","active","btnReason","styles","r","reportConnectionText","name","unReportConnectionText","reportConnectionDetailsText","unReportConnectionDetailsText","submitDisabled","StyleSheet","blurView","position","left","right","top","bottom","container","flex","alignItems","justifyContent","modalContainer","backgroundColor","width","borderRadius","padding","DEVICE_LARGE","header","marginTop","marginBottom","headerText","fontFamily","fontSize","textAlign","message","flexDirection","messageText","marginLeft","color","divider","borderTopWidth","borderTopColor","height","buttonContainer","radioButtonsContainer","radioButton","radioCircle","borderWidth","borderColor","radioInnerCircle","radioLabel","marginRight","radioLabelText","modalButtons","modalButton","paddingTop","paddingBottom","cancelButton","cancelButtonText","submitButton","submitButtonText","submitButtonDisabledText"],"mappings":";;;;;AAAA,SAAA,UAAA,EAAA,QAAA,QAAA,OAAA;;;;;AAEA,OAAA,OAAA,MAAA,SAAA;AACA,SAAA,QAAA,QAAA,8BAAA;AACA,OAAA,QAAA,MAAA,2CAAA;AACA,SAAA,cAAA,QAAA,eAAA;AAEA,SAAA,YAAA;AACA,SAAA,WAAA;AACA,SAAA,iBAAA,EAAA,cAAA,EAAA,cAAA;AAKA,SAAA,MAAA,EAAA,KAAA,EAAA,IAAA,EAAA,KAAA,EAAA,WAAA,EAAA,KAAA;AACA,SAAA,QAAA;AACA,SAAA,eAAA;AACA,SAAA,cAAA;AACA,SAAA,kBAAA;AACA,SAAA,gBAAA;;;AAEA,IAAMA,OAAO,IAAA,QAAA,GAAA,EAAA,EAAA,eAAA,CAAA,QAAA,EACVC,cAAc,CADJ,SAAA,EACiB,CAC1B;EACEC,MAAM,EAAEC,cAAc,CADxB,OAAA;EAEEC,WAAW,EAAEC,OAAO,CAAPA,CAAAA,CAHW,sCAGXA;AAFf,CAD0B,EAK1B;EACEH,MAAM,EAAEC,cAAc,CADxB,SAAA;EAEEC,WAAW,EAAEC,OAAO,CAAPA,CAAAA,CAPW,yCAOXA;AAFf,CAL0B,EAS1B;EACEH,MAAM,EAAEC,cAAc,CADxB,KAAA;EAEEC,WAAW,EAAEC,OAAO,CAAPA,CAAAA,CAZN,oCAYMA;AAFf,CAT0B,CADjB,CAAA,EAAA,eAAA,CAAA,QAAA,EAeVJ,cAAc,CAfJ,OAAA,EAee,CACxB;EACEC,MAAM,EAAEC,cAAc,CADxB,OAAA;EAEEC,WAAW,EAAEC,OAAO,CAAPA,CAAAA,CAHS,sCAGTA;AAFf,CADwB,EAKxB;EACEH,MAAM,EAAEC,cAAc,CADxB,SAAA;EAEEC,WAAW,EAAEC,OAAO,CAAPA,CAAAA,CAPS,wCAOTA;AAFf,CALwB,EASxB;EACEH,MAAM,EAAEC,cAAc,CADxB,KAAA;EAEEC,WAAW,EAAEC,OAAO,CAAPA,CAAAA,CA1BN,oCA0BMA;AAFf,CATwB,CAff,CAAA,EAAA,eAAA,CAAA,QAAA,EA6BVJ,cAAc,CA7BJ,OAAA,EA6Be,CACxB;EACEC,MAAM,EAAEC,cAAc,CADxB,QAAA;EAEEC,WAAW,EAAEC,OAAO,CAAPA,CAAAA,CAHS,uCAGTA;AAFf,CADwB,EAKxB;EACEH,MAAM,EAAEC,cAAc,CADxB,SAAA;EAEEC,WAAW,EAAEC,OAAO,CAAPA,CAAAA,CAPS,wCAOTA;AAFf,CALwB,EASxB;EACEH,MAAM,EAAEC,cAAc,CADxB,KAAA;EAEEC,WAAW,EAAEC,OAAO,CAAPA,CAAAA,CAxCN,oCAwCMA;AAFf,CATwB,CA7Bf,CAAA,EAAb,QAAa,CAAb;;AA+CA,IAAMC,iBAAiB,GAAjBA,SAAAA,iBAAAA,CAAoB,IAApBA,EAAsD;EAA/BC,IAAAA,KAA+B,GAAA,IAAA,CAA/BA,KAAAA;EAAAA,IAAOC,UAAwB,GAAA,IAAA,CAAxBA,UAAPD;EAC3B,IAAA,aAAA,GAOIA,KAAK,CAPT,MAAA;EAAA,IACEE,YADF,GAAA,aAAA,CAAA,YAAA;EAAA,IAEEC,cAFF,GAAA,aAAA,CAAA,cAAA;EAAA,IAGEC,YAHF,GAAA,aAAA,CAAA,YAAA;EAAA,IAIEC,eAJF,GAAA,aAAA,CAAA,eAAA;EAAA,IAKEC,SALF,GAAA,aAAA,CAAA,SAAA;EAAA,IAMEC,MANF,GAAA,aAAA,CAAA,MAAA;;EAQA,IAAA,eAAA,GAAcE,cAAd,EAAA;EAAA,IAAQD,CAAR,GAAA,eAAA,CAAA,CAAA;;EACA,IAAME,GAAG,GAAGC,UAAU,CAAtB,cAAsB,CAAtB;EACA,IAAMC,QAAQ,GAAGC,WAAjB,EAAA;;EACA,IAAA,SAAA,GAA4BE,QAAQ,CAApC,SAAoC,CAApC;EAAA,IAAA,UAAA,GAAA,cAAA,CAAA,SAAA,EAAA,CAAA,CAAA;EAAA,IAAOpB,MAAP,GAAA,UAAA,CAAA,CAAA,CAAA;EAAA,IAAemB,SAAf,GAAA,UAAA,CAAA,CAAA,CAAA;;EAEA,IAAME,aAAa,GAAbA,SAAAA,aAAAA,GAAsB;IAE1B,IAAA,SAAA,EAAe;MACbC,OAAO,CAAPA,GAAAA,CAAAA,0BAAAA,cAAAA,GAAAA,eAAAA,GAAAA,MAAAA;MAIAhB,UAAU,CAAVA,MAAAA;;MACA,IAAIK,SAAS,IAAIC,MAAM,KAAKb,cAAc,CAA1C,OAAA,EAAoD;QAClDkB,QAAQ,CAACM,gBAAgB,CAAC;UAAEC,EAAE,EAAJ,YAAA;UAAoBxB,MAAM,EAA1B,MAAA;UAA4Be,GAAG,EAAzDE;QAA0B,CAAD,CAAjB,CAARA;MAGH;IAVD,CAAA,MAUO;MAELX,UAAU,CAAVA,MAAAA;MAEAA,UAAU,CAAVA,QAAAA,CAAAA,eAAAA,EAAqC;QACnCC,YAAY,EADdD;MAAqC,CAArCA;MAGAW,QAAQ,CACNQ,kBAAkB,CAAC;QACjBD,EAAE,EADe,YAAA;QAEjBE,KAAK,EAAEC,iBAAiB,CAH5BV;MACqB,CAAD,CADZ,CAARA;MAMAA,QAAQ,CACNW,eAAe,CAAC;QACdJ,EAAE,EADY,YAAA;QAEdxB,MAAM,EAHViB;MACkB,CAAD,CADT,CAARA;IAOF;;IAAA,IAAA,eAAA,EAAqB;MACnBP,eAAe,CAAfA,MAAe,CAAfA;IAEH;EAnCD,CAAA;;EAqCA,IAAMmB,YAAY,GAAZA,SAAAA,YAAAA,GAAqB;IACzBvB,UAAU,CAAVA,MAAAA;EADF,CAAA;;EAIA,IAAMwB,kBAAkB,GAAlBA,SAAAA,kBAAAA,CAAqB,SAArBA,EAAkD;IAAA,IAAA,oBAAA;;IACtD,IAAMC,MAAM,GAAGC,SAAS,KAAxB,MAAA;IACA,OACE,KAAA,CAAA,gBAAA,EAAA;MACE,MAAM,EAAKA,SAAL,GADR,WAAA;MAGE,OAAO,EAAE,SAAA,OAAA,GAAA;QAAA,OAAMb,SAAS,CAAf,SAAe,CAAf;MAHX,CAAA;MAIE,KAAK,EAAEc,MAAM,CAJf,WAAA;MAAA,QAAA,EAAA,CAME,IAAA,CAAA,IAAA,EAAA;QAAM,KAAK,EAAEA,MAAM,CAAnB,WAAA;QAAA,QAAA,EACGF,MAAM,IAAI,IAAA,CAAA,IAAA,EAAA;UAAM,KAAK,EAAEE,MAAM,CAPlC;QAOe,CAAA;MADb,CAAA,CANF,EASE,IAAA,CAAA,IAAA,EAAA;QAAM,KAAK,EAAEA,MAAM,CAAnB,UAAA;QAAA,QAAA,EACE,IAAA,CAAA,IAAA,EAAA;UAAM,KAAK,EAAEA,MAAM,CAAnB,cAAA;UAAA,QAAA,EAAA,CAAA,oBAAA,GACGnC,OAAO,CAAPA,MAAO,CAAPA,CAAAA,IAAAA,CAAqB,UAAA,CAAA,EAAA;YAAA,OAAOoC,CAAC,CAADA,MAAAA,KAAP,SAAA;UADxB,CACGpC,CADH,KAAA,IAAA,GAAA,KAAA,CAAA,GACGA,oBAAAA,CAXP;QAUI,CAAA;MADF,CAAA,CATF;IAAA,CAAA,EADF,SACE,CADF;EAFF,CAAA;;EAqBA,IAAMqC,oBAAoB,GAAGtB,CAAC,CAAA,6BAE1BD,MAAM,KAAKb,cAAc,CAAzBa,OAAAA,GAAAA,QAAAA,GAF0B,QAAA,IAAA,YAAA,EAI5B;IACEwB,IAAI,EALR;EAIE,CAJ4B,CAA9B;EAQA,IAAMC,sBAAsB,GAAGxB,CAAC,CAAA,2CAAA,EAE9B;IACEuB,IAAI,EAHR;EAEE,CAF8B,CAAhC;EAMA,IAAME,2BAA2B,GAAGzB,CAAC,CAAA,gCAEjCD,MAAM,KAAKb,cAAc,CAAzBa,OAAAA,GAAAA,QAAAA,GAFiC,QAAA,CAAA,EAArC,uDAAqC,CAArC;EAMA,IAAM2B,6BAA6B,GAAG1B,CAAC,CAAA,uCAAA,EAErC;IACEuB,IAAI,EADN,cAAA;IAEE3B,YAAY,EAJhB;EAEE,CAFqC,CAAvC;EAOA,IAAM+B,cAAc,GAAG7B,SAAS,IAAI,CAApC,MAAA;EACA,OACE,KAAA,CAAA,IAAA,EAAA;IAAM,KAAK,EAAEsB,MAAM,CAAnB,SAAA;IAA+B,MAAM,EAArC,mBAAA;IAAA,QAAA,EAAA,CACE,IAAA,CAAA,QAAA,EAAA;MACE,KAAK,EAAEA,MAAM,CADf,QAAA;MAEE,QAAQ,EAFV,MAAA;MAGE,UAAU,EAHZ,CAAA;MAIE,gCAAgC,EALpC;IACE,CAAA,CADF,EAOE,KAAA,CAAA,IAAA,EAAA;MAAM,KAAK,EAAEA,MAAM,CAAnB,cAAA;MAAA,QAAA,EAAA,CACE,IAAA,CAAA,IAAA,EAAA;QAAM,KAAK,EAAEA,MAAM,CAAnB,MAAA;QAAA,QAAA,EACE,IAAA,CAAA,IAAA,EAAA;UAAM,KAAK,EAAEA,MAAM,CAAnB,UAAA;UAAA,QAAA,EACGtB,SAAS,GAAA,oBAAA,GAHhB;QAEI,CAAA;MADF,CAAA,CADF,EAME,KAAA,CAAA,IAAA,EAAA;QAAM,KAAK,EAAEsB,MAAM,CAAnB,OAAA;QAAA,QAAA,EAAA,CACE,IAAA,CAAA,QAAA,EAAA;UAAU,IAAI,EAAd,aAAA;UAA6B,IAAI,EAAjC,EAAA;UAAuC,KAAK,EAD9C;QACE,CAAA,CADF,EAEE,IAAA,CAAA,IAAA,EAAA;UAAM,KAAK,EAAEA,MAAM,CAAnB,WAAA;UAAA,QAAA,EACGtB,SAAS,GAAA,2BAAA,GAThB;QAQI,CAAA,CAFF;MAAA,CAAA,CANF,EAcE,IAAA,CAAA,IAAA,EAAA;QAAM,KAAK,EAAEsB,MAAM,CAdrB;MAcE,CAAA,CAdF,EAeGtB,SAAS,IACR,IAAA,CAAA,IAAA,EAAA;QAAM,KAAK,EAAEsB,MAAM,CAAnB,qBAAA;QAAA,QAAA,EACGnC,OAAO,CAAPA,MAAO,CAAPA,CAAAA,GAAAA,CAAoB,UAAA,CAAA,EAAA;UAAA,OAAOgC,kBAAkB,CAACI,CAAC,CAA3B,MAAyB,CAAzB;QAjB3B,CAiBOpC;MADH,CAAA,CAhBJ,EAoBE,KAAA,CAAA,IAAA,EAAA;QAAM,KAAK,EAAEmC,MAAM,CAAnB,YAAA;QAAA,QAAA,EAAA,CACE,IAAA,CAAA,gBAAA,EAAA;UACE,MAAM,EADR,iBAAA;UAEE,KAAK,EAAE,CAACA,MAAM,CAAP,WAAA,EAAqBA,MAAM,CAFpC,YAES,CAFT;UAGE,OAAO,EAHT,aAAA;UAIE,QAAQ,EAJV,cAAA;UAAA,QAAA,EAME,IAAA,CAAA,IAAA,EAAA;YACE,KAAK,EACHO,cAAc,GACVP,MAAM,CADI,wBAAA,GAEVA,MAAM,CAJd,gBAAA;YAAA,QAAA,EAOGtB,SAAS,GACNE,CAAC,CADK,uCACL,CADK,GAENA,CAAC,CAhBX,6BAgBW;UATP,CAAA;QANF,CAAA,CADF,EAmBE,IAAA,CAAA,gBAAA,EAAA;UACE,MAAM,EADR,iBAAA;UAEE,KAAK,EAAE,CAACoB,MAAM,CAAP,WAAA,EAAqBA,MAAM,CAFpC,YAES,CAFT;UAGE,OAAO,EAHT,YAAA;UAAA,QAAA,EAKE,IAAA,CAAA,IAAA,EAAA;YAAM,KAAK,EAAEA,MAAM,CAAnB,gBAAA;YAAA,QAAA,EACGpB,CAAC,CArDd,uCAqDc;UADJ,CAAA;QALF,CAAA,CAnBF;MAAA,CAAA,CApBF;IAAA,CAAA,CAPF;EAAA,CAAA,CADF;AAxGF,CAAA;;AAsKA,IAAMoB,MAAM,GAAGQ,UAAU,CAAVA,MAAAA,CAAkB;EAC/BC,QAAQ,EAAE;IACRC,QAAQ,EADA,UAAA;IAERC,IAAI,EAFI,CAAA;IAGRC,KAAK,EAHG,CAAA;IAIRC,GAAG,EAJK,CAAA;IAKRC,MAAM,EANuB;EACrB,CADqB;EAQ/BC,SAAS,EAAE;IACTC,IAAI,EADK,CAAA;IAETC,UAAU,EAFD,QAAA;IAGTC,cAAc,EAXe;EAQpB,CARoB;EAa/BC,cAAc,EAAE;IACdF,UAAU,EADI,QAAA;IAEdC,cAAc,EAFA,QAAA;IAGdE,eAAe,EAHD,KAAA;IAIdC,KAAK,EAJS,KAAA;IAKdC,YAAY,EALE,EAAA;IAMdC,OAAO,EAAEC,YAAY,GAAA,EAAA,GAnBQ;EAaf,CAbe;EAqB/BC,MAAM,EAAE;IACNC,SAAS,EADH,CAAA;IAENC,YAAY,EAvBiB;EAqBvB,CArBuB;EAyB/BC,UAAU,EAAE;IACVC,UAAU,EADA,cAAA;IAEVC,QAAQ,EAAEA,QAAQ,CAFR,EAEQ,CAFR;IAGVC,SAAS,EA5BoB;EAyBnB,CAzBmB;EA8B/BC,OAAO,EAAE;IACPC,aAAa,EA/BgB;EA8BtB,CA9BsB;EAiC/BC,WAAW,EAAE;IACXL,UAAU,EADC,gBAAA;IAEXC,QAAQ,EAAEA,QAAQ,CAFP,EAEO,CAFP;IAGXC,SAAS,EAHE,MAAA;IAIXI,UAAU,EAJC,EAAA;IAKXC,KAAK,EAtCwB;EAiClB,CAjCkB;EAwC/BC,OAAO,EAAE;IACPC,cAAc,EAAE9B,UAAU,CADnB,aAAA;IAEP+B,cAAc,EAFP,MAAA;IAGPlB,KAAK,EAHE,MAAA;IAIPmB,MAAM,EAJC,CAAA;IAKPd,SAAS,EAAEF,YAAY,GAAA,EAAA,GALhB,EAAA;IAMPG,YAAY,EAAEH,YAAY,GAAA,EAAA,GA9CG;EAwCtB,CAxCsB;EAgD/BiB,eAAe,EAAE;IACfxB,UAAU,EADK,QAAA;IAEfC,cAAc,EAlDe;EAgDd,CAhDc;EAoD/BwB,qBAAqB,EAAE;IACrBP,UAAU,EADW,EAAA;IAErBR,YAAY,EAtDiB;EAoDR,CApDQ;EAwD/BgB,WAAW,EAAE;IACXV,aAAa,EADF,KAAA;IAEXf,cAAc,EAFH,YAAA;IAGXD,UAAU,EAHC,QAAA;IAIXS,SAAS,EAJE,CAAA;IAKXC,YAAY,EA7DiB;EAwDlB,CAxDkB;EA+D/BiB,WAAW,EAAE;IACXJ,MAAM,EADK,EAAA;IAEXnB,KAAK,EAFM,EAAA;IAGXC,YAAY,EAHD,EAAA;IAIXuB,WAAW,EAJA,CAAA;IAKXC,WAAW,EALA,MAAA;IAMX7B,UAAU,EANC,QAAA;IAOXC,cAAc,EAtEe;EA+DlB,CA/DkB;EAwE/B6B,gBAAgB,EAAE;IAChBP,MAAM,EADU,EAAA;IAEhBnB,KAAK,EAFW,EAAA;IAGhBC,YAAY,EAHI,EAAA;IAIhBF,eAAe,EA5Ec;EAwEb,CAxEa;EA8E/B4B,UAAU,EAAE;IACVb,UAAU,EAAEX,YAAY,GAAA,EAAA,GADd,EAAA;IAEVyB,WAAW,EAAEzB,YAAY,GAAA,EAAA,GAhFI;EA8EnB,CA9EmB;EAkF/B0B,cAAc,EAAE;IACdrB,UAAU,EADI,gBAAA;IAEdC,QAAQ,EAAEA,QAAQ,CAFJ,EAEI,CAFJ;IAGdM,KAAK,EArFwB;EAkFf,CAlFe;EAuF/Be,YAAY,EAAE;IACZlB,aAAa,EADD,KAAA;IAEZf,cAAc,EAFF,eAAA;IAGZQ,SAAS,EA1FoB;EAuFjB,CAvFiB;EA4F/B0B,WAAW,EAAE;IACXpC,IAAI,EADO,CAAA;IAEXqC,UAAU,EAFC,EAAA;IAGXC,aAAa,EAHF,EAAA;IAIXnB,UAAU,EAJC,EAAA;IAKXc,WAAW,EALA,EAAA;IAMXhC,UAAU,EANC,QAAA;IAOXC,cAAc,EAnGe;EA4FlB,CA5FkB;EAqG/BqC,YAAY,EAAE;IACZnC,eAAe,EADH,KAAA;IAEZE,YAAY,EAFA,EAAA;IAGZwB,WAAW,EAHC,WAAA;IAIZD,WAAW,EAzGkB;EAqGjB,CArGiB;EA2G/BW,gBAAgB,EAAE;IAChB3B,UAAU,EADM,cAAA;IAEhBC,QAAQ,EAAEA,QAAQ,CAFF,EAEE,CAFF;IAGhBM,KAAK,EA9GwB;EA2Gb,CA3Ga;EAgH/BqB,YAAY,EAAE;IACZrC,eAAe,EADH,KAAA;IAEZE,YAAY,EAFA,EAAA;IAGZwB,WAAW,EAHC,KAAA;IAIZD,WAAW,EApHkB;EAgHjB,CAhHiB;EAsH/Ba,gBAAgB,EAAE;IAChB7B,UAAU,EADM,cAAA;IAEhBC,QAAQ,EAAEA,QAAQ,CAFF,EAEE,CAFF;IAGhBM,KAAK,EAzHwB;EAsHb,CAtHa;EA2H/BuB,wBAAwB,EAAE;IACxB9B,UAAU,EADc,cAAA;IAExBC,QAAQ,EAAEA,QAAQ,CAFM,EAEN,CAFM;IAGxBM,KAAK,EA9HT;EA2H4B;AA3HK,CAAlB5B,CAAf;AAkIA,eAAA,iBAAA","sourcesContent":["import React, { useContext, useState } from 'react';\nimport { View, StyleSheet, Text, TouchableOpacity } from 'react-native';\nimport i18next from 'i18next';\nimport BlurWidget from '@/components/BlurWidget/BlurWidget.web';\nimport Material from 'react-native-vector-icons/MaterialCommunityIcons';\nimport { useTranslation } from 'react-i18next';\nimport { StackScreenProps } from '@react-navigation/stack';\nimport { DEVICE_LARGE } from '@/utils/deviceConstants';\nimport { useDispatch } from '@/store';\nimport {\n  connection_levels,\n  report_reasons,\n  report_sources,\n} from '@/utils/constants';\nimport { ORANGE, WHITE, BLUE, BLACK, DARKER_GREY, GREEN } from '@/theme/colors';\nimport { fontSize } from '@/theme/fonts';\nimport { setReportReason } from '@/reducer/connectionsSlice';\nimport { NodeApiContext } from '@/components/NodeApiGate';\nimport { setConnectionLevel } from '@/actions';\nimport { reportConnection } from './models/reportConnection';\n\nconst reasons = {\n  [report_sources.RECONNECT]: [\n    {\n      reason: report_reasons.SPAMMER,\n      description: i18next.t('connectionDetails.text.reportSpammer'),\n    },\n    {\n      reason: report_reasons.DUPLICATE,\n      description: i18next.t('connectionDetails.text.reportSuspicious'),\n    },\n    {\n      reason: report_reasons.OTHER,\n      description: i18next.t('connectionDetails.text.reportOther'),\n    },\n  ],\n  [report_sources.PREVIEW]: [\n    {\n      reason: report_reasons.SPAMMER,\n      description: i18next.t('connectionDetails.text.reportSpammer'),\n    },\n    {\n      reason: report_reasons.DUPLICATE,\n      description: i18next.t('connectionDetails.text.reportDuplicate'),\n    },\n    {\n      reason: report_reasons.OTHER,\n      description: i18next.t('connectionDetails.text.reportOther'),\n    },\n  ],\n  [report_sources.PROFILE]: [\n    {\n      reason: report_reasons.REPLACED,\n      description: i18next.t('connectionDetails.text.reportReplaced'),\n    },\n    {\n      reason: report_reasons.DUPLICATE,\n      description: i18next.t('connectionDetails.text.reportDuplicate'),\n    },\n    {\n      reason: report_reasons.OTHER,\n      description: i18next.t('connectionDetails.text.reportOther'),\n    },\n  ],\n};\n\ntype props = StackScreenProps<ModalStackParamList, 'ReportReason'>;\n\nconst ReportReasonModal = ({ route, navigation }: props) => {\n  const {\n    connectionId,\n    connectionName,\n    reportReason,\n    successCallback,\n    reporting,\n    source,\n  } = route.params;\n  const { t } = useTranslation();\n  const api = useContext(NodeApiContext);\n  const dispatch = useDispatch();\n  const [reason, setReason] = useState<ReportReason>(undefined);\n\n  const confirmReport = () => {\n    // inside report module\n    if (reporting) {\n      console.log(\n        `Reporting connection ${connectionName} with reason ${reason}`,\n      );\n      // close modal\n      navigation.goBack();\n      if (reporting && source === report_sources.PROFILE) {\n        dispatch(reportConnection({ id: connectionId, reason, api }));\n      }\n      // inside undo report module\n    } else {\n      // close modal\n      navigation.goBack();\n      // open TrustLevel modal\n      navigation.navigate('SetTrustlevel', {\n        connectionId,\n      });\n      dispatch(\n        setConnectionLevel({\n          id: connectionId,\n          level: connection_levels.SUSPICIOUS,\n        }),\n      );\n      dispatch(\n        setReportReason({\n          id: connectionId,\n          reason: null,\n        }),\n      );\n    }\n    if (successCallback) {\n      successCallback(reason);\n    }\n  };\n\n  const cancelReport = () => {\n    navigation.goBack();\n  };\n\n  const renderReasonButton = (btnReason: ReportReason) => {\n    const active = btnReason === reason;\n    return (\n      <TouchableOpacity\n        testID={`${btnReason}-RadioBtn`}\n        key={btnReason}\n        onPress={() => setReason(btnReason)}\n        style={styles.radioButton}\n      >\n        <View style={styles.radioCircle}>\n          {active && <View style={styles.radioInnerCircle} />}\n        </View>\n        <View style={styles.radioLabel}>\n          <Text style={styles.radioLabelText}>\n            {reasons[source].find((r) => r.reason === btnReason)?.description}\n          </Text>\n        </View>\n      </TouchableOpacity>\n    );\n  };\n\n  const reportConnectionText = t(\n    `connectionDetails.text.${\n      source === report_sources.PROFILE ? 'remove' : 'report'\n    }Connection`,\n    {\n      name: connectionName,\n    },\n  );\n  const unReportConnectionText = t(\n    'connectionDetails.text.unReportConnection',\n    {\n      name: connectionName,\n    },\n  );\n  const reportConnectionDetailsText = t(\n    `connectionDetails.text.why${\n      source === report_sources.PROFILE ? 'remove' : 'report'\n    }`,\n    'Please tell us why you want to remove this connection',\n  );\n  const unReportConnectionDetailsText = t(\n    'connectionDetails.text.unReportImpact',\n    {\n      name: connectionName,\n      reportReason,\n    },\n  );\n  const submitDisabled = reporting && !reason;\n  return (\n    <View style={styles.container} testID=\"ReportReasonModal\">\n      <BlurView\n        style={styles.blurView}\n        blurType=\"dark\"\n        blurAmount={5}\n        reducedTransparencyFallbackColor={BLACK}\n      />\n      <View style={styles.modalContainer}>\n        <View style={styles.header}>\n          <Text style={styles.headerText}>\n            {reporting ? reportConnectionText : unReportConnectionText}\n          </Text>\n        </View>\n        <View style={styles.message}>\n          <Material name=\"information\" size={26} color={BLUE} />\n          <Text style={styles.messageText}>\n            {reporting\n              ? reportConnectionDetailsText\n              : unReportConnectionDetailsText}\n          </Text>\n        </View>\n        <View style={styles.divider} />\n        {reporting && (\n          <View style={styles.radioButtonsContainer}>\n            {reasons[source].map((r) => renderReasonButton(r.reason))}\n          </View>\n        )}\n        <View style={styles.modalButtons}>\n          <TouchableOpacity\n            testID=\"SubmitReportBtn\"\n            style={[styles.modalButton, styles.submitButton]}\n            onPress={confirmReport}\n            disabled={submitDisabled}\n          >\n            <Text\n              style={\n                submitDisabled\n                  ? styles.submitButtonDisabledText\n                  : styles.submitButtonText\n              }\n            >\n              {reporting\n                ? t('connectionDetails.button.reportSubmit')\n                : t('connectionDetails.button.ok')}\n            </Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n            testID=\"CancelReportBtn\"\n            style={[styles.modalButton, styles.cancelButton]}\n            onPress={cancelReport}\n          >\n            <Text style={styles.cancelButtonText}>\n              {t('connectionDetails.button.reportCancel')}\n            </Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  blurView: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n  },\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  modalContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: WHITE,\n    width: '90%',\n    borderRadius: 25,\n    padding: DEVICE_LARGE ? 30 : 25,\n  },\n  header: {\n    marginTop: 5,\n    marginBottom: 25,\n  },\n  headerText: {\n    fontFamily: 'Poppins-Bold',\n    fontSize: fontSize[22],\n    textAlign: 'center',\n  },\n  message: {\n    flexDirection: 'row',\n  },\n  messageText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[13],\n    textAlign: 'left',\n    marginLeft: 10,\n    color: DARKER_GREY,\n  },\n  divider: {\n    borderTopWidth: StyleSheet.hairlineWidth,\n    borderTopColor: ORANGE,\n    width: '105%',\n    height: 1,\n    marginTop: DEVICE_LARGE ? 24 : 22,\n    marginBottom: DEVICE_LARGE ? 24 : 22,\n  },\n  buttonContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  radioButtonsContainer: {\n    marginLeft: 10,\n    marginBottom: 20,\n  },\n  radioButton: {\n    flexDirection: 'row',\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n    marginTop: 8,\n    marginBottom: 8,\n  },\n  radioCircle: {\n    height: 20,\n    width: 20,\n    borderRadius: 10,\n    borderWidth: 3,\n    borderColor: ORANGE,\n    alignItems: 'center', // To center the checked circle…\n    justifyContent: 'center',\n  },\n  radioInnerCircle: {\n    height: 10,\n    width: 10,\n    borderRadius: 10,\n    backgroundColor: ORANGE,\n  },\n  radioLabel: {\n    marginLeft: DEVICE_LARGE ? 12 : 10,\n    marginRight: DEVICE_LARGE ? 12 : 10,\n  },\n  radioLabelText: {\n    fontFamily: 'Poppins-Medium',\n    fontSize: fontSize[15],\n    color: BLACK,\n  },\n  modalButtons: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginTop: 10,\n  },\n  modalButton: {\n    flex: 1,\n    paddingTop: 10,\n    paddingBottom: 10,\n    marginLeft: 10,\n    marginRight: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  cancelButton: {\n    backgroundColor: WHITE,\n    borderRadius: 50,\n    borderColor: DARKER_GREY,\n    borderWidth: 1,\n  },\n  cancelButtonText: {\n    fontFamily: 'Poppins-Bold',\n    fontSize: fontSize[15],\n    color: DARKER_GREY,\n  },\n  submitButton: {\n    backgroundColor: GREEN,\n    borderRadius: 50,\n    borderColor: GREEN,\n    borderWidth: 1,\n  },\n  submitButtonText: {\n    fontFamily: 'Poppins-Bold',\n    fontSize: fontSize[15],\n    color: BLACK,\n  },\n  submitButtonDisabledText: {\n    fontFamily: 'Poppins-Bold',\n    fontSize: fontSize[15],\n    color: DARKER_GREY,\n  },\n});\n\nexport default ReportReasonModal;\n"]},"metadata":{},"sourceType":"module"}